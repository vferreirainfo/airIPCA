/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details

	Build based on IBM Dojo 1.9.3-fd52c96

	This file contains Dojo code and also custom JavaScript for Lufthansa.
*///>>built
require({cache:{"dojo/main":function(){define("./_base/kernel ./has require ./sniff ./_base/lang ./_base/array ./_base/config ./ready ./_base/declare ./_base/connect ./_base/Deferred ./_base/json ./_base/Color require ./_base/browser ./_base/loader".split(" "),function(c,g,l,b,a,d,e,f){e.isDebug&&l(["./_firebug/firebug"]);var k=e.require;k&&(k=d.map(a.isArray(k)?k:[k],function(a){return a.replace(/\./g,"/")}),c.isAsync?l(k):f(1,function(){l(k)}));return c})},"dojo/_base/declare":function(){define(["./kernel",
"../has","./lang"],function(c,g,l){function b(a,b){throw Error("declare"+(b?" "+b:"")+": "+a);}function a(a,d,c){var m,f,e,k,p,n,q,r=this._inherited=this._inherited||{};"string"==typeof a&&(m=a,a=d,d=c);c=0;k=a.callee;(m=m||k.nom)||b("can't deduce a name to call inherited()",this.declaredClass);p=this.constructor._meta;e=p.bases;q=r.p;if(m!=B){if(r.c!==k&&(q=0,n=e[0],p=n._meta,p.hidden[m]!==k)){(f=p.chains)&&"string"==typeof f[m]&&b("calling chained method with inherited: "+m,this.declaredClass);
do if(p=n._meta,f=n.prototype,p&&(f[m]===k&&f.hasOwnProperty(m)||p.hidden[m]===k))break;while(n=e[++q]);q=n?q:-1}if(n=e[++q])if(f=n.prototype,n._meta&&f.hasOwnProperty(m))c=f[m];else{k=w[m];do if(f=n.prototype,(c=f[m])&&(n._meta?f.hasOwnProperty(m):c!==k))break;while(n=e[++q])}c=n&&c||w[m]}else{if(r.c!==k&&(q=0,(p=e[0]._meta)&&p.ctor!==k)){for((f=p.chains)&&"manual"===f.constructor||b("calling chained constructor with inherited",this.declaredClass);(n=e[++q])&&(!(p=n._meta)||p.ctor!==k););q=n?q:-1}for(;(n=
e[++q])&&!(c=(p=n._meta)?p.ctor:n););c=n&&c}r.c=c;r.p=q;if(c)return!0===d?c:c.apply(this,d||a)}function d(a,b){return"string"==typeof a?this.__inherited(a,b,!0):this.__inherited(a,!0)}function e(a,b,d){var c=this.getInherited(a,b);if(c)return c.apply(this,d||b||a)}function f(a){for(var b=this.constructor._meta.bases,d=0,c=b.length;d<c;++d)if(b[d]===a)return!0;return this instanceof a}function k(a,b){for(var d in b)d!=B&&b.hasOwnProperty(d)&&(a[d]=b[d]);if(g("bug-for-in-skips-shadowed"))for(var c=
l._extraNames,m=c.length;m;)d=c[--m],d!=B&&b.hasOwnProperty(d)&&(a[d]=b[d])}function m(a){v.safeMixin(this.prototype,a);return this}function p(a,b){return v([this].concat(a),b||{})}function q(a,b){return function(){var d=arguments,c=d,m=d[0],f,k;k=a.length;var e;if(!(this instanceof d.callee))return u(d);if(b&&(m&&m.preamble||this.preamble))for(e=Array(a.length),e[0]=d,f=0;;){(m=d[0])&&(m=m.preamble)&&(d=m.apply(this,d)||d);m=a[f].prototype;(m=m.hasOwnProperty("preamble")&&m.preamble)&&(d=m.apply(this,
d)||d);if(++f==k)break;e[f]=d}for(f=k-1;0<=f;--f)m=a[f],(m=(k=m._meta)?k.ctor:m)&&m.apply(this,e?e[f]:d);(m=this.postscript)&&m.apply(this,c)}}function n(a,b){return function(){var d=arguments,c=d,m=d[0];if(!(this instanceof d.callee))return u(d);b&&(m&&(m=m.preamble)&&(c=m.apply(this,c)||c),(m=this.preamble)&&m.apply(this,c));a&&a.apply(this,d);(m=this.postscript)&&m.apply(this,d)}}function r(a){return function(){var b=arguments,d=0,c,m;if(!(this instanceof b.callee))return u(b);for(;c=a[d];++d)if(c=
(m=c._meta)?m.ctor:c){c.apply(this,b);break}(c=this.postscript)&&c.apply(this,b)}}function t(a,b,d){return function(){var c,m,f=0,k=1;d&&(f=b.length-1,k=-1);for(;c=b[f];f+=k)m=c._meta,(c=(m?m.hidden:c.prototype)[a])&&c.apply(this,arguments)}}function s(a){z.prototype=a.prototype;a=new z;z.prototype=null;return a}function u(a){var b=a.callee,d=s(b);b.apply(d,a);return d}function v(c,e,u){"string"!=typeof c&&(u=e,e=c,c="");u=u||{};var g,z,G,F,K,H,N,R=1,V=e;if("[object Array]"==A.call(e)){R=c;G=[];F=
[{cls:0,refs:[]}];H={};for(var S=1,U=e.length,Q=0,L,T,J,O;Q<U;++Q){(L=e[Q])?"[object Function]"!=A.call(L)&&b("mixin #"+Q+" is not a callable constructor.",R):b("mixin #"+Q+" is unknown. Did you use dojo.require to pull it in?",R);T=L._meta?L._meta.bases:[L];J=0;for(L=T.length-1;0<=L;--L)O=T[L].prototype,O.hasOwnProperty("declaredClass")||(O.declaredClass="uniqName_"+y++),O=O.declaredClass,H.hasOwnProperty(O)||(H[O]={count:0,refs:[],cls:T[L]},++S),O=H[O],J&&J!==O&&(O.refs.push(J),++J.count),J=O;++J.count;
F[0].refs.push(J)}for(;F.length;){J=F.pop();G.push(J.cls);for(--S;z=J.refs,1==z.length;){J=z[0];if(!J||--J.count){J=0;break}G.push(J.cls);--S}if(J)for(Q=0,U=z.length;Q<U;++Q)J=z[Q],--J.count||F.push(J)}S&&b("can't build consistent linearization",R);L=e[0];G[0]=L?L._meta&&L===G[G.length-L._meta.bases.length]?L._meta.bases.length:1:0;H=G;G=H[0];R=H.length-G;e=H[R]}else H=[0],e?"[object Function]"==A.call(e)?(G=e._meta,H=H.concat(G?G.bases:e)):b("base class is not a callable constructor.",c):null!==
e&&b("unknown base class. Did you use dojo.require to pull it in?",c);if(e)for(z=R-1;;--z){g=s(e);if(!z)break;G=H[z];(G._meta?k:x)(g,G.prototype);F=new Function;F.superclass=e;F.prototype=g;e=g.constructor=F}else g={};v.safeMixin(g,u);G=u.constructor;G!==w.constructor&&(G.nom=B,g.constructor=G);for(z=R-1;z;--z)(G=H[z]._meta)&&G.chains&&(N=x(N||{},G.chains));g["-chains-"]&&(N=x(N||{},g["-chains-"]));G=!N||!N.hasOwnProperty(B);H[0]=F=N&&"manual"===N.constructor?r(H):1==H.length?n(u.constructor,G):q(H,
G);F._meta={bases:H,hidden:u,chains:N,parents:V,ctor:u.constructor};F.superclass=e&&e.prototype;F.extend=m;F.createSubclass=p;F.prototype=g;g.constructor=F;g.getInherited=d;g.isInstanceOf=f;g.inherited=D;g.__inherited=a;c&&(g.declaredClass=c,l.setObject(c,F));if(N)for(K in N)g[K]&&"string"==typeof N[K]&&K!=B&&(G=g[K]=t(K,H,"after"===N[K]),G.nom=K);return F}var x=l.mixin,w=Object.prototype,A=w.toString,z=new Function,y=0,B="constructor",D=c.config.isDebug?e:a;c.safeMixin=v.safeMixin=function(a,b){var d,
c;for(d in b)c=b[d],c===w[d]&&d in w||d==B||("[object Function]"==A.call(c)&&(c.nom=d),a[d]=c);if(g("bug-for-in-skips-shadowed"))for(var m=l._extraNames,f=m.length;f;)d=m[--f],c=b[d],c===w[d]&&d in w||d==B||("[object Function]"==A.call(c)&&(c.nom=d),a[d]=c);return a};return c.declare=v})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),function(c,g,l,b,a,d,e,f){function k(a,m,e,k,p){k=f.hitch(e,k);if(!a||!a.addEventListener&&
!a.attachEvent)return b.after(a||c.global,m,k,!0);"string"==typeof m&&"on"==m.substring(0,2)&&(m=m.substring(2));a||(a=c.global);if(!p)switch(m){case "keypress":m=r;break;case "mouseenter":m=d.enter;break;case "mouseleave":m=d.leave}return g(a,m,k,p)}function m(a){a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}e.add("events-keypress-typed",function(){var a={charCode:0};try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,
"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(b){}return 0==a.charCode&&!e("opera")});var p={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},q=e("mac")?"metaKey":"ctrlKey",n=function(a,b){var d=f.mixin({},a,b);m(d);d.preventDefault=function(){a.preventDefault()};d.stopPropagation=function(){a.stopPropagation()};return d},r;r=e("events-keypress-typed")?function(a,b){var d=g(a,"keydown",function(a){var d=a.keyCode,c=13!=d&&32!=d&&(27!=d||!e("ie"))&&
(48>d||90<d)&&(96>d||111<d)&&(186>d||192<d)&&(219>d||222<d)&&229!=d;if(c||a.ctrlKey){c=c?0:d;if(a.ctrlKey){if(3==d||13==d)return b.call(a.currentTarget,a);c=95<c&&106>c?c-48:!a.shiftKey&&65<=c&&90>=c?c+32:p[c]||c}d=n(a,{type:"keypress",faux:!0,charCode:c});b.call(a.currentTarget,d);if(e("ie"))try{a.keyCode=d.keyCode}catch(m){}}}),c=g(a,"keypress",function(a){var d=a.charCode;a=n(a,{charCode:32<=d?d:0,faux:!0});return b.call(this,a)});return{remove:function(){d.remove();c.remove()}}}:e("opera")?function(a,
b){return g(a,"keypress",function(a){var d=a.which;3==d&&(d=99);d=32>d&&!a.shiftKey?0:d;a.ctrlKey&&!a.shiftKey&&65<=d&&90>=d&&(d+=32);return b.call(this,n(a,{charCode:d}))})}:function(a,b){return g(a,"keypress",function(a){m(a);return b.call(this,a)})};var t={_keypress:r,connect:function(a,b,d,c,m){var f=arguments,e=[],p=0;e.push("string"==typeof f[0]?null:f[p++],f[p++]);var n=f[p+1];e.push("string"==typeof n||"function"==typeof n?f[p++]:null,f[p++]);for(n=f.length;p<n;p++)e.push(f[p]);return k.apply(this,
e)},disconnect:function(a){a&&a.remove()},subscribe:function(a,b,d){return l.subscribe(a,f.hitch(b,d))},publish:function(a,b){return l.publish.apply(l,[a].concat(b))},connectPublisher:function(a,b,d){var c=function(){t.publish(a,arguments)};return d?t.connect(b,d,c):t.connect(b,c)},isCopyKey:function(a){return a[q]}};t.unsubscribe=t.disconnect;f.mixin(c,t);return t})},"dojo/topic":function(){define(["./Evented"],function(c){var g=new c;return{publish:function(c,b){return g.emit.apply(g,arguments)},
subscribe:function(c,b){return g.on.apply(g,arguments)}}})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(c,g,l,b){if(g._fixEvent){var a=g._fixEvent;g._fixEvent=function(d,c){(d=a(d,c))&&b.normalizeEvent(d);return d}}var d={fix:function(a,b){return g._fixEvent?g._fixEvent(a,b):a},stop:function(a){l("dom-addeventlistener")||a&&a.preventDefault?(a.preventDefault(),a.stopPropagation()):(a=a||window.event,a.cancelBubble=!0,g._preventDefault.call(a))}};c.fixEvent=
d.fix;c.stopEvent=d.stop;return d})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(c,g,l,b){function a(a,b,d,c,f,e){e=e||"px";a=a.style;isNaN(b)||(a.left=b+e);isNaN(d)||(a.top=d+e);0<=c&&(a.width=c+e);0<=f&&(a.height=f+e)}function d(a){return"button"==a.tagName.toLowerCase()||"input"==a.tagName.toLowerCase()&&"button"==(a.getAttribute("type")||"").toLowerCase()}function e(a){return"border-box"==f.boxModel||"table"==a.tagName.toLowerCase()||d(a)}
var f={boxModel:"content-box"};c("ie")&&(f.boxModel="BackCompat"==document.compatMode?"border-box":"content-box");f.getPadExtents=function(a,d){a=l.byId(a);var c=d||b.getComputedStyle(a),f=b.toPixelValue,e=f(a,c.paddingLeft),k=f(a,c.paddingTop),s=f(a,c.paddingRight),c=f(a,c.paddingBottom);return{l:e,t:k,r:s,b:c,w:e+s,h:k+c}};f.getBorderExtents=function(a,d){a=l.byId(a);var c=b.toPixelValue,f=d||b.getComputedStyle(a),e="none"!=f.borderLeftStyle?c(a,f.borderLeftWidth):0,k="none"!=f.borderTopStyle?c(a,
f.borderTopWidth):0,s="none"!=f.borderRightStyle?c(a,f.borderRightWidth):0,c="none"!=f.borderBottomStyle?c(a,f.borderBottomWidth):0;return{l:e,t:k,r:s,b:c,w:e+s,h:k+c}};f.getPadBorderExtents=function(a,d){a=l.byId(a);var c=d||b.getComputedStyle(a),e=f.getPadExtents(a,c),c=f.getBorderExtents(a,c);return{l:e.l+c.l,t:e.t+c.t,r:e.r+c.r,b:e.b+c.b,w:e.w+c.w,h:e.h+c.h}};f.getMarginExtents=function(a,d){a=l.byId(a);var c=d||b.getComputedStyle(a),f=b.toPixelValue,e=f(a,c.marginLeft),k=f(a,c.marginTop),s=f(a,
c.marginRight),c=f(a,c.marginBottom);return{l:e,t:k,r:s,b:c,w:e+s,h:k+c}};f.getMarginBox=function(a,d){a=l.byId(a);var e=d||b.getComputedStyle(a),k=f.getMarginExtents(a,e),r=a.offsetLeft-k.l,t=a.offsetTop-k.t,s=a.parentNode,g=b.toPixelValue;if(c("mozilla")){var v=parseFloat(e.left),e=parseFloat(e.top);isNaN(v)||isNaN(e)?s&&s.style&&(s=b.getComputedStyle(s),"visible"!=s.overflow&&(r+="none"!=s.borderLeftStyle?g(a,s.borderLeftWidth):0,t+="none"!=s.borderTopStyle?g(a,s.borderTopWidth):0)):(r=v,t=e)}else(c("opera")||
8==c("ie")&&!c("quirks"))&&s&&(s=b.getComputedStyle(s),r-="none"!=s.borderLeftStyle?g(a,s.borderLeftWidth):0,t-="none"!=s.borderTopStyle?g(a,s.borderTopWidth):0);return{l:r,t:t,w:a.offsetWidth+k.w,h:a.offsetHeight+k.h}};f.getContentBox=function(a,d){a=l.byId(a);var e=d||b.getComputedStyle(a),k=a.clientWidth,r=f.getPadExtents(a,e),t=f.getBorderExtents(a,e);k?(e=a.clientHeight,t.w=t.h=0):(k=a.offsetWidth,e=a.offsetHeight);c("opera")&&(r.l+=t.l,r.t+=t.t);return{l:r.l,t:r.t,w:k-r.w-t.w,h:e-r.h-t.h}};
f.setContentSize=function(b,d,c){b=l.byId(b);var k=d.w;d=d.h;e(b)&&(c=f.getPadBorderExtents(b,c),0<=k&&(k+=c.w),0<=d&&(d+=c.h));a(b,NaN,NaN,k,d)};var k={l:0,t:0,w:0,h:0};f.setMarginBox=function(m,p,q){m=l.byId(m);var n=q||b.getComputedStyle(m);q=p.w;var r=p.h,t=e(m)?k:f.getPadBorderExtents(m,n),n=f.getMarginExtents(m,n);if(c("webkit")&&d(m)){var s=m.style;0<=q&&!s.width&&(s.width="4px");0<=r&&!s.height&&(s.height="4px")}0<=q&&(q=Math.max(q-t.w-n.w,0));0<=r&&(r=Math.max(r-t.h-n.h,0));a(m,p.l,p.t,q,
r)};f.isBodyLtr=function(a){a=a||g.doc;return"ltr"==(g.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};f.docScroll=function(a){a=a||g.doc;var b=g.doc.parentWindow||g.doc.defaultView;return"pageXOffset"in b?{x:b.pageXOffset,y:b.pageYOffset}:(b=c("quirks")?g.body(a):a.documentElement)&&{x:f.fixIeBiDiScrollLeft(b.scrollLeft||0,a),y:b.scrollTop||0}};c("ie")&&(f.getIeDocumentElementOffset=function(a){a=a||g.doc;a=a.documentElement;if(8>c("ie")){var b=a.getBoundingClientRect(),d=b.left,b=b.top;
7>c("ie")&&(d+=a.clientLeft,b+=a.clientTop);return{x:0>d?0:d,y:0>b?0:b}}return{x:0,y:0}});f.fixIeBiDiScrollLeft=function(a,b){b=b||g.doc;var d=c("ie");if(d&&!f.isBodyLtr(b)){var e=c("quirks"),k=e?g.body(b):b.documentElement,t=g.global;6==d&&!e&&t.frameElement&&k.scrollHeight>k.clientHeight&&(a+=k.clientLeft);return 8>d||e?a+k.clientWidth-k.scrollWidth:-a}return a};f.position=function(a,b){a=l.byId(a);var d=g.body(a.ownerDocument),e=a.getBoundingClientRect(),e={x:e.left,y:e.top,w:e.right-e.left,h:e.bottom-
e.top};if(9>c("ie")){var k=f.getIeDocumentElementOffset(a.ownerDocument);e.x-=k.x+(c("quirks")?d.clientLeft+d.offsetLeft:0);e.y-=k.y+(c("quirks")?d.clientTop+d.offsetTop:0)}b&&(d=f.docScroll(a.ownerDocument),e.x+=d.x,e.y+=d.y);return e};f.getMarginSize=function(a,d){a=l.byId(a);var c=f.getMarginExtents(a,d||b.getComputedStyle(a)),e=a.getBoundingClientRect();return{w:e.right-e.left+c.w,h:e.bottom-e.top+c.h}};f.normalizeEvent=function(a){"layerX"in a||(a.layerX=a.offsetX,a.layerY=a.offsetY);if(!c("dom-addeventlistener")){var b=
a.target,b=b&&b.ownerDocument||document,d=c("quirks")?b.body:b.documentElement,e=f.getIeDocumentElementOffset(b);a.pageX=a.clientX+f.fixIeBiDiScrollLeft(d.scrollLeft||0,b)-e.x;a.pageY=a.clientY+(d.scrollTop||0)-e.y}};return f})},"dojo/dom-style":function(){define(["./sniff","./dom"],function(c,g){function l(a,b,f){b=b.toLowerCase();if(c("ie")||c("trident")){if("auto"==f){if("height"==b)return a.offsetHeight;if("width"==b)return a.offsetWidth}if("fontweight"==b)switch(f){case 700:return"bold";default:return"normal"}}b in
m||(m[b]=p.test(b));return m[b]?d(a,f):f}var b,a={};b=c("webkit")?function(a){var b;if(1==a.nodeType){var d=a.ownerDocument.defaultView;b=d.getComputedStyle(a,null);!b&&a.style&&(a.style.display="",b=d.getComputedStyle(a,null))}return b||{}}:c("ie")&&(9>c("ie")||c("quirks"))?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return 1==a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,null):{}};a.getComputedStyle=b;var d;d=c("ie")?function(a,b){if(!b)return 0;if("medium"==
b)return 4;if(b.slice&&"px"==b.slice(-2))return parseFloat(b);var d=a.style,c=a.runtimeStyle,f=d.left,e=c.left;c.left=a.currentStyle.left;try{d.left=b,b=d.pixelLeft}catch(k){b=0}d.left=f;c.left=e;return b}:function(a,b){return parseFloat(b)||0};a.toPixelValue=d;var e=function(a,b){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(d){return b?{}:null}},f=9>c("ie")||10>c("ie")&&c("quirks")?function(a){try{return e(a).Opacity/100}catch(b){return 1}}:function(a){return b(a).opacity},
k=9>c("ie")||10>c("ie")&&c("quirks")?function(a,b){""===b&&(b=1);var d=100*b;1===b?(a.style.zoom="",e(a)&&(a.style.filter=a.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,""))):(a.style.zoom=1,e(a)?e(a,1).Opacity=d:a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+d+")",e(a,1).Enabled=!0);if("tr"==a.tagName.toLowerCase())for(d=a.firstChild;d;d=d.nextSibling)"td"==d.tagName.toLowerCase()&&k(d,b);return b}:function(a,b){return a.style.opacity=b},m=
{left:!0,top:!0},p=/margin|padding|width|height|max|min|offset/,q={cssFloat:1,styleFloat:1,"float":1};a.get=function(b,d){var c=g.byId(b),e=arguments.length;if(2==e&&"opacity"==d)return f(c);d=q[d]?"cssFloat"in c.style?"cssFloat":"styleFloat":d;var k=a.getComputedStyle(c);return 1==e?k:l(c,d,k[d]||c.style[d])};a.set=function(b,d,c){var f=g.byId(b),e=arguments.length,m="opacity"==d;d=q[d]?"cssFloat"in f.style?"cssFloat":"styleFloat":d;if(3==e)return m?k(f,c):f.style[d]=c;for(var p in d)a.set(b,p,d[p]);
return a.getComputedStyle(f)};return a})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(c,g,l,b,a){function d(a,c){var k=function(d,k){return g(d,a,function(a){if(c)return c(a,k);if(!b.isDescendant(a.relatedTarget,d))return k.call(this,a)})};k.bubble=function(b){return d(a,function(a,d){var c=b(a.target),f=a.relatedTarget;if(c&&c!=(f&&1==f.nodeType&&b(f)))return d.call(c,a)})};return k}l.add("dom-quirks",a.doc&&"BackCompat"==a.doc.compatMode);l.add("events-mouseenter",
a.doc&&"onmouseenter"in a.doc.createElement("div"));l.add("events-mousewheel",a.doc&&"onmousewheel"in a.doc);a=l("dom-quirks")&&l("ie")||!l("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(a,b){return a.button&b},isLeft:function(a){return a.button&1},isMiddle:function(a){return a.button&4},isRight:function(a){return a.button&2}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(a,b){return a.button==b},isLeft:function(a){return 0==a.button},isMiddle:function(a){return 1==a.button},isRight:function(a){return 2==
a.button}};c.mouseButtons=a;c=l("events-mousewheel")?"mousewheel":function(a,b){return g(a,"DOMMouseScroll",function(a){a.wheelDelta=-a.detail;b.call(this,a)})};return{_eventHandler:d,enter:d("mouseover"),leave:d("mouseout"),wheel:c,isLeft:a.isLeft,isMiddle:a.isMiddle,isRight:a.isRight}})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(c,g,l){c._name="browser";g.mixin(c,{isBrowser:!0,isFF:l("ff"),isIE:l("ie"),isKhtml:l("khtml"),isWebKit:l("webkit"),isMozilla:l("mozilla"),
isMoz:l("mozilla"),isOpera:l("opera"),isSafari:l("safari"),isChrome:l("chrome"),isMac:l("mac"),isIos:l("ios"),isAndroid:l("android"),isWii:l("wii"),isQuirks:l("quirks"),isAir:l("air")});return l})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(c,g){return c.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:g("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,
INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:g("mac")&&
!g("air")?g("safari")?91:224:17}})},"dojo/_base/Deferred":function(){define("./kernel ../Deferred ../promise/Promise ../errors/CancelError ../has ./lang ../when".split(" "),function(c,g,l,b,a,d,e){var f=function(){},k=Object.freeze||function(){},m=c.Deferred=function(c){function e(a){if(t)throw Error("This deferred has already been resolved");r=a;t=!0;n()}function n(){for(var b;!b&&w;){var c=w;w=w.next;if(b=c.progress==f)t=!1;var e=v?c.error:c.resolved;a("config-useDeferredInstrumentation")&&v&&g.instrumentRejected&&
g.instrumentRejected(r,!!e);if(e)try{var k=e(r);k&&"function"===typeof k.then?k.then(d.hitch(c.deferred,"resolve"),d.hitch(c.deferred,"reject"),d.hitch(c.deferred,"progress")):(e=b&&void 0===k,b&&!e&&(v=k instanceof Error),c.deferred[e&&v?"reject":"resolve"](e?r:k))}catch(m){c.deferred.reject(m)}else v?c.deferred.reject(r):c.deferred.resolve(r)}}var r,t,s,u,v,x,w,A=this.promise=new l;this.isResolved=A.isResolved=function(){return 0==u};this.isRejected=A.isRejected=function(){return 1==u};this.isFulfilled=
A.isFulfilled=function(){return 0<=u};this.isCanceled=A.isCanceled=function(){return s};this.resolve=this.callback=function(a){this.fired=u=0;this.results=[a,null];e(a)};this.reject=this.errback=function(b){v=!0;this.fired=u=1;a("config-useDeferredInstrumentation")&&g.instrumentRejected&&g.instrumentRejected(b,!!w);e(b);this.results=[null,b]};this.progress=function(a){for(var b=w;b;){var d=b.progress;d&&d(a);b=b.next}};this.addCallbacks=function(a,b){this.then(a,b,f);return this};A.then=this.then=
function(a,b,d){var c=d==f?this:new m(A.cancel);a={resolved:a,error:b,progress:d,deferred:c};w?x=x.next=a:w=x=a;t&&n();return c.promise};var z=this;A.cancel=this.cancel=function(){if(!t){var a=c&&c(z);t||(a instanceof Error||(a=new b(a)),a.log=!1,z.reject(a))}s=!0};k(A)};d.extend(m,{addCallback:function(a){return this.addCallbacks(d.hitch.apply(c,arguments))},addErrback:function(a){return this.addCallbacks(null,d.hitch.apply(c,arguments))},addBoth:function(a){var b=d.hitch.apply(c,arguments);return this.addCallbacks(b,
b)},fired:-1});m.when=c.when=e;return m})},"dojo/_base/json":function(){define(["./kernel","../json"],function(c,g){c.fromJson=function(c){return eval("("+c+")")};c._escapeString=g.stringify;c.toJsonIndentStr="\t";c.toJson=function(l,b){return g.stringify(l,function(a,b){if(b){var c=b.__json__||b.json;if("function"==typeof c)return c.call(b)}return b},b&&c.toJsonIndentStr)};return c})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(c,g,l,b){var a=c.Color=
function(a){a&&this.setColor(a)};a.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:b.transparentColor||[0,0,0,0]};g.extend(a,{r:255,g:255,b:255,a:1,_set:function(a,b,c,k){this.r=a;this.g=b;this.b=c;this.a=k},setColor:function(b){g.isString(b)?a.fromString(b,
this):g.isArray(b)?a.fromArray(b,this):(this._set(b.r,b.g,b.b,b.a),b instanceof a||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+l.map(["r","g","b"],function(a){a=this[a].toString(16);return 2>a.length?"0"+a:a},this).join("")},toCss:function(a){var b=this.r+", "+this.g+", "+this.b;return(a?"rgba("+b+", "+this.a:"rgb("+b)+")"},toString:function(){return this.toCss(!0)}});
a.blendColors=c.blendColors=function(b,c,f,k){var m=k||new a;l.forEach(["r","g","b","a"],function(a){m[a]=b[a]+(c[a]-b[a])*f;"a"!=a&&(m[a]=Math.round(m[a]))});return m.sanitize()};a.fromRgb=c.colorFromRgb=function(b,c){var f=b.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return f&&a.fromArray(f[1].split(/\s*,\s*/),c)};a.fromHex=c.colorFromHex=function(b,c){var f=c||new a,k=4==b.length?4:8,m=(1<<k)-1;b=Number("0x"+b.substr(1));if(isNaN(b))return null;l.forEach(["b","g","r"],function(a){var c=b&m;
b>>=k;f[a]=4==k?17*c:c});f.a=1;return f};a.fromArray=c.colorFromArray=function(b,c){var f=c||new a;f._set(Number(b[0]),Number(b[1]),Number(b[2]),Number(b[3]));isNaN(f.a)&&(f.a=1);return f.sanitize()};a.fromString=c.colorFromString=function(b,c){var f=a.named[b];return f&&a.fromArray(f,c)||a.fromRgb(b,c)||a.fromHex(b,c)};return a})},"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready ./kernel ./connect ./unload ./window ./event ./html ./NodeList ../query ./xhr ./fx".split(" "),
function(c){return c})},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(c,g,l){var b=window,a={addOnWindowUnload:function(a,e){c.windowUnloaded||l(b,"unload",c.windowUnloaded=function(){});l(b,"unload",g.hitch(a,e))},addOnUnload:function(a,c){l(b,"beforeunload",g.hitch(a,c))}};c.addOnWindowUnload=a.addOnWindowUnload;c.addOnUnload=a.addOnUnload;return a})},"dojo/_base/html":function(){define("./kernel ../dom ../dom-style ../dom-attr ../dom-prop ../dom-class ../dom-construct ../dom-geometry".split(" "),
function(c,g,l,b,a,d,e,f){c.byId=g.byId;c.isDescendant=g.isDescendant;c.setSelectable=g.setSelectable;c.getAttr=b.get;c.setAttr=b.set;c.hasAttr=b.has;c.removeAttr=b.remove;c.getNodeProp=b.getNodeProp;c.attr=function(a,d,c){return 2==arguments.length?b["string"==typeof d?"get":"set"](a,d):b.set(a,d,c)};c.hasClass=d.contains;c.addClass=d.add;c.removeClass=d.remove;c.toggleClass=d.toggle;c.replaceClass=d.replace;c._toDom=c.toDom=e.toDom;c.place=e.place;c.create=e.create;c.empty=function(a){e.empty(a)};
c._destroyElement=c.destroy=function(a){e.destroy(a)};c._getPadExtents=c.getPadExtents=f.getPadExtents;c._getBorderExtents=c.getBorderExtents=f.getBorderExtents;c._getPadBorderExtents=c.getPadBorderExtents=f.getPadBorderExtents;c._getMarginExtents=c.getMarginExtents=f.getMarginExtents;c._getMarginSize=c.getMarginSize=f.getMarginSize;c._getMarginBox=c.getMarginBox=f.getMarginBox;c.setMarginBox=f.setMarginBox;c._getContentBox=c.getContentBox=f.getContentBox;c.setContentSize=f.setContentSize;c._isBodyLtr=
c.isBodyLtr=f.isBodyLtr;c._docScroll=c.docScroll=f.docScroll;c._getIeDocumentElementOffset=c.getIeDocumentElementOffset=f.getIeDocumentElementOffset;c._fixIeBiDiScrollLeft=c.fixIeBiDiScrollLeft=f.fixIeBiDiScrollLeft;c.position=f.position;c.marginBox=function(a,b){return b?f.setMarginBox(a,b):f.getMarginBox(a)};c.contentBox=function(a,b){return b?f.setContentSize(a,b):f.getContentBox(a)};c.coords=function(a,b){c.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");a=g.byId(a);var d=
l.getComputedStyle(a),d=f.getMarginBox(a,d),e=f.position(a,b);d.x=e.x;d.y=e.y;return d};c.getProp=a.get;c.setProp=a.set;c.prop=function(b,d,c){return 2==arguments.length?a["string"==typeof d?"get":"set"](b,d):a.set(b,d,c)};c.getStyle=l.get;c.setStyle=l.set;c.getComputedStyle=l.getComputedStyle;c.__toPixelValue=c.toPixelValue=l.toPixelValue;c.style=function(a,b,d){switch(arguments.length){case 1:return l.get(a);case 2:return l["string"==typeof b?"get":"set"](a,b)}return l.set(a,b,d)};return c})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),
function(c,g,l,b,a,d){function e(a,b){var d=a.getAttributeNode&&a.getAttributeNode(b);return!!d&&d.specified}var f={innerHTML:1,className:1,htmlFor:g("ie"),value:1},k={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};c.has=function(a,c){var q=c.toLowerCase();return f[d.names[q]||c]||e(b.byId(a),k[q]||c)};c.get=function(a,c){a=b.byId(a);var q=c.toLowerCase(),n=d.names[q]||c,r=a[n];if(f[n]&&"undefined"!=typeof r||"href"!=n&&("boolean"==typeof r||l.isFunction(r)))return r;q=k[q]||
c;return e(a,q)?a.getAttribute(q):null};c.set=function(e,p,q){e=b.byId(e);if(2==arguments.length){for(var n in p)c.set(e,n,p[n]);return e}n=p.toLowerCase();var r=d.names[n]||p,g=f[r];if("style"==r&&"string"!=typeof q)return a.set(e,q),e;if(g||"boolean"==typeof q||l.isFunction(q))return d.set(e,p,q);e.setAttribute(k[n]||p,q);return e};c.remove=function(a,d){b.byId(a).removeAttribute(k[d.toLowerCase()]||d)};c.getNodeProp=function(a,c){a=b.byId(a);var f=c.toLowerCase(),n=d.names[f]||c;if(n in a&&"href"!=
n)return a[n];f=k[f]||c;return e(a,f)?a.getAttribute(f):null}})},"dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),function(c,g,l,b,a,d,e,f){var k={},m=0,p=g._scopeName+"attrid";c.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"};c.get=function(b,d){b=a.byId(b);var f=d.toLowerCase();return b[c.names[f]||
d]};c.set=function(q,n,r){q=a.byId(q);if(2==arguments.length&&"string"!=typeof n){for(var g in n)c.set(q,g,n[g]);return q}g=n.toLowerCase();g=c.names[g]||n;if("style"==g&&"string"!=typeof r)return d.set(q,r),q;if("innerHTML"==g)return l("ie")&&q.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(e.empty(q),q.appendChild(e.toDom(r,q.ownerDocument))):q[g]=r,q;if(b.isFunction(r)){var s=q[p];s||(s=m++,q[p]=s);k[s]||(k[s]={});var u=k[s][g];if(u)f.disconnect(u);else try{delete q[g]}catch(v){}r?
k[s][g]=f.connect(q,g,r):q[g]=null;return q}q[g]=r;return q}})},"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),function(c,g,l,b,a,d){function e(a,b){var d=b.parentNode;d&&d.insertBefore(a,b)}function f(a){if(a.canHaveChildren)try{a.innerHTML="";return}catch(b){}for(var d;d=a.lastChild;)k(d,a)}function k(a,b){a.firstChild&&f(a);b&&(l("ie")&&b.canHaveChildren&&"removeNode"in a?a.removeNode(!1):b.removeChild(a))}var m={option:["select"],
tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},p=/<\s*([\w\:]+)/,q={},n=0,r="__"+g._scopeName+"ToDomId",t;for(t in m)m.hasOwnProperty(t)&&(g=m[t],g.pre="option"==t?'\x3cselect multiple\x3d"multiple"\x3e':"\x3c"+g.join("\x3e\x3c")+"\x3e",g.post="\x3c/"+g.reverse().join("\x3e\x3c/")+"\x3e");var s;8>=l("ie")&&(s=function(a){a.__dojo_html5_tested=
"yes";var b=u("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",style:{visibility:"hidden"}},a.body);1!==b.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(b){a.createElement(b)});v(b)});c.toDom=function(a,d){d=d||b.doc;var c=d[r];c||(d[r]=c=++n+"",q[c]=d.createElement("div"));8>=l("ie")&&!d.__dojo_html5_tested&&d.body&&s(d);a+="";var f=a.match(p),e=f?f[1].toLowerCase():
"",c=q[c];if(f&&m[e])for(f=m[e],c.innerHTML=f.pre+a+f.post,f=f.length;f;--f)c=c.firstChild;else c.innerHTML=a;if(1==c.childNodes.length)return c.removeChild(c.firstChild);for(e=d.createDocumentFragment();f=c.firstChild;)e.appendChild(f);return e};c.place=function(b,d,f){d=a.byId(d);"string"==typeof b&&(b=/^\s*</.test(b)?c.toDom(b,d.ownerDocument):a.byId(b));if("number"==typeof f){var k=d.childNodes;!k.length||k.length<=f?d.appendChild(b):e(b,k[0>f?0:f])}else switch(f){case "before":e(b,d);break;case "after":f=
b;(k=d.parentNode)&&(k.lastChild==d?k.appendChild(f):k.insertBefore(f,d.nextSibling));break;case "replace":d.parentNode.replaceChild(b,d);break;case "only":c.empty(d);d.appendChild(b);break;case "first":if(d.firstChild){e(b,d.firstChild);break}default:d.appendChild(b)}return b};var u=c.create=function(f,e,k,m){var p=b.doc;k&&(k=a.byId(k),p=k.ownerDocument);"string"==typeof f&&(f=p.createElement(f));e&&d.set(f,e);k&&c.place(f,k,m);return f};c.empty=function(b){f(a.byId(b))};var v=c.destroy=function(b){(b=
a.byId(b))&&k(b,b.parentNode)}})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(c,g,l){function b(a){if("string"==typeof a||a instanceof String){if(a&&!d.test(a))return e[0]=a,e;a=a.split(d);a.length&&!a[0]&&a.shift();a.length&&!a[a.length-1]&&a.pop();return a}return a?g.filter(a,function(a){return a}):[]}var a,d=/\s+/,e=[""],f={};return a={contains:function(a,b){return 0<=(" "+l.byId(a).className+" ").indexOf(" "+b+" ")},add:function(a,d){a=l.byId(a);d=b(d);
var c=a.className,f,c=c?" "+c+" ":" ";f=c.length;for(var e=0,r=d.length,g;e<r;++e)(g=d[e])&&0>c.indexOf(" "+g+" ")&&(c+=g+" ");f<c.length&&(a.className=c.substr(1,c.length-2))},remove:function(a,d){a=l.byId(a);var f;if(void 0!==d){d=b(d);f=" "+a.className+" ";for(var e=0,n=d.length;e<n;++e)f=f.replace(" "+d[e]+" "," ");f=c.trim(f)}else f="";a.className!=f&&(a.className=f)},replace:function(b,d,c){b=l.byId(b);f.className=b.className;a.remove(f,c);a.add(f,d);b.className!==f.className&&(b.className=
f.className)},toggle:function(d,c,f){d=l.byId(d);if(void 0===f){c=b(c);for(var e=0,n=c.length,r;e<n;++e)r=c[e],a[a.contains(d,r)?"remove":"add"](d,r)}else a[f?"add":"remove"](d,c);return f}}})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(c,g,l){g=g.NodeList;var b=g.prototype;b.connect=g._adaptAsForEach(function(){return c.connect.apply(this,arguments)});b.coords=g._adaptAsMap(c.coords);g.events="blur focus change click error keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup submit".split(" ");
l.forEach(g.events,function(a){var d="on"+a;b[d]=function(a,b){return this.connect(d,a,b)}});return c.NodeList=g})},"dojo/NodeList-dom":function(){define("./_base/kernel ./query ./_base/array ./_base/lang ./dom-class ./dom-construct ./dom-geometry ./dom-attr ./dom-style".split(" "),function(c,g,l,b,a,d,e,f,k){function m(a){return function(b,d,c){return 2==arguments.length?a["string"==typeof d?"get":"set"](b,d):a.set(b,d,c)}}var p=function(a){return 1==a.length&&"string"==typeof a[0]},q=function(a){var b=
a.parentNode;b&&b.removeChild(a)},n=g.NodeList,r=n._adaptWithCondition,t=n._adaptAsForEach,s=n._adaptAsMap;b.extend(n,{_normalize:function(a,f){var e=!0===a.parse;if("string"==typeof a.template){var k=a.templateFunc||c.string&&c.string.substitute;a=k?k(a.template,a):a}k=typeof a;"string"==k||"number"==k?(a=d.toDom(a,f&&f.ownerDocument),a=11==a.nodeType?b._toArray(a.childNodes):[a]):b.isArrayLike(a)?b.isArray(a)||(a=b._toArray(a)):a=[a];e&&(a._runParse=!0);return a},_cloneNode:function(a){return a.cloneNode(!0)},
_place:function(a,b,f,e){if(1==b.nodeType||"only"!=f)for(var k,m=a.length,p=m-1;0<=p;p--){var n=e?this._cloneNode(a[p]):a[p];if(a._runParse&&c.parser&&c.parser.parse)for(k||(k=b.ownerDocument.createElement("div")),k.appendChild(n),c.parser.parse(k),n=k.firstChild;k.firstChild;)k.removeChild(k.firstChild);p==m-1?d.place(n,b,f):b.parentNode.insertBefore(n,b);b=n}},position:s(e.position),attr:r(m(f),p),style:r(m(k),p),addClass:t(a.add),removeClass:t(a.remove),toggleClass:t(a.toggle),replaceClass:t(a.replace),
empty:t(d.empty),removeAttr:t(f.remove),marginBox:s(e.getMarginBox),place:function(a,b){var c=g(a)[0];return this.forEach(function(a){d.place(a,c,b)})},orphan:function(a){return(a?g._filterResult(this,a):this).forEach(q)},adopt:function(a,b){return g(a).place(this[0],b)._stash(this)},query:function(a){if(!a)return this;var b=new n;this.map(function(d){g(a,d).forEach(function(a){void 0!==a&&b.push(a)})});return b._stash(this)},filter:function(a){var b=arguments,d=this,c=0;if("string"==typeof a){d=
g._filterResult(this,b[0]);if(1==b.length)return d._stash(this);c=1}return this._wrap(l.filter(d,b[c],b[c+1]),this)},addContent:function(a,b){a=this._normalize(a,this[0]);for(var c=0,f;f=this[c];c++)a.length?this._place(a,f,b,0<c):d.empty(f);return this}});return n})},"dojo/_base/xhr":function(){define("./kernel ./sniff require ../io-query ../dom ../dom-form ./Deferred ./config ./json ./lang ./array ../on ../aspect ../request/watch ../request/xhr ../request/util".split(" "),function(c,g,l,b,a,d,e,
f,k,m,p,q,n,r,t,s){c._xhrObj=t._create;var u=c.config;c.objectToQuery=b.objectToQuery;c.queryToObject=b.queryToObject;c.fieldToObject=d.fieldToObject;c.formToObject=d.toObject;c.formToQuery=d.toQuery;c.formToJson=d.toJson;c._blockAsync=!1;var v=c._contentHandlers=c.contentHandlers={text:function(a){return a.responseText},json:function(a){return k.fromJson(a.responseText||null)},"json-comment-filtered":function(a){a=a.responseText;var b=a.indexOf("/*"),d=a.lastIndexOf("*/");if(-1==b||-1==d)throw Error("JSON was not comment filtered");
return k.fromJson(a.substring(b+2,d))},javascript:function(a){return c.eval(a.responseText)},xml:function(a){var b=a.responseXML;b&&g("dom-qsa2.1")&&!b.querySelectorAll&&g("dom-parser")&&(b=(new DOMParser).parseFromString(a.responseText,"application/xml"));if(g("ie")&&(!b||!b.documentElement)){var d=function(a){return"MSXML"+a+".DOMDocument"},d=["Microsoft.XMLDOM",d(6),d(4),d(3),d(2)];p.some(d,function(d){try{var c=new ActiveXObject(d);c.async=!1;c.loadXML(a.responseText);b=c}catch(f){return!1}return!0})}return b},
"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?v["json-comment-filtered"](a):v.json(a)}};c._ioSetArgs=function(f,k,p,n){var q={args:f,url:f.url},r=null;if(f.form){var r=a.byId(f.form),s=r.getAttributeNode("action");q.url=q.url||(s?s.value:null);r=d.toObject(r)}s=[{}];r&&s.push(r);f.content&&s.push(f.content);f.preventCache&&s.push({"dojo.preventCache":(new Date).valueOf()});q.query=b.objectToQuery(m.mixin.apply(null,s));q.handleAs=f.handleAs||"text";
var g=new e(function(a){a.canceled=!0;k&&k(a);var b=a.ioArgs.error;b||(b=Error("request cancelled"),b.dojoType="cancel",a.ioArgs.error=b);return b});g.addCallback(p);var l=f.load;l&&m.isFunction(l)&&g.addCallback(function(a){return l.call(f,a,q)});var t=f.error;t&&m.isFunction(t)&&g.addErrback(function(a){return t.call(f,a,q)});var v=f.handle;v&&m.isFunction(v)&&g.addBoth(function(a){return v.call(f,a,q)});g.addErrback(function(a){return n(a,g)});u.ioPublish&&c.publish&&!1!==q.args.ioPublish&&(g.addCallbacks(function(a){c.publish("/dojo/io/load",
[g,a]);return a},function(a){c.publish("/dojo/io/error",[g,a]);return a}),g.addBoth(function(a){c.publish("/dojo/io/done",[g,a]);return a}));g.ioArgs=q;return g};var x=function(a){a=v[a.ioArgs.handleAs](a.ioArgs.xhr);return void 0===a?null:a},w=function(a,b){return a},A=function(a){0>=z&&(z=0,u.ioPublish&&c.publish&&(!a||a&&!1!==a.ioArgs.args.ioPublish)&&c.publish("/dojo/io/stop"))},z=0;n.after(r,"_onAction",function(){z-=1});n.after(r,"_onInFlight",A);c._ioCancelAll=r.cancelAll;c._ioNotifyStart=
function(a){u.ioPublish&&c.publish&&!1!==a.ioArgs.args.ioPublish&&(z||c.publish("/dojo/io/start"),z+=1,c.publish("/dojo/io/send",[a]))};c._ioWatch=function(a,b,d,c){a.ioArgs.options=a.ioArgs.args;m.mixin(a,{response:a.ioArgs,isValid:function(d){return b(a)},isReady:function(b){return d(a)},handleResponse:function(b){return c(a)}});r(a);A(a)};c._ioAddQueryToUrl=function(a){a.query.length&&(a.url+=(-1==a.url.indexOf("?")?"?":"\x26")+a.query,a.query=null)};c.xhr=function(a,b,d){var f,e=c._ioSetArgs(b,
function(a){f&&f.cancel()},x,w),k=e.ioArgs;"postData"in b?k.query=b.postData:"putData"in b?k.query=b.putData:"rawBody"in b?k.query=b.rawBody:(2<arguments.length&&!d||-1==="POST|PUT".indexOf(a.toUpperCase()))&&c._ioAddQueryToUrl(k);var m={method:a,handleAs:"text",timeout:b.timeout,withCredentials:b.withCredentials,ioArgs:k};"undefined"!==typeof b.headers&&(m.headers=b.headers);"undefined"!==typeof b.contentType&&(m.headers||(m.headers={}),m.headers["Content-Type"]=b.contentType);"undefined"!==typeof k.query&&
(m.data=k.query);"undefined"!==typeof b.sync&&(m.sync=b.sync);c._ioNotifyStart(e);try{f=t(k.url,m,!0)}catch(p){return e.cancel(),e}e.ioArgs.xhr=f.response.xhr;f.then(function(){e.resolve(e)}).otherwise(function(a){k.error=a;a.response&&(a.status=a.response.status,a.responseText=a.response.text,a.xhr=a.response.xhr);e.reject(a)});return e};c.xhrGet=function(a){return c.xhr("GET",a)};c.rawXhrPost=c.xhrPost=function(a){return c.xhr("POST",a,!0)};c.rawXhrPut=c.xhrPut=function(a){return c.xhr("PUT",a,
!0)};c.xhrDelete=function(a){return c.xhr("DELETE",a)};c._isDocumentOk=function(a){return s.checkStatus(a.status)};c._getText=function(a){var b;c.xhrGet({url:a,sync:!0,load:function(a){b=a}});return b};m.mixin(c.xhr,{_xhrObj:c._xhrObj,fieldToObject:d.fieldToObject,formToObject:d.toObject,objectToQuery:b.objectToQuery,formToQuery:d.toQuery,formToJson:d.toJson,queryToObject:b.queryToObject,contentHandlers:v,_ioSetArgs:c._ioSetArgs,_ioCancelAll:c._ioCancelAll,_ioNotifyStart:c._ioNotifyStart,_ioWatch:c._ioWatch,
_ioAddQueryToUrl:c._ioAddQueryToUrl,_isDocumentOk:c._isDocumentOk,_getText:c._getText,get:c.xhrGet,post:c.xhrPost,put:c.xhrPut,del:c.xhrDelete});return c.xhr})},"dojo/io-query":function(){define(["./_base/lang"],function(c){var g={};return{objectToQuery:function(l){var b=encodeURIComponent,a=[],d;for(d in l){var e=l[d];if(e!=g[d]){var f=b(d)+"\x3d";if(c.isArray(e))for(var k=0,m=e.length;k<m;++k)a.push(f+b(e[k]));else a.push(f+b(e))}}return a.join("\x26")},queryToObject:function(g){var b=decodeURIComponent;
g=g.split("\x26");for(var a={},d,e,f=0,k=g.length;f<k;++f)if(e=g[f],e.length){var m=e.indexOf("\x3d");0>m?(d=b(e),e=""):(d=b(e.slice(0,m)),e=b(e.slice(m+1)));"string"==typeof a[d]&&(a[d]=[a[d]]);c.isArray(a[d])?a[d].push(e):a[d]=e}return a}}})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(c,g,l,b){var a={fieldToObject:function(a){var b=null;if(a=g.byId(a)){var c=a.name,k=(a.type||"").toLowerCase();if(c&&k&&!a.disabled)if("radio"==k||"checkbox"==k)a.checked&&
(b=a.value);else if(a.multiple)for(b=[],a=[a.firstChild];a.length;)for(c=a.pop();c;c=c.nextSibling)if(1==c.nodeType&&"option"==c.tagName.toLowerCase())c.selected&&b.push(c.value);else{c.nextSibling&&a.push(c.nextSibling);c.firstChild&&a.push(c.firstChild);break}else b=a.value}return b},toObject:function(b){var e={};b=g.byId(b).elements;for(var f=0,k=b.length;f<k;++f){var m=b[f],p=m.name,q=(m.type||"").toLowerCase();if(p&&q&&0>"file|submit|image|reset|button".indexOf(q)&&!m.disabled){var n=e,r=p,m=
a.fieldToObject(m);if(null!==m){var l=n[r];"string"==typeof l?n[r]=[l,m]:c.isArray(l)?l.push(m):n[r]=m}"image"==q&&(e[p+".x"]=e[p+".y"]=e[p].x=e[p].y=0)}}return e},toQuery:function(b){return l.objectToQuery(a.toObject(b))},toJson:function(d,c){return b.stringify(a.toObject(d),null,c?4:0)}};return a})},"dojo/request/watch":function(){define("./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../_base/window ../has!host-browser?dom-addeventlistener?:../on:".split(" "),function(c,
g,l,b,a,d){function e(){for(var a=+new Date,b=0,d;b<m.length&&(d=m[b]);b++){var c=d.response,e=c.options;d.isCanceled&&d.isCanceled()||d.isValid&&!d.isValid(c)?(m.splice(b--,1),f._onAction&&f._onAction()):d.isReady&&d.isReady(c)?(m.splice(b--,1),d.handleResponse(c),f._onAction&&f._onAction()):d.startTime&&d.startTime+(e.timeout||0)<a&&(m.splice(b--,1),d.cancel(new g("Timeout exceeded",c)),f._onAction&&f._onAction())}f._onInFlight&&f._onInFlight(d);m.length||(clearInterval(k),k=null)}function f(a){a.response.options.timeout&&
(a.startTime=+new Date);a.isFulfilled()||(m.push(a),k||(k=setInterval(e,50)),a.response.options.sync&&e())}var k=null,m=[];f.cancelAll=function(){try{b.forEach(m,function(a){try{a.cancel(new l("All requests canceled."))}catch(b){}})}catch(a){}};a&&d&&a.doc.attachEvent&&d(a.global,"unload",function(){f.cancelAll()});return f})},"dojo/request/util":function(){define("exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise".split(" "),
function(c,g,l,b,a,d,e,f){function k(a){return p(a)}function m(a){return a.data||a.text}c.deepCopy=function(a,b){for(var d in b){var f=a[d],e=b[d];f!==e&&(f&&"object"===typeof f&&e&&"object"===typeof e?c.deepCopy(f,e):a[d]=e)}return a};c.deepCreate=function(a,b){b=b||{};var d=e.delegate(a),f,k;for(f in a)(k=a[f])&&"object"===typeof k&&(d[f]=c.deepCreate(k,b[f]));return c.deepCopy(d,b)};var p=Object.freeze||function(a){return a};c.deferred=function(a,d,r,t,s,u){var v=new b(function(b){d&&d(v,a);return b&&
(b instanceof g||b instanceof l)?b:new l("Request canceled",a)});v.response=a;v.isValid=r;v.isReady=t;v.handleResponse=s;r=v.then(k).otherwise(function(b){b.response=a;throw b;});c.notify&&r.then(e.hitch(c.notify,"emit","load"),e.hitch(c.notify,"emit","error"));t=r.then(m);s=new f;for(var x in t)t.hasOwnProperty(x)&&(s[x]=t[x]);s.response=r;p(s);u&&v.then(function(a){u.call(v,a)},function(b){u.call(v,a,b)});v.promise=s;v.then=s.then;return v};c.addCommonMethods=function(a,b){d.forEach(b||["GET","POST",
"PUT","DELETE"],function(b){a[("DELETE"===b?"DEL":b).toLowerCase()]=function(d,c){c=e.delegate(c||{});c.method=b;return a(d,c)}})};c.parseArgs=function(b,d,c){var f=d.data,e=d.query;f&&!c&&"object"===typeof f&&(d.data=a.objectToQuery(f));e?("object"===typeof e&&(e=a.objectToQuery(e)),d.preventCache&&(e+=(e?"\x26":"")+"request.preventCache\x3d"+ +new Date)):d.preventCache&&(e="request.preventCache\x3d"+ +new Date);b&&e&&(b+=(~b.indexOf("?")?"\x26":"?")+e);return{url:b,options:d,getHeader:function(a){return null}}};
c.checkStatus=function(a){a=a||0;return 200<=a&&300>a||304===a||1223===a||!a}})},"dojo/errors/RequestError":function(){define(["./create"],function(c){return c("RequestError",function(c,l){this.response=l})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(c,g){return c("RequestTimeoutError",null,g,{dojoType:"timeout"})})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(c,g,l,b,a){function d(a,
d){var f=a.xhr;a.status=a.xhr.status;a.text=f.responseText;"xml"===a.options.handleAs&&(a.data=f.responseXML);if(!d)try{l(a)}catch(e){d=e}d?this.reject(d):b.checkStatus(f.status)?this.resolve(a):(d=new c("Unable to load "+a.url+" status: "+f.status,a),this.reject(d))}function e(a){return this.xhr.getResponseHeader(a)}function f(l,s,t){var w=b.parseArgs(l,b.deepCreate(r,s),a("native-formdata")&&s&&s.data&&s.data instanceof FormData);l=w.url;s=w.options;var A,z=b.deferred(w,q,k,m,d,function(){A&&A()}),
y=w.xhr=f._create();if(!y)return z.cancel(new c("XHR was not created")),t?z:z.promise;w.getHeader=e;p&&(A=p(y,z,w));var B=s.data,D=!s.sync,C=s.method;try{y.open(C,l,D,s.user||n,s.password||n);s.withCredentials&&(y.withCredentials=s.withCredentials);var E=s.headers;l="application/x-www-form-urlencoded";if(E)for(var I in E)"content-type"===I.toLowerCase()?l=E[I]:E[I]&&y.setRequestHeader(I,E[I]);l&&!1!==l&&y.setRequestHeader("Content-Type",l);E&&"X-Requested-With"in E||y.setRequestHeader("X-Requested-With",
"XMLHttpRequest");b.notify&&b.notify.emit("send",w,z.promise.cancel);y.send(B)}catch(M){z.reject(M)}g(z);y=null;return t?z:z.promise}a.add("native-xhr",function(){return"undefined"!==typeof XMLHttpRequest});a.add("dojo-force-activex-xhr",function(){return a("activex")&&!document.addEventListener&&"file:"===window.location.protocol});a.add("native-xhr2",function(){if(a("native-xhr")){var b=new XMLHttpRequest;return"undefined"!==typeof b.addEventListener&&("undefined"===typeof opera||"undefined"!==
typeof b.upload)}});a.add("native-formdata",function(){return"undefined"!==typeof FormData});var k,m,p,q;a("native-xhr2")?(k=function(a){return!this.isFulfilled()},q=function(a,b){b.xhr.abort()},p=function(a,b,d){function f(a){b.handleResponse(d)}function e(a){a=new c("Unable to load "+d.url+" status: "+a.target.status,d);b.handleResponse(d,a)}function k(a){a.lengthComputable&&(d.loaded=a.loaded,d.total=a.total,b.progress(d))}a.addEventListener("load",f,!1);a.addEventListener("error",e,!1);a.addEventListener("progress",
k,!1);return function(){a.removeEventListener("load",f,!1);a.removeEventListener("error",e,!1);a.removeEventListener("progress",k,!1);a=null}}):(k=function(a){return a.xhr.readyState},m=function(a){return 4===a.xhr.readyState},q=function(a,b){var d=b.xhr,c=typeof d.abort;"function"!==c&&"object"!==c&&"unknown"!==c||d.abort()});var n,r={data:null,query:null,sync:!1,method:"GET"};f._create=function(){throw Error("XMLHTTP not available");};if(a("native-xhr")&&!a("dojo-force-activex-xhr"))f._create=function(){return new XMLHttpRequest};
else if(a("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),f._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(t){try{new ActiveXObject("Microsoft.XMLHTTP"),f._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(s){}}b.addCommonMethods(f);return f})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../selector/_loader"],function(c,g,l,b){function a(a){var b=f[a.options.handleAs];a.data=b?b(a):a.data||a.text;return a}
b.add("activex","undefined"!==typeof ActiveXObject);b.add("dom-parser",function(a){return"DOMParser"in a});var d;if(b("activex")){var e=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];d=function(a){var d=a.data;d&&b("dom-qsa2.1")&&!d.querySelectorAll&&b("dom-parser")&&(d=(new DOMParser).parseFromString(a.text,"application/xml"));if(!d||!d.documentElement){var c=a.text;l.some(e,function(a){try{var b=new ActiveXObject(a);b.async=!1;b.loadXML(c);d=b}catch(f){return!1}return!0})}return d}}var f=
{javascript:function(a){return g.eval(a.text||"")},json:function(a){return c.parse(a.text||null)},xml:d};a.register=function(a,b){f[a]=b};return a})},"dojo/_base/fx":function(){define("./kernel ./config ./lang ../Evented ./Color ../aspect ../sniff ../dom ../dom-style".split(" "),function(c,g,l,b,a,d,e,f,k){var m=l.mixin,p={},q=p._Line=function(a,b){this.start=a;this.end=b};q.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};var n=p.Animation=function(a){m(this,a);l.isArray(this.curve)&&
(this.curve=new q(this.curve[0],this.curve[1]))};n.prototype=new b;l.extend(n,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var a=this._percent,b=this.easing;return b?b(a):a},_fire:function(a,b){var d=b||[];if(this[a])if(g.debugAtAllCosts)this[a].apply(this,d);else try{this[a].apply(this,d)}catch(c){}return this},play:function(a,b){this._delayTimer&&this._clearTimer();if(b)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;
this._fire("beforeBegin",[this.node]);var d=a||this.delay,c=l.hitch(this,"_play",b);if(0<d)return this._delayTimer=setTimeout(c,d),this;c();return this},_play:function(a){this._delayTimer&&this._clearTimer();this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;a=this.curve.getValue(this._getStep());this._percent||(this._startRepeatCount||(this._startRepeatCount=this.repeat),this._fire("onBegin",[a]));this._fire("onPlay",
[a]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);return this},gotoPercent:function(a,b){this._stopTimer();this._active=this._paused=!0;this._percent=a;b&&this.play();return this},stop:function(a){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();a&&(this._percent=1);this._fire("onStop",[this.curve.getValue(this._getStep())]);
this._active=this._paused=!1;return this},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var a=(new Date).valueOf(),a=0===this.duration?1:(a-this._startTime)/this.duration;1<=a&&(a=1);this._percent=a;this.easing&&(a=this.easing(a));this._fire("onAnimate",[this.curve.getValue(a)]);1>this._percent?this._startTimer():(this._active=!1,0<this.repeat?(this.repeat--,this.play(null,!0)):-1==this.repeat?this.play(null,!0):this._startRepeatCount&&
(this.repeat=this._startRepeatCount,this._startRepeatCount=0),this._percent=0,this._fire("onEnd",[this.node]),!this.repeat&&this._stopTimer())}return this},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var r=0,t=null,s={run:function(){}};l.extend(n,{_startTimer:function(){this._timer||(this._timer=d.after(s,"run",l.hitch(this,"_cycle"),!0),r++);t||(t=setInterval(l.hitch(s,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),this._timer=null,
r--);0>=r&&(clearInterval(t),t=null,r=0)}});var u=e("ie")?function(a){var b=a.style;b.width.length||"auto"!=k.get(a,"width")||(b.width="auto")}:function(){};p._fade=function(a){a.node=f.byId(a.node);var b=m({properties:{}},a);a=b.properties.opacity={};a.start="start"in b?b.start:function(){return+k.get(b.node,"opacity")||0};a.end=b.end;a=p.animateProperty(b);d.after(a,"beforeBegin",l.partial(u,b.node),!0);return a};p.fadeIn=function(a){return p._fade(m({end:1},a))};p.fadeOut=function(a){return p._fade(m({end:0},
a))};p._defaultEasing=function(a){return 0.5+Math.sin((a+1.5)*Math.PI)/2};var v=function(b){this._properties=b;for(var d in b){var c=b[d];c.start instanceof a&&(c.tempColor=new a)}};v.prototype.getValue=function(b){var d={},c;for(c in this._properties){var f=this._properties[c],e=f.start;e instanceof a?d[c]=a.blendColors(e,f.end,b,f.tempColor).toCss():l.isArray(e)||(d[c]=(f.end-e)*b+e+("opacity"!=c?f.units||"px":0))}return d};p.animateProperty=function(b){var e=b.node=f.byId(b.node);b.easing||(b.easing=
c._defaultEasing);b=new n(b);d.after(b,"beforeBegin",l.hitch(b,function(){var b={},d;for(d in this.properties){if("width"==d||"height"==d)this.node.display="block";var c=this.properties[d];l.isFunction(c)&&(c=c(e));c=b[d]=m({},l.isObject(c)?c:{end:c});l.isFunction(c.start)&&(c.start=c.start(e));l.isFunction(c.end)&&(c.end=c.end(e));var f=0<=d.toLowerCase().indexOf("color"),p=function(a,b){var d={height:a.offsetHeight,width:a.offsetWidth}[b];if(void 0!==d)return d;d=k.get(a,b);return"opacity"==b?+d:
f?d:parseFloat(d)};"end"in c?"start"in c||(c.start=p(e,d)):c.end=p(e,d);f?(c.start=new a(c.start),c.end=new a(c.end)):c.start="opacity"==d?+c.start:parseFloat(c.start)}this.curve=new v(b)}),!0);d.after(b,"onAnimate",l.hitch(k,"set",b.node),!0);return b};p.anim=function(a,b,d,c,f,e){return p.animateProperty({node:a,duration:d||n.prototype.duration,properties:b,easing:c,onEnd:f}).play(e||0)};m(c,p);c._Animation=n;return p})},"dijit/main":function(){define(["dojo/_base/kernel"],function(c){return c.dijit})},
"dojox/main":function(){define(["dojo/_base/kernel"],function(c){return c.dojox})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),function(c,g,l,b,a,d,e,f,k){function m(a,d,c,f){return f.replace(/([a-z])\1*/ig,function(k){var m,p,q=k.charAt(0);k=k.length;var r=["abbr","wide","narrow"];switch(q){case "G":m=d[4>k?"eraAbbr":"eraNames"][0>a.getFullYear()?0:1];break;case "y":m=
a.getFullYear();switch(k){case 1:break;case 2:if(!c.fullYear){m=String(m);m=m.substr(m.length-2);break}default:p=!0}break;case "Q":case "q":m=Math.ceil((a.getMonth()+1)/3);p=!0;break;case "M":case "L":m=a.getMonth();3>k?(m+=1,p=!0):(q=["months","L"==q?"standAlone":"format",r[k-3]].join("-"),m=d[q][m]);break;case "w":m=n._getWeekOfYear(a,0);p=!0;break;case "d":m=a.getDate();p=!0;break;case "D":m=n._getDayOfYear(a);p=!0;break;case "e":case "c":if(m=a.getDay(),2>k){m=(m-b.getFirstDayOfWeek(c.locale)+
8)%7;break}case "E":m=a.getDay();3>k?(m+=1,p=!0):(q=["days","c"==q?"standAlone":"format",r[k-3]].join("-"),m=d[q][m]);break;case "a":q=12>a.getHours()?"am":"pm";m=c[q]||d["dayPeriods-format-wide-"+q];break;case "h":case "H":case "K":case "k":p=a.getHours();switch(q){case "h":m=p%12||12;break;case "H":m=p;break;case "K":m=p%12;break;case "k":m=p||24}p=!0;break;case "m":m=a.getMinutes();p=!0;break;case "s":m=a.getSeconds();p=!0;break;case "S":m=Math.round(a.getMilliseconds()*Math.pow(10,k-3));p=!0;
break;case "v":case "z":if(m=n._getZone(a,!0,c))break;k=4;case "Z":q=n._getZone(a,!1,c);q=[0>=q?"+":"-",e.pad(Math.floor(Math.abs(q)/60),2),e.pad(Math.abs(q)%60,2)];4==k&&(q.splice(0,0,"GMT"),q.splice(3,0,":"));m=q.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+f);}p&&(m=e.pad(m,k));return m})}function p(a,b,d,c){var f=function(a){return a};b=b||f;d=d||f;c=c||f;var e=a.match(/(''|[^'])+/g),k="'"==a.charAt(0);g.forEach(e,function(a,c){a?(e[c]=(k?d:b)(a.replace(/''/g,
"'")),k=!k):e[c]=""});return c(e.join(""))}function q(a,b,c,f){f=d.escapeString(f);c.strict||(f=f.replace(" a"," ?a"));return f.replace(/([a-z])\1*/ig,function(d){var f;f=d.charAt(0);var e=d.length,k="",m="";c.strict?(1<e&&(k="0{"+(e-1)+"}"),2<e&&(m="0{"+(e-2)+"}")):(k="0?",m="0{0,2}");switch(f){case "y":f="\\d{2,4}";break;case "M":case "L":f=2<e?"\\S+?":"1[0-2]|"+k+"[1-9]";break;case "D":f="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+k+"[1-9][0-9]|"+m+"[1-9]";break;case "d":f="3[01]|[12]\\d|"+k+"[1-9]";
break;case "w":f="[1-4][0-9]|5[0-3]|"+k+"[1-9]";break;case "E":case "e":case "c":f=".+?";break;case "h":f="1[0-2]|"+k+"[1-9]";break;case "k":f="1[01]|"+k+"\\d";break;case "H":f="1\\d|2[0-3]|"+k+"\\d";break;case "K":f="1\\d|2[0-4]|"+k+"[1-9]";break;case "m":case "s":f="[0-5]\\d";break;case "S":f="\\d{"+e+"}";break;case "a":e=c.am||b["dayPeriods-format-wide-am"];k=c.pm||b["dayPeriods-format-wide-pm"];f=e+"|"+k;c.strict||(e!=e.toLowerCase()&&(f+="|"+e.toLowerCase()),k!=k.toLowerCase()&&(f+="|"+k.toLowerCase()),
-1!=f.indexOf(".")&&(f+="|"+f.replace(/\./g,"")));f=f.replace(/\./g,"\\.");break;default:f=".*"}a&&a.push(d);return"("+f+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var n={};c.setObject(k.id.replace(/\//g,"."),n);n._getZone=function(a,b,d){return b?l.getTimezoneName(a):a.getTimezoneOffset()};n.format=function(b,d){d=d||{};var f=a.normalizeLocale(d.locale),e=d.formatLength||"short",f=n._getGregorianBundle(f),k=[],q=c.hitch(this,m,b,f,d);if("year"==d.selector)return p(f["dateFormatItem-yyyy"]||"yyyy",q);
var r;"date"!=d.selector&&(r=d.timePattern||f["timeFormat-"+e])&&k.push(p(r,q));"time"!=d.selector&&(r=d.datePattern||f["dateFormat-"+e])&&k.push(p(r,q));return 1==k.length?k[0]:f["dateTimeFormat-"+e].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(a,b){return k[b]})};n.regexp=function(a){return n._parseInfo(a).regexp};n._parseInfo=function(b){b=b||{};var d=a.normalizeLocale(b.locale),d=n._getGregorianBundle(d),f=b.formatLength||"short",e=b.datePattern||d["dateFormat-"+f],k=b.timePattern||d["timeFormat-"+
f],f="date"==b.selector?e:"time"==b.selector?k:d["dateTimeFormat-"+f].replace(/\{(\d+)\}/g,function(a,b){return[k,e][b]}),m=[];return{regexp:p(f,c.hitch(this,q,m,d,b)),tokens:m,bundle:d}};n.parse=function(a,b){var d=/[\u200E\u200F\u202A\u202E]/g,c=n._parseInfo(b),f=c.tokens,e=c.bundle,d=RegExp("^"+c.regexp.replace(d,"")+"$",c.strict?"":"i").exec(a&&a.replace(d,""));if(!d)return null;var k=["abbr","wide","narrow"],m=[1970,0,1,0,0,0,0],p="",d=g.every(d,function(a,d){if(!d)return!0;var c=f[d-1],q=c.length,
c=c.charAt(0);switch(c){case "y":if(2!=q&&b.strict)m[0]=a;else if(100>a)a=Number(a),c=""+(new Date).getFullYear(),q=100*c.substring(0,2),c=Math.min(Number(c.substring(2,4))+20,99),m[0]=a<c?q+a:q-100+a;else{if(b.strict)return!1;m[0]=a}break;case "M":case "L":if(2<q){if(q=e["months-"+("L"==c?"standAlone":"format")+"-"+k[q-3]].concat(),b.strict||(a=a.replace(".","").toLowerCase(),q=g.map(q,function(a){return a.replace(".","").toLowerCase()})),a=g.indexOf(q,a),-1==a)return!1}else a--;m[1]=a;break;case "E":case "e":case "c":q=
e["days-"+("c"==c?"standAlone":"format")+"-"+k[q-3]].concat();b.strict||(a=a.toLowerCase(),q=g.map(q,function(a){return a.toLowerCase()}));a=g.indexOf(q,a);if(-1==a)return!1;break;case "D":m[1]=0;case "d":m[2]=a;break;case "a":q=b.am||e["dayPeriods-format-wide-am"];c=b.pm||e["dayPeriods-format-wide-pm"];if(!b.strict){var n=/\./g;a=a.replace(n,"").toLowerCase();q=q.replace(n,"").toLowerCase();c=c.replace(n,"").toLowerCase()}if(b.strict&&a!=q&&a!=c)return!1;p=a==c?"p":a==q?"a":"";break;case "K":24==
a&&(a=0);case "h":case "H":case "k":if(23<a)return!1;m[3]=a;break;case "m":m[4]=a;break;case "s":m[5]=a;break;case "S":m[6]=a}return!0}),c=+m[3];"p"===p&&12>c?m[3]=c+12:"a"===p&&12==c&&(m[3]=0);c=new Date(m[0],m[1],m[2],m[3],m[4],m[5],m[6]);b.strict&&c.setFullYear(m[0]);var q=f.join(""),r=-1!=q.indexOf("d"),q=-1!=q.indexOf("M");if(!d||q&&c.getMonth()>m[1]||r&&c.getDate()>m[2])return null;if(q&&c.getMonth()<m[1]||r&&c.getDate()<m[2])c=l.add(c,"hour",1);return c};var r=[];n.addCustomFormats=function(a,
b){r.push({pkg:a,name:b})};n._getGregorianBundle=function(b){var d={};g.forEach(r,function(f){f=a.getLocalization(f.pkg,f.name,b);d=c.mixin(d,f)},this);return d};n.addCustomFormats(k.id.replace(/\/date\/locale$/,".cldr"),"gregorian");n.getNames=function(a,b,d,c){var f;c=n._getGregorianBundle(c);a=[a,d,b];"standAlone"==d&&(d=a.join("-"),f=c[d],1==f[0]&&(f=void 0));a[1]="format";return(f||c[a.join("-")]).concat()};n.isWeekend=function(a,d){var c=b.getWeekend(d),f=(a||new Date).getDay();c.end<c.start&&
(c.end+=7,f<c.start&&(f+=7));return f>=c.start&&f<=c.end};n._getDayOfYear=function(a){return l.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};n._getWeekOfYear=function(a,b){1==arguments.length&&(b=0);var d=(new Date(a.getFullYear(),0,1)).getDay(),c=(d-b+7)%7,c=Math.floor((n._getDayOfYear(a)+c-1)/7);d==b&&c++;return c};return n})},"dojo/date":function(){define(["./has","./_base/lang"],function(c,g){var l={getDaysInMonth:function(b){var a=b.getMonth();return 1==a&&l.isLeapYear(b)?29:[31,
28,31,30,31,30,31,31,30,31,30,31][a]},isLeapYear:function(b){b=b.getFullYear();return!(b%400)||!(b%4)&&!!(b%100)},getTimezoneName:function(b){var a=b.toString(),d="",c=a.indexOf("(");if(-1<c)d=a.substring(++c,a.indexOf(")"));else if(c=/([A-Z\/]+) \d{4}$/,a=a.match(c))d=a[1];else if(a=b.toLocaleString(),c=/ ([A-Z\/]+)$/,a=a.match(c))d=a[1];return"AM"==d||"PM"==d?"":d},compare:function(b,a,d){b=new Date(+b);a=new Date(+(a||new Date));"date"==d?(b.setHours(0,0,0,0),a.setHours(0,0,0,0)):"time"==d&&(b.setFullYear(0,
0,0),a.setFullYear(0,0,0));return b>a?1:b<a?-1:0},add:function(b,a,d){var c=new Date(+b),f=!1,k="Date";switch(a){case "day":break;case "weekday":var m;(a=d%5)?m=parseInt(d/5):(a=0<d?5:-5,m=0<d?(d-5)/5:(d+5)/5);var p=b.getDay(),q=0;6==p&&0<d?q=1:0==p&&0>d&&(q=-1);p+=a;if(0==p||6==p)q=0<d?2:-2;d=7*m+a+q;break;case "year":k="FullYear";f=!0;break;case "week":d*=7;break;case "quarter":d*=3;case "month":f=!0;k="Month";break;default:k="UTC"+a.charAt(0).toUpperCase()+a.substring(1)+"s"}if(k)c["set"+k](c["get"+
k]()+d);f&&c.getDate()<b.getDate()&&c.setDate(0);return c},difference:function(b,a,d){a=a||new Date;d=d||"day";var c=a.getFullYear()-b.getFullYear(),f=1;switch(d){case "quarter":b=b.getMonth();a=a.getMonth();b=Math.floor(b/3)+1;a=Math.floor(a/3)+1;f=a+4*c-b;break;case "weekday":c=Math.round(l.difference(b,a,"day"));d=parseInt(l.difference(b,a,"week"));f=c%7;if(0==f)c=5*d;else{var k=0,m=b.getDay();a=a.getDay();d=parseInt(c/7);f=c%7;b=new Date(b);b.setDate(b.getDate()+7*d);b=b.getDay();if(0<c)switch(!0){case 6==
m:k=-1;break;case 0==m:k=0;break;case 6==a:k=-1;break;case 0==a:k=-2;break;case 5<b+f:k=-2}else if(0>c)switch(!0){case 6==m:k=0;break;case 0==m:k=1;break;case 6==a:k=2;break;case 0==a:k=1;break;case 0>b+f:k=2}c=c+k-2*d}f=c;break;case "year":f=c;break;case "month":f=a.getMonth()-b.getMonth()+12*c;break;case "week":f=parseInt(l.difference(b,a,"day")/7);break;case "day":f/=24;case "hour":f/=60;case "minute":f/=60;case "second":f/=1E3;case "millisecond":f*=a.getTime()-b.getTime()}return Math.round(f)}};
g.mixin(g.getObject("dojo.date",!0),l);return l})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(c,g){var l={};c.setObject("dojo.cldr.supplemental",l);l.getFirstDayOfWeek=function(b){b={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,
ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[l._region(b)];return void 0===b?1:b};l._region=function(b){b=g.normalizeLocale(b);b=b.split("-");var a=b[1];a?4==a.length&&(a=b[2]):a={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",
el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",
mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",
ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",
chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",
kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",
mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",
tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[b[0]];return a};l.getWeekend=function(b){var a=l._region(b);b={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[a];a={af:5,dz:5,ir:5,
om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[a];void 0===b&&(b=6);void 0===a&&(a=0);return{start:b,end:a}};return l})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./_base/xhr ./json module".split(" "),function(c,g,l,b,a,d,e,f,k){l.add("dojo-preload-i18n-Api",1);var m=c.i18n={},p=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,q=function(a,b,d,c){var f=[d+c];b=b.split("-");for(var e="",k=0;k<b.length;k++)if(e+=
(e?"-":"")+b[k],!a||a[e])f.push(d+e+"/"+c),f.specificity=e;return f},n={},r=function(a,b,d){d=d?d.toLowerCase():c.locale;a=a.replace(/\./g,"/");b=b.replace(/\./g,"/");return/root/i.test(d)?a+"/nls/"+b:a+"/nls/"+d+"/"+b},t=c.getL10nName=function(a,b,d){return k.id+"!"+r(a,b,d)},s=function(a,b,c,f,e,k){a([b],function(m){var p=d.clone(m.root||m.ROOT),r=q(!m._v1x&&m,e,c,f);a(r,function(){for(var a=1;a<r.length;a++)p=d.mixin(d.clone(p),arguments[a]);n[b+"/"+e]=p;p.$locale=r.specificity;k()})})},u=function(b){var c=
a.extraLocale||[],c=d.isArray(c)?c:[c];c.push(b);return c},v=function(a,e,k){if(l("dojo-preload-i18n-Api")){var m=a.split("*"),q="preload"==m[1];q&&(n[a]||(n[a]=1,y(m[2],f.parse(m[3]),1,e)),k(1));(m=q)||(A&&z.push([a,e,k]),m=A);if(m)return}a=p.exec(a);var r=a[1]+"/",g=a[5]||a[4],t=r+g,m=(a=a[5]&&a[4])||c.locale||"",v=t+"/"+m;a=a?[m]:u(m);var x=a.length,w=function(){--x||k(d.delegate(n[v]))};b.forEach(a,function(a){var b=t+"/"+a;l("dojo-preload-i18n-Api")&&B(b);n[b]?w():s(e,t,r,g,a,w)})};if(l("dojo-unit-tests"))var x=
m.unitTests=[];l("dojo-preload-i18n-Api");var w=m.normalizeLocale=function(a){a=a?a.toLowerCase():c.locale;return"root"==a?"ROOT":a},A=0,z=[],y=m._preloadLocalizations=function(a,f,e,k){function m(a,b){k.isXdUrl(g.toUrl(a+".js"))||e?k([a],b):E([a],b,k)}function p(a,b){for(var d=a.split("-");d.length;){if(b(d.join("-")))return;d.pop()}b("ROOT")}function q(){for(--A;!A&&z.length;)v.apply(null,z.shift())}function r(c){c=w(c);p(c,function(e){if(0<=b.indexOf(f,e)){var r=a.replace(/\./g,"/")+"_"+e;A++;
m(r,function(a){for(var b in a){var f=a[b],m=b.match(/(.+)\/([^\/]+)$/),r;if(m){r=m[2];m=m[1]+"/";f._localized=f._localized||{};var l;if("ROOT"===e){var s=l=f._localized;delete f._localized;s.root=f;n[g.toAbsMid(b)]=s}else l=f._localized,n[g.toAbsMid(m+r+"/"+e)]=f;e!==c&&function(a,b,f,e){var m=[],r=[];p(c,function(d){e[d]&&(m.push(g.toAbsMid(a+d+"/"+b)),r.push(g.toAbsMid(a+b+"/"+d)))});m.length?(A++,k(m,function(){for(var e=0;e<m.length;e++)f=d.mixin(d.clone(f),arguments[e]),n[r[e]]=f;n[g.toAbsMid(a+
b+"/"+c)]=d.clone(f);q()})):n[g.toAbsMid(a+b+"/"+c)]=f}(m,r,f,l)}}q()});return!0}return!1})}k=k||g;r();b.forEach(c.config.extraLocale,r)},B=function(){},D={},C=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define \x3d function(mid, factory){define.called \x3d 1; __amdValue.result \x3d factory || mid;},\t   require \x3d function(){define.called \x3d 1;};try{define.called \x3d 0;eval(__bundle);if(define.called\x3d\x3d1)return __amdValue;if((__checkForLegacyModules \x3d __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),
E=function(a,d,c){var f=[];b.forEach(a,function(a){function b(c){c=C(c,B,a,D);c===D?f.push(n[d]=D.result):(c instanceof Error&&(c={}),f.push(n[d]=/nls\/[^\/]+\/[^\/]+$/.test(d)?c:{root:c,_v1x:1}))}var d=c.toUrl(a+".js");if(n[d])f.push(n[d]);else{var k=c.syncLoadNls(a);if(k)f.push(k);else if(e)e.get({url:d,sync:!0,load:b,error:function(){f.push(n[d]={})}});else try{c.getText(d,!0,b)}catch(m){f.push(n[d]={})}}});d&&d.apply(null,f)},B=function(a){for(var b,d=a.split("/"),f=c.global[d[0]],e=1;f&&e<d.length-
1;f=f[d[e++]]);f&&((b=f[d[e]])||(b=f[d[e].replace(/-/g,"_")]),b&&(n[a]=b));return b};m.getLocalization=function(a,b,d){var c;a=r(a,b,d);v(a,g.isXdUrl(g.toUrl(a+".js"))?g:function(a,b){E(a,b,g)},function(a){c=a});return c};l("dojo-unit-tests")&&x.push(function(a){a.register("tests.i18n.unit",function(a){var b;b=C("{prop:1}",B,"nonsense",D);a.is({prop:1},b);a.is(void 0,b[1]);b=C("({prop:1})",B,"nonsense",D);a.is({prop:1},b);a.is(void 0,b[1]);b=C("{'prop-x':1}",B,"nonsense",D);a.is({"prop-x":1},b);a.is(void 0,
b[1]);b=C("({'prop-x':1})",B,"nonsense",D);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=C("define({'prop-x':1})",B,"nonsense",D);a.is(D,b);a.is({"prop-x":1},D.result);b=C("define('some/module', {'prop-x':1})",B,"nonsense",D);a.is(D,b);a.is({"prop-x":1},D.result);b=C("this is total nonsense and should throw an error",B,"nonsense",D);a.is(b instanceof Error,!0)})});return d.mixin(m,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:v,cache:n,getL10nName:t})})},"dojo/regexp":function(){define(["./_base/kernel",
"./_base/lang"],function(c,g){var l={};g.setObject("dojo.regexp",l);l.escapeString=function(b,a){return b.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(b){return a&&-1!=a.indexOf(b)?b:"\\"+b})};l.buildGroupRE=function(b,a,d){if(!(b instanceof Array))return a(b);for(var c=[],f=0;f<b.length;f++)c.push(a(b[f]));return l.group(c.join("|"),d)};l.group=function(b,a){return"("+(a?"?:":"")+b+")"};return l})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(c,g){var l={};g.setObject("dojo.string",
l);l.rep=function(b,a){if(0>=a||!b)return"";for(var d=[];;){a&1&&d.push(b);if(!(a>>=1))break;b+=b}return d.join("")};l.pad=function(b,a,d,c){d||(d="0");b=String(b);a=l.rep(d,Math.ceil((a-b.length)/d.length));return c?b+a:a+b};l.substitute=function(b,a,d,e){e=e||c.global;d=d?g.hitch(e,d):function(a){return a};return b.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(b,c,m){b=g.getObject(c,!1,a);m&&(b=g.getObject(m,!1,e).call(e,b,c));return d(b,c).toString()})};l.trim=String.prototype.trim?
g.trim:function(b){b=b.replace(/^\s+/,"");for(var a=b.length-1;0<=a;a--)if(/\S/.test(b.charAt(a))){b=b.substring(0,a+1);break}return b};return l})},"dojo/fx":function(){define("./_base/lang ./Evented ./_base/kernel ./_base/array ./aspect ./_base/fx ./dom ./dom-style ./dom-geometry ./ready require".split(" "),function(c,g,l,b,a,d,e,f,k,m,p){l.isAsync||m(0,function(){p(["./fx/Toggler"])});l=l.fx={};m={_fire:function(a,b){this[a]&&this[a].apply(this,b||[]);return this}};var q=function(a){this._index=
-1;this._animations=a||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;b.forEach(this._animations,function(a){this.duration+=a.duration;a.delay&&(this.duration+=a.delay)},this)};q.prototype=new g;c.extend(q,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],
this._onAnimateCtx=a.after(this._current,"onAnimate",c.hitch(this,"_onAnimate"),!0),this._onEndCtx=a.after(this._current,"onEnd",c.hitch(this,"_onEnd"),!0),this._current.play(0,!0))},play:function(b,d){this._current||(this._current=this._animations[this._index=0]);if(!d&&"playing"==this._current.status())return this;var f=a.after(this._current,"beforeBegin",c.hitch(this,function(){this._fire("beforeBegin")}),!0),e=a.after(this._current,"onBegin",c.hitch(this,function(a){this._fire("onBegin",arguments)}),
!0),k=a.after(this._current,"onPlay",c.hitch(this,function(a){this._fire("onPlay",arguments);f.remove();e.remove();k.remove()}));this._onAnimateCtx&&this._onAnimateCtx.remove();this._onAnimateCtx=a.after(this._current,"onAnimate",c.hitch(this,"_onAnimate"),!0);this._onEndCtx&&this._onEndCtx.remove();this._onEndCtx=a.after(this._current,"onEnd",c.hitch(this,"_onEnd"),!0);this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var b=a.after(this._current,"onPause",
c.hitch(this,function(a){this._fire("onPause",arguments);b.remove()}),!0);this._current.pause()}return this},gotoPercent:function(a,d){this.pause();var c=this.duration*a;this._current=null;b.some(this._animations,function(a){if(a.duration<=c)return this._current=a,!0;c-=a.duration;return!1});this._current&&this._current.gotoPercent(c/this._current.duration,d);return this},stop:function(b){if(this._current){if(b){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0);
this._current=this._animations[this._index]}var d=a.after(this._current,"onStop",c.hitch(this,function(a){this._fire("onStop",arguments);d.remove()}),!0);this._current.stop()}return this},status:function(){return this._current?this._current.status():"stopped"},destroy:function(){this._onAnimateCtx&&this._onAnimateCtx.remove();this._onEndCtx&&this._onEndCtx.remove()}});c.extend(q,m);l.chain=function(a){return new q(a)};var n=function(f){this._animations=f||[];this._connects=[];this.duration=this._finished=
0;b.forEach(f,function(b){var d=b.duration;b.delay&&(d+=b.delay);this.duration<d&&(this.duration=d);this._connects.push(a.after(b,"onEnd",c.hitch(this,"_onEnd"),!0))},this);this._pseudoAnimation=new d.Animation({curve:[0,1],duration:this.duration});var e=this;b.forEach("beforeBegin onBegin onPlay onAnimate onPause onStop onEnd".split(" "),function(b){e._connects.push(a.after(e._pseudoAnimation,b,function(){e._fire(b,arguments)},!0))})};c.extend(n,{_doAction:function(a,d){b.forEach(this._animations,
function(b){b[a].apply(b,d)});return this},_onEnd:function(){++this._finished>this._animations.length&&this._fire("onEnd")},_call:function(a,b){var d=this._pseudoAnimation;d[a].apply(d,b)},play:function(a,b){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(a,d){var c=this.duration*a;b.forEach(this._animations,function(a){a.gotoPercent(a.duration<
c?1:c/a.duration,d)});this._call("gotoPercent",arguments);return this},stop:function(a){this._doAction("stop",arguments);this._call("stop",arguments);return this},status:function(){return this._pseudoAnimation.status()},destroy:function(){b.forEach(this._connects,function(a){a.remove()})}});c.extend(n,m);l.combine=function(a){return new n(a)};l.wipeIn=function(b){var k=b.node=e.byId(b.node),m=k.style,p;b=d.animateProperty(c.mixin({properties:{height:{start:function(){p=m.overflow;m.overflow="hidden";
if("hidden"==m.visibility||"none"==m.display)return m.height="1px",m.display="",m.visibility="",1;var a=f.get(k,"height");return Math.max(a,1)},end:function(){return k.scrollHeight}}}},b));var q=function(){m.height="auto";m.overflow=p};a.after(b,"onStop",q,!0);a.after(b,"onEnd",q,!0);return b};l.wipeOut=function(b){var f=(b.node=e.byId(b.node)).style,k;b=d.animateProperty(c.mixin({properties:{height:{end:1}}},b));a.after(b,"beforeBegin",function(){k=f.overflow;f.overflow="hidden";f.display=""},!0);
var m=function(){f.overflow=k;f.height="auto";f.display="none"};a.after(b,"onStop",m,!0);a.after(b,"onEnd",m,!0);return b};l.slideTo=function(b){var m=null,p=null,q=function(a){return function(){var b=f.getComputedStyle(a),d=b.position;m="absolute"==d?a.offsetTop:parseInt(b.top)||0;p="absolute"==d?a.offsetLeft:parseInt(b.left)||0;"absolute"!=d&&"relative"!=d&&(b=k.position(a,!0),m=b.y,p=b.x,a.style.position="absolute",a.style.top=m+"px",a.style.left=p+"px")}}(b.node=e.byId(b.node));q();b=d.animateProperty(c.mixin({properties:{top:b.top||
0,left:b.left||0}},b));a.after(b,"beforeBegin",q,!0);return b};return l})},"dijit/Tooltip":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff ./_base/manager ./place ./_Widget ./_TemplatedMixin ./BackgroundIframe dojo/text!./templates/Tooltip.html ./main".split(" "),function(c,g,l,b,a,d,e,f,k,m,p,q,n,r,t,s,u,v){var x=g("dijit._MasterTooltip",[r,t],{duration:q.defaultDuration,templateString:u,
postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new s(this.domNode);this.fadeIn=l.fadeIn({node:this.domNode,duration:this.duration,onEnd:f.hitch(this,"_onShow")});this.fadeOut=l.fadeOut({node:this.domNode,duration:this.duration,onEnd:f.hitch(this,"_onHide")})},show:function(a,b,d,c,k){if(!this.aroundNode||this.aroundNode!==b||this.containerNode.innerHTML!=a)if("playing"==this.fadeOut.status())this._onDeck=arguments;else{this.containerNode.innerHTML=a;k&&this.set("textDir",
k);this.containerNode.align=c?"right":"left";var m=n.around(this.domNode,b,d&&d.length?d:w.defaultPosition,!c,f.hitch(this,"orient")),p=m.aroundNodePos;"M"==m.corner.charAt(0)&&"M"==m.aroundCorner.charAt(0)?(this.connectorNode.style.top=p.y+(p.h-this.connectorNode.offsetHeight>>1)-m.y+"px",this.connectorNode.style.left=""):"M"==m.corner.charAt(1)&&"M"==m.aroundCorner.charAt(1)?this.connectorNode.style.left=p.x+(p.w-this.connectorNode.offsetWidth>>1)-m.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top=
"");e.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=!0;this.aroundNode=b}},orient:function(a,b,c,f,e){this.connectorNode.style.top="";var k=f.h;f=f.w;a.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight",
"BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[b+"-"+c];this.domNode.style.width="auto";var m=d.position(this.domNode);if(p("ie")||p("trident"))m.w+=2;var q=Math.min(Math.max(f,1),m.w);d.setMarginBox(this.domNode,{w:q});"B"==c.charAt(0)&&"B"==b.charAt(0)?(a=d.position(a),b=this.connectorNode.offsetHeight,a.h>k?(this.connectorNode.style.top=k-(e.h+b>>1)+"px",this.connectorNode.style.bottom=""):(this.connectorNode.style.bottom=Math.min(Math.max(e.h/2-b/2,0),a.h-b)+"px",this.connectorNode.style.top=
"")):(this.connectorNode.style.top="",this.connectorNode.style.bottom="");return Math.max(0,m.w-f)},_onShow:function(){p("ie")&&(this.domNode.style.filter="")},hide:function(a){this._onDeck&&this._onDeck[1]==a?this._onDeck=null:this.aroundNode===a&&(this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play())},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";this._onDeck&&(this.show.apply(this,this._onDeck),this._onDeck=null)}});p("dojo-bidi")&&
x.extend({_setAutoTextDir:function(a){this.applyTextDir(a);c.forEach(a.children,function(a){this._setAutoTextDir(a)},this)},_setTextDirAttr:function(a){this._set("textDir",a);"auto"==a?this._setAutoTextDir(this.containerNode):this.containerNode.dir=this.textDir}});v.showTooltip=function(a,b,d,f,e){d&&(d=c.map(d,function(a){return{after:"after-centered",before:"before-centered"}[a]||a}));w._masterTT||(v._masterTT=w._masterTT=new x);return w._masterTT.show(a,b,d,f,e)};v.hideTooltip=function(a){return w._masterTT&&
w._masterTT.hide(a)};var w=g("dijit.Tooltip",r,{label:"",showDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(a){c.forEach(this._connections||[],function(a){c.forEach(a,function(a){a.remove()})},this);this._connectIds=c.filter(f.isArrayLike(a)?a:a?[a]:[],function(a){return b.byId(a,this.ownerDocument)},this);this._connections=c.map(this._connectIds,function(a){a=b.byId(a,this.ownerDocument);var d=this.selector,c=d?function(a){return m.selector(d,a)}:function(a){return a},
e=this;return[m(a,c(k.enter),function(){e._onHover(this)}),m(a,c("focusin"),function(){e._onHover(this)}),m(a,c(k.leave),f.hitch(e,"_onUnHover")),m(a,c("focusout"),f.hitch(e,"_onUnHover"))]},this);this._set("connectId",a)},addTarget:function(a){a=a.id||a;-1==c.indexOf(this._connectIds,a)&&this.set("connectId",this._connectIds.concat(a))},removeTarget:function(a){a=c.indexOf(this._connectIds,a.id||a);0<=a&&(this._connectIds.splice(a,1),this.set("connectId",this._connectIds))},buildRendering:function(){this.inherited(arguments);
a.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var a=this.connectId;c.forEach(f.isArrayLike(a)?a:[a],this.addTarget,this)},getContent:function(a){return this.label||this.domNode.innerHTML},_onHover:function(a){this._showTimer||(this._showTimer=this.defer(function(){this.open(a)},this.showDelay))},_onUnHover:function(){this._showTimer&&(this._showTimer.remove(),delete this._showTimer);this.close()},open:function(a){this._showTimer&&(this._showTimer.remove(),delete this._showTimer);
var b=this.getContent(a);b&&(w.show(b,a,this.position,!this.isLeftToRight(),this.textDir),this._connectNode=a,this.onShow(a,this.position))},close:function(){this._connectNode&&(w.hide(this._connectNode),delete this._connectNode,this.onHide());this._showTimer&&(this._showTimer.remove(),delete this._showTimer)},onShow:function(){},onHide:function(){},destroy:function(){this.close();c.forEach(this._connections||[],function(a){c.forEach(a,function(a){a.remove()})},this);this.inherited(arguments)}});
w._MasterTooltip=x;w.show=v.showTooltip;w.hide=v.hideTooltip;w.defaultPosition=["after-centered","before-centered"];return w})},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(c,g,l,b,a){var d={};c.forEach("byId getUniqueId findWidgets _destroyAll byNode getEnclosingWidget".split(" "),function(a){d[a]=b[a]});l.mixin(d,{defaultDuration:g.defaultDuration||200});l.mixin(a,d);return a})},"dijit/registry":function(){define(["dojo/_base/array",
"dojo/sniff","dojo/_base/window","./main"],function(c,g,l,b){var a={},d={},e={length:0,add:function(a){if(d[a.id])throw Error("Tried to register widget with id\x3d\x3d"+a.id+" but that id is already registered");d[a.id]=a;this.length++},remove:function(a){d[a]&&(delete d[a],this.length--)},byId:function(a){return"string"==typeof a?d[a]:a},byNode:function(a){return d[a.getAttribute("widgetId")]},toArray:function(){var a=[],b;for(b in d)a.push(d[b]);return a},getUniqueId:function(c){var e;do e=c+"_"+
(c in a?++a[c]:a[c]=0);while(d[e]);return"dijit"==b._scopeName?e:b._scopeName+"_"+e},findWidgets:function(a,b){function c(a){for(a=a.firstChild;a;a=a.nextSibling)if(1==a.nodeType){var f=a.getAttribute("widgetId");f?(f=d[f])&&e.push(f):a!==b&&c(a)}}var e=[];c(a);return e},_destroyAll:function(){b._curFocus=null;b._prevFocus=null;b._activeStack=[];c.forEach(e.findWidgets(l.body()),function(a){a._destroyed||(a.destroyRecursive?a.destroyRecursive():a.destroy&&a.destroy())})},getEnclosingWidget:function(a){for(;a;){var b=
1==a.nodeType&&a.getAttribute("widgetId");if(b)return d[b];a=a.parentNode}return null},_hash:d};return b.registry=e})},"dijit/place":function(){define("dojo/_base/array dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/window ./Viewport ./main".split(" "),function(c,g,l,b,a,d,e){function f(b,f,e,k){var r=d.getEffectiveBox(b.ownerDocument);b.parentNode&&"body"==String(b.parentNode.tagName).toLowerCase()||a.body(b.ownerDocument).appendChild(b);var t=null;c.some(f,function(a){var d=a.corner,
c=a.pos,f=0,p={w:{L:r.l+r.w-c.x,R:c.x-r.l,M:r.w}[d.charAt(1)],h:{T:r.t+r.h-c.y,B:c.y-r.t,M:r.h}[d.charAt(0)]},l=b.style;l.left=l.right="auto";e&&(f=e(b,a.aroundCorner,d,p,k),f="undefined"==typeof f?0:f);var s=b.style,u=s.display,C=s.visibility;"none"==s.display&&(s.visibility="hidden",s.display="");l=g.position(b);s.display=u;s.visibility=C;u={L:c.x,R:c.x-l.w,M:Math.max(r.l,Math.min(r.l+r.w,c.x+(l.w>>1))-l.w)}[d.charAt(1)];C={T:c.y,B:c.y-l.h,M:Math.max(r.t,Math.min(r.t+r.h,c.y+(l.h>>1))-l.h)}[d.charAt(0)];
c=Math.max(r.l,u);s=Math.max(r.t,C);u=Math.min(r.l+r.w,u+l.w);C=Math.min(r.t+r.h,C+l.h);u-=c;C-=s;f+=l.w-u+(l.h-C);if(null==t||f<t.overflow)t={corner:d,aroundCorner:a.aroundCorner,x:c,y:s,w:u,h:C,overflow:f,spaceAvailable:p};return!f});t.overflow&&e&&e(b,t.aroundCorner,t.corner,t.spaceAvailable,k);f=t.y;var s=t.x,u=a.body(b.ownerDocument);/relative|absolute/.test(l.get(u,"position"))&&(f-=l.get(u,"marginTop"),s-=l.get(u,"marginLeft"));u=b.style;u.top=f+"px";u.left=s+"px";u.right="auto";return t}var k=
{TL:"BR",TR:"BL",BL:"TR",BR:"TL"};return e.place={at:function(a,b,d,e,r){d=c.map(d,function(a){var d={corner:a,aroundCorner:k[a],pos:{x:b.x,y:b.y}};e&&(d.pos.x+="L"==a.charAt(1)?e.x:-e.x,d.pos.y+="T"==a.charAt(0)?e.y:-e.y);return d});return f(a,d,r)},around:function(a,d,e,k,r){function t(a,b){C.push({aroundCorner:a,corner:b,pos:{x:{L:z,R:z+B,M:z+(B>>1)}[a.charAt(1)],y:{T:y,B:y+D,M:y+(D>>1)}[a.charAt(0)]}})}var s;if("string"==typeof d||"offsetWidth"in d||"ownerSVGElement"in d){if(s=g.position(d,!0),
/^(above|below)/.test(e[0])){var u=g.getBorderExtents(d),v=d.firstChild?g.getBorderExtents(d.firstChild):{t:0,l:0,b:0,r:0},x=g.getBorderExtents(a),w=a.firstChild?g.getBorderExtents(a.firstChild):{t:0,l:0,b:0,r:0};s.y+=Math.min(u.t+v.t,x.t+w.t);s.h-=Math.min(u.t+v.t,x.t+w.t)+Math.min(u.b+v.b,x.b+w.b)}}else s=d;if(d.parentNode)for(u="absolute"==l.getComputedStyle(d).position,d=d.parentNode;d&&1==d.nodeType&&"BODY"!=d.nodeName;){v=g.position(d,!0);x=l.getComputedStyle(d);/relative|absolute/.test(x.position)&&
(u=!1);if(!u&&/hidden|auto|scroll/.test(x.overflow)){var w=Math.min(s.y+s.h,v.y+v.h),A=Math.min(s.x+s.w,v.x+v.w);s.x=Math.max(s.x,v.x);s.y=Math.max(s.y,v.y);s.h=w-s.y;s.w=A-s.x}"absolute"==x.position&&(u=!0);d=d.parentNode}var z=s.x,y=s.y,B="w"in s?s.w:s.w=s.width,D="h"in s?s.h:(b.deprecated("place.around: dijit/place.__Rectangle: { x:"+z+", y:"+y+", height:"+s.height+", width:"+B+" } has been deprecated.  Please use { x:"+z+", y:"+y+", h:"+s.height+", w:"+B+" }","","2.0"),s.h=s.height),C=[];c.forEach(e,
function(a){var b=k;switch(a){case "above-centered":t("TM","BM");break;case "below-centered":t("BM","TM");break;case "after-centered":b=!b;case "before-centered":t(b?"ML":"MR",b?"MR":"ML");break;case "after":b=!b;case "before":t(b?"TL":"TR",b?"TR":"TL");t(b?"BL":"BR",b?"BR":"BL");break;case "below-alt":b=!b;case "below":t(b?"BL":"BR",b?"TL":"TR");t(b?"BR":"BL",b?"TR":"TL");break;case "above-alt":b=!b;case "above":t(b?"TL":"TR",b?"BL":"BR");t(b?"TR":"TL",b?"BR":"BL");break;default:t(a.aroundCorner,
a.corner)}});a=f(a,C,r,{w:B,h:D});a.aroundNodePos=s;return a}}})},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(c,g,l,b,a){var d=new c,e;l(function(){var c=a.getBox();d._rlh=g(window,"resize",function(){var b=a.getBox();if(c.h!=b.h||c.w!=b.w)c=b,d.emit("resize")});if(8==b("ie")){var k=screen.deviceXDPI;setInterval(function(){screen.deviceXDPI!=k&&(k=screen.deviceXDPI,d.emit("resize"))},500)}b("ios")&&(g(document,"focusin",function(a){e=
a.target}),g(document,"focusout",function(a){e=null}))});d.getEffectiveBox=function(d){d=a.getBox(d);var c=e&&e.tagName&&e.tagName.toLowerCase();b("ios")&&e&&!e.readOnly&&("textarea"==c||"input"==c&&/^(color|email|number|password|search|tel|text|url)$/.test(e.type))&&(d.h*=0==orientation||180==orientation?0.66:0.4,c=e.getBoundingClientRect(),d.h=Math.max(d.h,c.top+c.height));return d};return d})},"dojo/window":function(){define("./_base/lang ./sniff ./_base/window ./dom ./dom-geometry ./dom-style ./dom-construct".split(" "),
function(c,g,l,b,a,d,e){g.add("rtl-adjust-position-for-verticalScrollBar",function(b,d){var c=l.body(d),f=e.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},c,"last"),n=e.create("div",{style:{overflow:"hidden",direction:"ltr"}},f,"last"),r=0!=a.position(n).x;f.removeChild(n);c.removeChild(f);return r});g.add("position-fixed-support",function(b,d){var c=l.body(d),f=e.create("span",{style:{visibility:"hidden",
position:"fixed",left:"1px",top:"1px"}},c,"last"),n=e.create("span",{style:{position:"fixed",left:"0",top:"0"}},f,"last"),r=a.position(n).x!=a.position(f).x;f.removeChild(n);c.removeChild(f);return r});var f={getBox:function(b){b=b||l.doc;var d="BackCompat"==b.compatMode?l.body(b):b.documentElement,c=a.docScroll(b);if(g("touch")){var e=f.get(b);b=e.innerWidth||d.clientWidth;d=e.innerHeight||d.clientHeight}else b=d.clientWidth,d=d.clientHeight;return{l:c.x,t:c.y,w:b,h:d}},get:function(a){if(g("ie")&&
f!==document.parentWindow){a.parentWindow.execScript("document._parentWindow \x3d window;","Javascript");var b=a._parentWindow;a._parentWindow=null;return b}return a.parentWindow||a.defaultView},scrollIntoView:function(c,f){try{c=b.byId(c);var e=c.ownerDocument||l.doc,q=l.body(e),n=e.documentElement||q.parentNode,r=g("ie"),t=g("webkit");if(c!=q&&c!=n)if(!(g("mozilla")||r||t||g("opera")||g("trident"))&&"scrollIntoView"in c)c.scrollIntoView(!1);else{var s="BackCompat"==e.compatMode,u=Math.min(q.clientWidth||
n.clientWidth,n.clientWidth||q.clientWidth),v=Math.min(q.clientHeight||n.clientHeight,n.clientHeight||q.clientHeight),e=t||s?q:n,x=f||a.position(c),w=c.parentNode,t=function(a){return 6>=r||7==r&&s?!1:g("position-fixed-support")&&"fixed"==d.get(a,"position").toLowerCase()},A=this,z=function(a,b,d){"BODY"==a.tagName||"HTML"==a.tagName?A.get(a.ownerDocument).scrollBy(b,d):(b&&(a.scrollLeft+=b),d&&(a.scrollTop+=d))};if(!t(c))for(;w;){w==q&&(w=e);var y=a.position(w),B=t(w),D="rtl"==d.getComputedStyle(w).direction.toLowerCase();
if(w==e){y.w=u;y.h=v;e==n&&(r||g("trident"))&&D&&(y.x+=e.offsetWidth-y.w);if(0>y.x||!r||9<=r||g("trident"))y.x=0;if(0>y.y||!r||9<=r||g("trident"))y.y=0}else{var C=a.getPadBorderExtents(w);y.w-=C.w;y.h-=C.h;y.x+=C.l;y.y+=C.t;var E=w.clientWidth,I=y.w-E;0<E&&0<I&&(D&&g("rtl-adjust-position-for-verticalScrollBar")&&(y.x+=I),y.w=E);E=w.clientHeight;I=y.h-E;0<E&&0<I&&(y.h=E)}B&&(0>y.y&&(y.h+=y.y,y.y=0),0>y.x&&(y.w+=y.x,y.x=0),y.y+y.h>v&&(y.h=v-y.y),y.x+y.w>u&&(y.w=u-y.x));var M=x.x-y.x,P=x.y-y.y,G=M+x.w-
y.w,F=P+x.h-y.h,K,H;0<G*M&&(w.scrollLeft||w==e||w.scrollWidth>w.offsetHeight)&&(K=Math[0>M?"max":"min"](M,G),D&&(8==r&&!s||9<=r||g("trident"))&&(K=-K),H=w.scrollLeft,z(w,K,0),K=w.scrollLeft-H,x.x-=K);0<F*P&&(w.scrollTop||w==e||w.scrollHeight>w.offsetHeight)&&(K=Math.ceil(Math[0>P?"max":"min"](P,F)),H=w.scrollTop,z(w,0,K),K=w.scrollTop-H,x.y-=K);w=w!=e&&!B&&w.parentNode}}}catch(N){c.scrollIntoView(!1)}}};c.setObject("dojo.window",f);return f})},"dijit/_Widget":function(){define("dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),
function(c,g,l,b,a,d,e,f,k,m,p,q,n){function r(){}function t(a){return function(b,d,c,f){return b&&"string"==typeof d&&b[d]==r?b.on(d.substring(2).toLowerCase(),e.hitch(c,f)):a.apply(l,arguments)}}c.around(l,"connect",t);d.connect&&c.around(d,"connect",t);c=b("dijit._Widget",[p,q,n],{onClick:r,onDblClick:r,onKeyDown:r,onKeyPress:r,onKeyUp:r,onMouseDown:r,onMouseMove:r,onMouseOut:r,onMouseOver:r,onMouseLeave:r,onMouseEnter:r,onMouseUp:r,constructor:function(a){this._toConnect={};for(var b in a)this[b]===
r&&(this._toConnect[b.replace(/^on/,"").toLowerCase()]=a[b],delete a[b])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,b){return this[this._onMap(a)]===r?l.connect(this.domNode,a.toLowerCase(),this,b):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,b){d.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.",
"","2.0");this.set(a,b)},attr:function(a,b){return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){d.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?f("[widgetId]",this.containerNode).map(m.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});a("dijit-legacy-requires")&&k(0,function(){require(["dijit/_base"])});
return c})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable dojo/has!dojo-bidi?./_BidiMixin ./registry".split(" "),function(c,g,l,b,a,d,e,f,k,m,p,q,n,r,t,s,u,v,x,w,A,z,y){function B(a){return function(b){f[b?
"set":"remove"](this.domNode,a,b);this._set(a,b)}}n.add("dijit-legacy-requires",!r.isAsync);n.add("dojo-bidi",!1);n("dijit-legacy-requires")&&u(0,function(){c(["dijit/_base/manager"])});var D={};b=d("dijit._WidgetBase",[v,A],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:B("lang"),dir:"",_setDirAttr:B("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",
a)},attributeMap:{},_blankGif:b.blankGif||c.toUrl("dojo/resources/blank.gif"),_introspect:function(){var a=this.constructor;if(!a._setterAttrs){var b=a.prototype,d=a._setterAttrs=[],a=a._onMap={},c;for(c in b.attributeMap)d.push(c);for(c in b)/^on/.test(c)&&(a[c.substring(2).toLowerCase()]=c),/^_set[A-Z](.*)Attr$/.test(c)&&(c=c.charAt(4).toLowerCase()+c.substr(5,c.length-9),b.attributeMap&&c in b.attributeMap||d.push(c))}},postscript:function(a,b){this.create(a,b)},create:function(a,b){this._introspect();
this.srcNodeRef=e.byId(b);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id);a&&(this.params=a,t.mixin(this,a));this.postMixInProperties();this.id||(this.id=y.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=w.body(this.ownerDocument);y.add(this);this.buildRendering();
var d;if(this.domNode){this._applyAttributes();var c=this.srcNodeRef;c&&c.parentNode&&this.domNode!==c&&(c.parentNode.replaceChild(this.domNode,c),d=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();d&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a={},b;for(b in this.params||{})a[b]=this._get(b);g.forEach(this.constructor._setterAttrs,function(b){if(!(b in a)){var d=this._get(b);d&&this.set(b,d)}},this);for(b in a)this.set(b,a[b])},postMixInProperties:function(){},
buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(g.map(a,function(a){return a+"Rtl"})));k.add(this.domNode,a)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,g.forEach(this.getChildren(),function(a){a._started||a._destroyed||!t.isFunction(a.startup)||(a.startup(),a._started=!0)}))},destroyRecursive:function(a){this._beingDestroyed=
!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){function b(d){d.destroyRecursive?d.destroyRecursive(a):d.destroy&&d.destroy(a)}this._beingDestroyed=!0;this.uninitialize();g.forEach(this._connects,t.hitch(this,"disconnect"));g.forEach(this._supportingWidgets,b);this.domNode&&g.forEach(y.findWidgets(this.domNode,this.containerNode),b);this.destroyRendering(a);y.remove(this.id);this._destroyed=!0},destroyRendering:function(a){this.bgIframe&&(this.bgIframe.destroy(a),delete this.bgIframe);
this.domNode&&(a?f.remove(this.domNode,"widgetId"):m.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(a||m.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){g.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var b=this.domNode;t.isObject(a)?q.set(b,a):b.style.cssText=b.style.cssText?b.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,b,d){d=3<=
arguments.length?d:this.attributeMap[a];g.forEach(t.isArray(d)?d:[d],function(d){var c=this[d.node||d||"domNode"];switch(d.type||"attribute"){case "attribute":t.isFunction(b)&&(b=t.hitch(this,b));d=d.attribute?d.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;c.tagName?f.set(c,d,b):c.set(d,b);break;case "innerText":c.innerHTML="";c.appendChild(this.ownerDocument.createTextNode(b));break;case "innerHTML":c.innerHTML=b;break;case "class":k.replace(c,b,this[a])}},this)},get:function(a){var b=
this._getAttrNames(a);return this[b.g]?this[b.g]():this._get(a)},set:function(a,b){if("object"===typeof a){for(var d in a)this.set(d,a[d]);return this}d=this._getAttrNames(a);var c=this[d.s];if(t.isFunction(c))var f=c.apply(this,Array.prototype.slice.call(arguments,1));else{var c=this.focusNode&&!t.isFunction(this.focusNode)?"focusNode":"domNode",e=this[c]&&this[c].tagName,k;if((k=e)&&!(k=D[e])){k=this[c];var m={},p;for(p in k)m[p.toLowerCase()]=!0;k=D[e]=m}p=k;d=a in this.attributeMap?this.attributeMap[a]:
d.s in this?this[d.s]:p&&d.l in p&&"function"!=typeof b||/^aria-|^data-|^role$/.test(a)?c:null;null!=d&&this._attrToDom(a,b,d);this._set(a,b)}return f||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var d=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+d+"Attr",g:"_get"+d+"Attr",l:d.toLowerCase()}},_set:function(a,b){var d=this[a];this[a]=b;!this._created||d===b||d!==d&&b!==b||(this._watchCallbacks&&
this._watchCallbacks(a,d,b),this.emit("attrmodified-"+a,{detail:{prevValue:d,newValue:b}}))},_get:function(a){return this[a]},emit:function(a,b,d){b=b||{};void 0===b.bubbles&&(b.bubbles=!0);void 0===b.cancelable&&(b.cancelable=!0);b.detail||(b.detail={});b.detail.widget=this;var c,f=this["on"+a];f&&(c=f.apply(this,d?d:[b]));this._started&&!this._beingDestroyed&&s.emit(this.domNode,a.toLowerCase(),b);return c},on:function(a,b){var d=this._onMap(a);return d?l.after(this,d,b,!0):this.own(s(this.domNode,
a,b))[0]},_onMap:function(a){var b=this.constructor,d=b._onMap;if(!d){var d=b._onMap={},c;for(c in b.prototype)/^on/.test(c)&&(d[c.replace(/^on/,"").toLowerCase()]=c)}return d["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?y.findWidgets(this.containerNode):[]},getParent:function(){return y.getEnclosingWidget(this.domNode.parentNode)},connect:function(b,d,c){return this.own(a.connect(b,
d,this,c))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(x.subscribe(a,t.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir:p.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=q.get(this.domNode,"display")},placeAt:function(a,b){var d=!a.tagName&&y.byId(a);!d||!d.addChild||b&&"number"!==typeof b?(d=d?d.containerNode&&!/after|before|replace/.test(b||"")?d.containerNode:d.domNode:
e.byId(a,this.ownerDocument),m.place(this.domNode,d,b),!this._started&&(this.getParent()||{})._started&&this.startup()):d.addChild(this,b);return this},defer:function(a,b){var d=setTimeout(t.hitch(this,function(){d&&(d=null,this._destroyed||t.hitch(this,a)())}),b||0);return{remove:function(){d&&(clearTimeout(d),d=null);return null}}}});n("dojo-bidi")&&b.extend(z);return b})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(c,g,l,b){return c("dojo.Stateful",
null,{_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;return b[a]?b[a]:b[a]={s:"_"+a+"Setter",g:"_"+a+"Getter"}},postscript:function(a){a&&this.set(a)},_get:function(a,b){return"function"===typeof this[b.g]?this[b.g]():this[a]},get:function(a){return this._get(a,this._getAttrNames(a))},set:function(a,d){if("object"===typeof a){for(var c in a)a.hasOwnProperty(c)&&"_watchCallbacks"!=c&&this.set(c,a[c]);return this}c=this._getAttrNames(a);var f=this._get(a,c);c=this[c.s];var k;
"function"===typeof c?k=c.apply(this,Array.prototype.slice.call(arguments,1)):this[a]=d;if(this._watchCallbacks){var m=this;b(k,function(){m._watchCallbacks(a,f,d)})}return this},_changeAttrValue:function(a,b){var c=this.get(a);this[a]=b;this._watchCallbacks&&this._watchCallbacks(a,c,b);return this},watch:function(a,b){var c=this._watchCallbacks;if(!c)var f=this,c=this._watchCallbacks=function(a,b,d,k){var m=function(c){if(c){c=c.slice();for(var e=0,k=c.length;e<k;e++)c[e].call(f,a,b,d)}};m(c["_"+
a]);k||m(c["*"])};b||"function"!==typeof a?a="_"+a:(b=a,a="*");var k=c[a];"object"!==typeof k&&(k=c[a]=[]);k.push(b);var m={};m.unwatch=m.remove=function(){var a=l.indexOf(k,b);-1<a&&k.splice(a,1)};return m}})})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(c,g,l){return l("dijit.Destroyable",null,{destroy:function(b){this._destroyed=!0},own:function(){c.forEach(arguments,function(b){var a="destroyRecursive"in b?"destroyRecursive":"destroy"in
b?"destroy":"remove",d=g.before(this,"destroy",function(d){b[a](d)}),c=g.after(b,a,function(){d.remove();c.remove()},!0)},this);return arguments}})})},"dijit/_OnDijitClickMixin":function(){define("dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has ./a11yclick".split(" "),function(c,g,l,b,a,d){c=b("dijit._OnDijitClickMixin",null,{connect:function(a,b,c){return this.inherited(arguments,[a,"ondijitclick"==b?d:b,c])}});c.a11yclick=d;return c})},"dijit/a11yclick":function(){define(["dojo/keys",
"dojo/mouse","dojo/on","dojo/touch"],function(c,g,l,b){function a(a){if((a.keyCode===c.ENTER||a.keyCode===c.SPACE)&&!/input|button|textarea/i.test(a.target.nodeName))for(a=a.target;a;a=a.parentNode)if(a.dojoClick)return!0}var d;l(document,"keydown",function(b){a(b)?(d=b.target,b.preventDefault()):d=null});l(document,"keyup",function(b){a(b)&&b.target==d&&(d=null,l.emit(b.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:b.ctrlKey,shiftKey:b.shiftKey,metaKey:b.metaKey,altKey:b.altKey,_origType:b.type}))});
var e=function(a,b){a.dojoClick=!0;return l(a,"click",b)};e.click=e;e.press=function(a,d){var e=l(a,b.press,function(a){("mousedown"!=a.type||g.isLeft(a))&&d(a)}),p=l(a,"keydown",function(a){a.keyCode!==c.ENTER&&a.keyCode!==c.SPACE||d(a)});return{remove:function(){e.remove();p.remove()}}};e.release=function(a,d){var e=l(a,b.release,function(a){("mouseup"!=a.type||g.isLeft(a))&&d(a)}),p=l(a,"keyup",function(a){a.keyCode!==c.ENTER&&a.keyCode!==c.SPACE||d(a)});return{remove:function(){e.remove();p.remove()}}};
e.move=b.move;return e})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(c,g,l,b,a,d,e,f,k,m){function p(a,b,c){return s&&c?function(a,b){return d(a,c,b)}:r?function(c,f){var e=d(c,b,function(a){f.call(this,a);C=(new Date).getTime()}),k=d(c,a,function(a){(!C||(new Date).getTime()>C+1E3)&&f.call(this,a)});return{remove:function(){e.remove();k.remove()}}}:function(b,c){return d(b,a,c)}}function q(a){do if(void 0!==
a.dojoClick)return a.dojoClick;while(a=a.parentNode)}function n(a,c,f){if(x=!a.target.disabled&&q(a.target))w=a.target,A=a.changedTouches?a.changedTouches[0].pageX:a.clientX,z=a.changedTouches?a.changedTouches[0].pageY:a.clientY,y=("object"==typeof x?x.x:"number"==typeof x?x:0)||4,B=("object"==typeof x?x.y:"number"==typeof x?x:0)||4,v||(v=!0,m.doc.addEventListener(c,function(a){x=x&&(a.changedTouches?a.changedTouches[0].target:a.target)==w&&Math.abs((a.changedTouches?a.changedTouches[0].pageX:a.clientX)-
A)<=y&&Math.abs((a.changedTouches?a.changedTouches[0].pageY:a.clientY)-z)<=B},!0),m.doc.addEventListener(f,function(a){if(x){D=(new Date).getTime();var b=a.target;"LABEL"===b.tagName&&(b=l.byId(b.getAttribute("for"))||b);var c=a.changedTouches?a.changedTouches[0]:a,f=document.createEvent("MouseEvents");f._dojo_click=!0;f.initMouseEvent("click",!0,!0,a.view,a.detail,c.screenX,c.screenY,c.clientX,c.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null);setTimeout(function(){d.emit(b,"click",f)},0)}},
!0),a=function(a){m.doc.addEventListener(a,function(d){d._dojo_click||!((new Date).getTime()<=D+1E3)||"INPUT"==d.target.tagName&&b.contains(d.target,"dijitOffScreen")||(d.stopPropagation(),d.stopImmediatePropagation&&d.stopImmediatePropagation(),"click"!=a||"INPUT"==d.target.tagName&&"radio"!=d.target.type&&"checkbox"!=d.target.type||"TEXTAREA"==d.target.tagName||"AUDIO"==d.target.tagName||"VIDEO"==d.target.tagName||d.preventDefault())},!0)},a("click"),a("mousedown"),a("mouseup"))}var r=e("touch"),
t=5>e("ios"),s=navigator.pointerEnabled||navigator.msPointerEnabled,u=function(){var a={},b;for(b in{down:1,move:1,up:1,cancel:1,over:1,out:1})a[b]=navigator.pointerEnabled?"pointer"+b:"MSPointer"+b.charAt(0).toUpperCase()+b.slice(1);return a}(),v,x,w,A,z,y,B,D,C,E;r&&(s?k(function(){m.doc.addEventListener(u.down,function(a){n(a,u.move,u.up)},!0)}):k(function(){function b(d){var c=a.delegate(d,{bubbles:!0});6<=e("ios")&&(c.touches=d.touches,c.altKey=d.altKey,c.changedTouches=d.changedTouches,c.ctrlKey=
d.ctrlKey,c.metaKey=d.metaKey,c.shiftKey=d.shiftKey,c.targetTouches=d.targetTouches);return c}E=m.body();m.doc.addEventListener("touchstart",function(a){C=(new Date).getTime();var b=E;E=a.target;d.emit(b,"dojotouchout",{relatedTarget:E,bubbles:!0});d.emit(E,"dojotouchover",{relatedTarget:b,bubbles:!0});n(a,"touchmove","touchend")},!0);d(m.doc,"touchmove",function(a){C=(new Date).getTime();var c=m.doc.elementFromPoint(a.pageX-(t?0:m.global.pageXOffset),a.pageY-(t?0:m.global.pageYOffset));c&&(E!==c&&
(d.emit(E,"dojotouchout",{relatedTarget:c,bubbles:!0}),d.emit(c,"dojotouchover",{relatedTarget:E,bubbles:!0}),E=c),d.emit(c,"dojotouchmove",b(a))||a.preventDefault())});d(m.doc,"touchend",function(a){C=(new Date).getTime();var c=m.doc.elementFromPoint(a.pageX-(t?0:m.global.pageXOffset),a.pageY-(t?0:m.global.pageYOffset))||m.body();d.emit(c,"dojotouchend",b(a))})}));g={press:p("mousedown","touchstart",u.down),move:p("mousemove","dojotouchmove",u.move),release:p("mouseup","dojotouchend",u.up),cancel:p(f.leave,
"touchcancel",r?u.cancel:null),over:p("mouseover","dojotouchover",u.over),out:p("mouseout","dojotouchout",u.out),enter:f._eventHandler(p("mouseover","dojotouchover",u.over)),leave:f._eventHandler(p("mouseout","dojotouchout",u.out))};return c.touch=g})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(c,g,l,b){b.extend(g,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});
return l("dijit._FocusMixin",null,{_focusManager:c})})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),function(c,g,l,b,a,d,e,f,k,m,p,q,n,r,t,s,u){var v,x=new (g([q,e],{curNode:null,activeStack:[],constructor:function(){var a=f.hitch(this,function(a){l.isDescendant(this.curNode,a)&&this.set("curNode",
null);l.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});c.before(d,"empty",a);c.before(d,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(a,b){var d=this,c=a.document&&a.document.body;if(c){var f=k(a.document,"mousedown, touchstart",function(a){d._justMouseDowned=!0;setTimeout(function(){d._justMouseDowned=!1},13);a&&a.target&&null==a.target.parentNode||d._onTouchNode(b||a.target,"mouse")}),e=k(c,"focusin",function(a){v=(new Date).getTime();
if(a.target.tagName){var c=a.target.tagName.toLowerCase();"#document"!=c&&"body"!=c&&(t.isFocusable(a.target)?d._onFocusNode(b||a.target):d._onTouchNode(b||a.target))}}),m=k(c,"focusout",function(a){(new Date).getTime()<v+100||d._onBlurNode(b||a.target)});return{remove:function(){f.remove();e.remove();m.remove();c=f=e=m=null}}}},_onBlurNode:function(a){this._clearFocusTimer&&clearTimeout(this._clearFocusTimer);this._clearFocusTimer=setTimeout(f.hitch(this,function(){this.set("prevNode",this.curNode);
this.set("curNode",null)}),0);this._justMouseDowned||(this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),this._clearActiveWidgetsTimer=setTimeout(f.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0))},_onTouchNode:function(d,c){this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);a.contains(d,"dijitPopup")&&(d=d.firstChild);var f=[];try{for(;d;){var e=b.get(d,"dijitPopupParent");if(e)d=
s.byId(e).domNode;else if(d.tagName&&"body"==d.tagName.toLowerCase()){if(d===n.body())break;d=r.get(d.ownerDocument).frameElement}else{var k=d.getAttribute&&d.getAttribute("widgetId"),m=k&&s.byId(k);!m||"mouse"==c&&m.get("disabled")||f.unshift(k);d=d.parentNode}}}catch(p){}this._setStack(f,c)},_onFocusNode:function(a){a&&9!=a.nodeType&&(this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),
this.set("curNode",a)))},_setStack:function(a,b){var d=this.activeStack,c=d.length-1,f=a.length-1;if(a[f]!=d[c]){this.set("activeStack",a);var e;for(e=c;0<=e&&d[e]!=a[e];e--)if(c=s.byId(d[e]))c._hasBeenBlurred=!0,c.set("focused",!1),c._focusManager==this&&c._onBlur(b),this.emit("widget-blur",c,b);for(e++;e<=f;e++)if(c=s.byId(a[e]))c.set("focused",!0),c._focusManager==this&&c._onFocus(b),this.emit("widget-focus",c,b)}},focus:function(a){if(a)try{a.focus()}catch(b){}}}));m(function(){var a=x.registerWin(r.get(document));
p("ie")&&k(window,"unload",function(){a&&(a.remove(),a=null)})});u.focus=function(a){x.focus(a)};for(var w in x)/^_/.test(w)||(u.focus[w]="function"==typeof x[w]?f.hitch(x,w):x[w]);x.watch(function(a,b,d){u.focus[a]=d});return x})},"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),function(c,g,l,b,a,d,e){var f={_isElementShown:function(a){var d=b.get(a);return"hidden"!=d.visibility&&"collapsed"!=d.visibility&&"none"!=
d.display&&"hidden"!=l.get(a,"type")},hasDefaultTabStop:function(a){switch(a.nodeName.toLowerCase()){case "a":return l.has(a,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var b;try{var d=a.contentDocument;if("designMode"in d&&"on"==d.designMode)return!0;b=d.body}catch(c){try{b=a.contentWindow.document.body}catch(f){return!1}}return b&&("true"==b.contentEditable||b.firstChild&&"true"==b.firstChild.contentEditable);default:return"true"==
a.contentEditable}},effectiveTabIndex:function(a){return l.get(a,"disabled")?void 0:l.has(a,"tabIndex")?+l.get(a,"tabIndex"):f.hasDefaultTabStop(a)?0:void 0},isTabNavigable:function(a){return 0<=f.effectiveTabIndex(a)},isFocusable:function(a){return-1<=f.effectiveTabIndex(a)},_getTabNavigable:function(a){function b(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&a.name&&a.name.toLowerCase()}var c,e,n,r,g,s,u={},v=f._isElementShown,x=f.effectiveTabIndex,w=function(a){for(a=
a.firstChild;a;a=a.nextSibling)if(1==a.nodeType&&!(9>=d("ie")&&"HTML"!==a.scopeName)&&v(a)){var f=x(a);if(0<=f){if(0==f)c||(c=a),e=a;else if(0<f){if(!n||f<r)r=f,n=a;if(!g||f>=s)s=f,g=a}f=b(a);l.get(a,"checked")&&f&&(u[f]=a)}"SELECT"!=a.nodeName.toUpperCase()&&w(a)}};v(a)&&w(a);return{first:u[b(c)]||c,last:u[b(e)]||e,lowest:u[b(n)]||n,highest:u[b(g)]||g}},getFirstInTabbingOrder:function(a,b){var d=f._getTabNavigable(g.byId(a,b));return d.lowest?d.lowest:d.first},getLastInTabbingOrder:function(a,b){var d=
f._getTabNavigable(g.byId(a,b));return d.last?d.last:d.highest}};a.mixin(e,f);return f})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(c,g,l,b,a){var d=a.doc.documentElement;a=b("ie");var e=b("opera"),f=Math.floor,k=b("ff"),m=c.boxModel.replace(/-/,""),e={dj_quirks:b("quirks"),dj_opera:e,dj_khtml:b("khtml"),dj_webkit:b("webkit"),dj_safari:b("safari"),dj_chrome:b("chrome"),dj_gecko:b("mozilla"),dj_ios:b("ios"),dj_android:b("android")};
a&&(e.dj_ie=!0,e["dj_ie"+f(a)]=!0,e.dj_iequirks=b("quirks"));k&&(e["dj_ff"+f(k)]=!0);e["dj_"+m]=!0;var p="",q;for(q in e)e[q]&&(p+=q+" ");d.className=g.trim(d.className+" "+p);l(function(){if(!c.isBodyLtr()){var a="dj_rtl dijitRtl "+p.replace(/ /g,"-rtl ");d.className=g.trim(d.className+" "+a+"dj_rtl dijitRtl "+p.replace(/ /g,"-rtl "))}});return b})},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(c,g,l,b){l(function(){g("highcontrast")&&
c.add(b.body(),"dijit_a11y")});return g})},"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),function(c,g,l,b,a,d,e){a.add("highcontrast",function(){var d=e.doc.createElement("div");d.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("+(g.blankGif||c.toUrl("./resources/blank.gif"))+");";e.body().appendChild(d);var k=b.getComputedStyle(d),m=k.backgroundImage,
k=k.borderTopColor==k.borderRightColor||m&&("none"==m||"url(invalid-url:)"==m);8>=a("ie")?d.outerHTML="":e.body().removeChild(d);return k});d(function(){a("highcontrast")&&l.add(e.body(),"dj_a11y")});return a})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),function(c,g,l,b,a,d,e,f){var k=g("dijit._TemplatedMixin",f,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,
_stringRepl:function(a){var d=this.declaredClass,c=this;return e.substitute(a,this,function(a,f){"!"==f.charAt(0)&&(a=b.getObject(f.substr(1),!1,c));if("undefined"==typeof a)throw Error(d+" template:"+f);return null==a?"":"!"==f.charAt(0)?a:a.toString().replace(/"/g,"\x26quot;")},this)},buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=c(this.templatePath,{sanitize:!0}));var a=k.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),d;if(b.isString(a)){if(d=
l.toDom(this._stringRepl(a),this.ownerDocument),1!=d.nodeType)throw Error("Invalid template: "+a);}else d=a.cloneNode(!0);this.domNode=d}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);this._rendered=!0},_fillContent:function(a){var b=this.containerNode;if(a&&b)for(;a.hasChildNodes();)b.appendChild(a.firstChild)}});k._templateCache={};k.getCachedTemplate=function(a,b,d){var c=k._templateCache,f=a,g=c[f];if(g){try{if(!g.ownerDocument||g.ownerDocument==(d||document))return g}catch(s){}l.destroy(g)}a=
e.trim(a);if(b||a.match(/\$\{([^\}]+)\}/g))return c[f]=a;b=l.toDom(a,d);if(1!=b.nodeType)throw Error("Invalid template: "+a);return c[f]=b};d("ie")&&a(window,"unload",function(){var a=k._templateCache,b;for(b in a){var d=a[b];"object"==typeof d&&l.destroy(d);delete a[b]}});return k})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(c){return c.cache})},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(c,g,l,b){var a;a=function(a,d,c){b(a,{sync:!!d,
headers:{"X-Requested-With":null}}).then(c)};var d={},e=function(a){if(a){a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}else a="";return a},f={},k={};c.cache=function(b,c,f){var k;"string"==typeof b?/\//.test(b)?(k=b,f=c):k=g.toUrl(b.replace(/\./g,"/")+(c?"/"+c:"")):(k=b+"",f=c);b=void 0!=f&&"string"!=typeof f?f.value:f;f=f&&f.sanitize;if("string"==typeof b)return d[k]=b,f?e(b):b;if(null===b)return delete d[k],
null;k in d||a(k,!0,function(a){d[k]=a});return f?e(d[k]):d[k]};return{dynamic:!0,normalize:function(a,b){var d=a.split("!"),c=d[0];return(/^\./.test(c)?b(c):c)+(d[1]?"!"+d[1]:"")},load:function(b,c,q){b=b.split("!");var n=1<b.length,r=b[0],g=c.toUrl(b[0]);b="url:"+g;var l=f,u=function(a){q(n?e(a):a)};r in d?l=d[r]:c.cache&&b in c.cache?l=c.cache[b]:g in d&&(l=d[g]);if(l===f)if(k[g])k[g].push(u);else{var v=k[g]=[u];a(g,!c.async,function(a){d[r]=d[g]=a;for(var b=0;b<v.length;)v[b++](a);delete k[g]})}else u(l)}}})},
"dojo/request":function(){define(["./request/default!"],function(c){return c})},"dojo/request/default":function(){define(["exports","require","../has"],function(c,g,l){var b=l("config-requestProvider");b||(b="./xhr");c.getPlatformDefaultId=function(){return"./xhr"};c.load=function(a,d,c,f){g(["platform"==a?"./xhr":b],function(a){c(a)})}})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),
function(c,g,l,b,a,d,e,f,k){var m=a.delegate(f,{mouseenter:d.enter,mouseleave:d.leave,keypress:l._keypress}),p;l=b("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[]},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(a){for(var b=a;;)if(1==b.nodeType&&(this._processTemplateNode(b,function(a,b){return a.getAttribute(b)},this._attach)||
this.searchContainerNode)&&b.firstChild)b=b.firstChild;else{if(b==a)break;for(;!b.nextSibling;)if(b=b.parentNode,b==a)return;b=b.nextSibling}},_processTemplateNode:function(b,d,c){var f=!0,e=this.attachScope||this,k=d(b,"dojoAttachPoint")||d(b,"data-dojo-attach-point");if(k)for(var m=k.split(/\s*,\s*/);k=m.shift();)a.isArray(e[k])?e[k].push(b):e[k]=b,f="containerNode"!=k,this._attachPoints.push(k);if(d=d(b,"dojoAttachEvent")||d(b,"data-dojo-attach-event"))for(k=d.split(/\s*,\s*/),m=a.trim;d=k.shift();)if(d){var p=
null;-1!=d.indexOf(":")?(p=d.split(":"),d=m(p[0]),p=m(p[1])):d=m(d);p||(p=d);this._attachEvents.push(c(b,d,a.hitch(e,p)))}return f},_attach:function(a,b,d){b=b.replace(/^on/,"").toLowerCase();b="dijitclick"==b?p||(p=c("./a11yclick")):m[b]||b;return e(a,b,d)},_detachTemplateNodes:function(){var a=this.attachScope||this;g.forEach(this._attachPoints,function(b){delete a[b]});this._attachPoints=[];g.forEach(this._attachEvents,function(a){a.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();
this.inherited(arguments)}});a.extend(k,{dojoAttachEvent:"",dojoAttachPoint:""});return l})},"dijit/BackgroundIframe":function(){define("require ./main dojo/_base/config dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/on dojo/sniff".split(" "),function(c,g,l,b,a,d,e,f){f.add("config-bgIframe",!f("touch"));var k=new function(){var d=[];this.pop=function(){var e;d.length?(e=d.pop(),e.style.display=""):(9>f("ie")?(e="\x3ciframe src\x3d'"+(l.dojoBlankHtmlUrl||c.toUrl("dojo/resources/blank.html")||
'javascript:""')+"' role\x3d'presentation' style\x3d'position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity\x3d\"0\");'\x3e",e=document.createElement(e)):(e=b.create("iframe"),e.src='javascript:""',e.className="dijitBackgroundIframe",e.setAttribute("role","presentation"),a.set(e,"opacity",0.1)),e.tabIndex=-1);return e};this.push=function(a){a.style.display="none";d.push(a)}};g.BackgroundIframe=function(b){if(!b.id)throw Error("no id");if(f("config-bgIframe")){var c=this.iframe=
k.pop();b.appendChild(c);7>f("ie")||f("quirks")?(this.resize(b),this._conn=e(b,"resize",d.hitch(this,"resize",b))):a.set(c,{width:"100%",height:"100%"})}};d.extend(g.BackgroundIframe,{resize:function(b){this.iframe&&a.set(this.iframe,{width:b.offsetWidth+"px",height:b.offsetHeight+"px"})},destroy:function(){this._conn&&(this._conn.remove(),this._conn=null);this.iframe&&(k.push(this.iframe),delete this.iframe)}});return g.BackgroundIframe})},"dijit/layout/ContentPane":function(){define("dojo/_base/kernel dojo/_base/lang ../_Widget ../_Container ./_ContentPaneResizeMixin dojo/string dojo/html dojo/i18n!../nls/loading dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-construct dojo/_base/xhr dojo/i18n dojo/when".split(" "),
function(c,g,l,b,a,d,e,f,k,m,p,q,n,r,t,s,u){return m("dijit.layout.ContentPane",[l,b,a],{href:"",content:"",extractContent:!1,parseOnLoad:!0,parserScope:c._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"\x3cspan class\x3d'dijitContentPaneLoading'\x3e\x3cspan class\x3d'dijitInline dijitIconLoading'\x3e\x3c/span\x3e${loadingState}\x3c/span\x3e",errorMessage:"\x3cspan class\x3d'dijitContentPaneError'\x3e\x3cspan class\x3d'dijitInline dijitIconError'\x3e\x3c/span\x3e${errorState}\x3c/span\x3e",
isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,markupFactory:function(a,b,d){var c=new d(a,b);return!c.href&&c._contentSetter&&c._contentSetter.parseDeferred&&!c._contentSetter.parseDeferred.isFulfilled()?c._contentSetter.parseDeferred.then(function(){return c}):c},create:function(a,b){if(!(a&&a.template||!b||"href"in a||"content"in a)){b=q.byId(b);for(var d=b.ownerDocument.createDocumentFragment();b.firstChild;)d.appendChild(b.firstChild);
a=g.delegate(a,{content:d})}this.inherited(arguments,[a,b])},postMixInProperties:function(){this.inherited(arguments);var a=s.getLocalization("dijit","loading",this.lang);this.loadingMessage=d.substitute(this.loadingMessage,a);this.errorMessage=d.substitute(this.errorMessage,a)},buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode);this.domNode.removeAttribute("title")},startup:function(){this.inherited(arguments);this._contentSetter&&k.forEach(this._contentSetter.parseResults,
function(a){a._started||a._destroyed||!g.isFunction(a.startup)||(a.startup(),a._started=!0)},this)},_startChildren:function(){k.forEach(this.getChildren(),function(a){a._started||a._destroyed||!g.isFunction(a.startup)||(a.startup(),a._started=!0)});this._contentSetter&&k.forEach(this._contentSetter.parseResults,function(a){a._started||a._destroyed||!g.isFunction(a.startup)||(a.startup(),a._started=!0)},this)},setHref:function(a){c.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.",
"","2.0");return this.set("href",a)},_setHrefAttr:function(a){this.cancel();this.onLoadDeferred=new p(g.hitch(this,"cancel"));this.onLoadDeferred.then(g.hitch(this,"onLoad"));this._set("href",a);this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(a){c.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",a)},_setContentAttr:function(a){this._set("href",
"");this.cancel();this.onLoadDeferred=new p(g.hitch(this,"cancel"));this._created&&this.onLoadDeferred.then(g.hitch(this,"onLoad"));this._setContent(a||"");this._isDownloaded=!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(a){this._beingDestroyed||
this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},refresh:function(){this.cancel();this.onLoadDeferred=new p(g.hitch(this,"cancel"));this.onLoadDeferred.then(g.hitch(this,"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var a=this,b={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};
g.isObject(this.ioArgs)&&g.mixin(b,this.ioArgs);var d=this._xhrDfd=(this.ioMethod||t.get)(b),c;d.then(function(b){c=b;try{return a._isDownloaded=!0,a._setContent(b,!1)}catch(d){a._onError("Content",d)}},function(b){d.canceled||a._onError("Download",b);delete a._xhrDfd;return b}).then(function(){a.onDownloadEnd();delete a._xhrDfd;return c});delete this._hrefChanged},_onLoadHandler:function(a){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(a)}catch(b){}},_onUnloadHandler:function(){this._set("isLoaded",
!1);try{this.onUnload()}catch(a){}},destroyDescendants:function(a){this.isLoaded&&this._onUnloadHandler();var b=this._contentSetter;k.forEach(this.getChildren(),function(b){b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a);b._destroyed=!0});b&&(k.forEach(b.parseResults,function(b){b._destroyed||(b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a),b._destroyed=!0)}),delete b.parseResults);a||r.empty(this.containerNode);delete this._singleChild},_setContent:function(a,b){this.destroyDescendants();
var d=this._contentSetter;d&&d instanceof e._ContentSetter||(d=this._contentSetter=new e._ContentSetter({node:this.containerNode,_onError:g.hitch(this,this._onError),onContentError:g.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(b){}})}));var c=g.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!a.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||
{}),c=d.set(g.isObject(a)&&a.domNode?a.domNode:a,c),f=this;return u(c&&c.then?c:d.parseDeferred,function(){delete f._contentSetterParams;b||(f._started&&(f._startChildren(),f._scheduleLayout()),f._onLoadHandler(a))})},_onError:function(a,b,d){this.onLoadDeferred.reject(b);a=this["on"+a+"Error"].call(this,b);d||a&&this._setContent(a,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},
onDownloadEnd:function(){}})})},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(c,g,l,b){return g("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode)},addChild:function(a,b){var c=this.containerNode;if(0<b){for(c=c.firstChild;0<b;)1==c.nodeType&&b--,c=c.nextSibling;c?b="before":(c=this.containerNode,b="last")}l.place(a.domNode,c,b);this._started&&
!a._started&&a.startup()},removeChild:function(a){"number"==typeof a&&(a=this.getChildren()[a]);a&&(a=a.domNode)&&a.parentNode&&a.parentNode.removeChild(a)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(a,d){b.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");var e=this.getChildren(),f=c.indexOf(e,a);return e[f+d]},getIndexOfChild:function(a){return c.indexOf(this.getChildren(),a)}})})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/query dojo/sniff ../registry ../Viewport ./utils".split(" "),
function(c,g,l,b,a,d,e,f,k,m,p){return g("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var a=this.getParent();this._childOfLayoutWidget=a&&a.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(m.on("resize",d.hitch(this,"resize")))}},_checkIfSingleChild:function(){var a=[],b=!1;e("\x3e *",this.containerNode).some(function(d){var c=
k.byNode(d);c&&c.resize?a.push(c):!/script|link|style/i.test(d.nodeName)&&d.offsetHeight&&(b=!0)});this._singleChild=1!=a.length||b?null:a[0];l.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)},resize:function(a,b){this._resizeCalled=!0;this._scheduleLayout(a,b)},_scheduleLayout:function(a,b){this._isShown()?this._layout(a,b):(this._needLayout=!0,this._changeSize=a,this._resultSize=b)},_layout:function(a,c){delete this._needLayout;this._wasShown||!1===this.open||this._onShow();
a&&b.setMarginBox(this.domNode,a);var f=this.containerNode;if(f===this.domNode){var e=c||{};d.mixin(e,a||{});"h"in e&&"w"in e||(e=d.mixin(b.getMarginBox(f),e));this._contentBox=p.marginBox2contentBox(f,e)}else this._contentBox=b.getContentBox(f);this._layoutChildren()},_layoutChildren:function(){this.doLayout&&this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||b.getContentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else for(var a=
this.getChildren(),d,c=0;d=a[c++];)d.resize&&d.resize()},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,b=this.domNode.parentNode;return"none"!=a.style.display&&"hidden"!=a.style.visibility&&!l.contains(a,"dijitHidden")&&b&&b.style&&"none"!=b.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},
"dijit/layout/utils":function(){define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(c,g,l,b,a){function d(b,d){var c=b.resize?b.resize(d):l.setMarginBox(b.domNode,d);c?a.mixin(b,c):(a.mixin(b,l.getMarginBox(b.domNode)),a.mixin(b,d))}var e={marginBox2contentBox:function(a,d){var c=b.getComputedStyle(a),e=l.getMarginExtents(a,c),q=l.getPadBorderExtents(a,c);return{l:b.toPixelValue(a,c.paddingLeft),t:b.toPixelValue(a,c.paddingTop),w:d.w-(e.w+q.w),
h:d.h-(e.h+q.h)}},layoutChildren:function(b,e,m,p,q){e=a.mixin({},e);g.add(b,"dijitLayoutContainer");m=c.filter(m,function(a){return"center"!=a.region&&"client"!=a.layoutAlign}).concat(c.filter(m,function(a){return"center"==a.region||"client"==a.layoutAlign}));c.forEach(m,function(a){var b=a.domNode,c=a.region||a.layoutAlign;if(!c)throw Error("No region setting for "+a.id);var f=b.style;f.left=e.l+"px";f.top=e.t+"px";f.position="absolute";g.add(b,"dijitAlign"+(c.substring(0,1).toUpperCase()+c.substring(1)));
b={};p&&p==a.id&&(b["top"==a.region||"bottom"==a.region?"h":"w"]=q);"leading"==c&&(c=a.isLeftToRight()?"left":"right");"trailing"==c&&(c=a.isLeftToRight()?"right":"left");"top"==c||"bottom"==c?(b.w=e.w,d(a,b),e.h-=a.h,"top"==c?e.t+=a.h:f.top=e.t+e.h+"px"):"left"==c||"right"==c?(b.h=e.h,d(a,b),e.w-=a.w,"left"==c?e.l+=a.w:f.left=e.l+e.w+"px"):"client"!=c&&"center"!=c||d(a,e)})}};a.setObject("dijit.layout.utils",e);return e})},"dojo/html":function(){define("./_base/kernel ./_base/lang ./_base/array ./_base/declare ./dom ./dom-construct ./parser".split(" "),
function(c,g,l,b,a,d,e){var f=0,k={_secureForInnerHtml:function(a){return a.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"")},_emptyNode:d.empty,_setNodeContent:function(a,b){d.empty(a);if(b)if("string"==typeof b&&(b=d.toDom(b,a.ownerDocument)),!b.nodeType&&g.isArrayLike(b))for(var c=b.length,f=0;f<b.length;f=c==b.length?f+1:0)d.place(b[f],a,"last");else d.place(b,a,"last");return a},_ContentSetter:b("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,extractContent:!1,
parseContent:!1,parserScope:c._scopeName,startup:!0,constructor:function(b,d){g.mixin(this,b||{});d=this.node=a.byId(this.node||d);this.id||(this.id=["Setter",d?d.id||d.tagName:"",f++].join("_"))},set:function(a,b){void 0!==a&&(this.content=a);b&&this._mixin(b);this.onBegin();this.setContent();var d=this.onEnd();return d&&d.then?d:this.node},setContent:function(){var a=this.node;if(!a)throw Error(this.declaredClass+": setContent given no node");try{a=k._setNodeContent(a,this.content)}catch(b){var d=
this.onContentError(b);try{a.innerHTML=d}catch(c){}}this.node=a},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&this.parseResults.length&&(l.forEach(this.parseResults,function(a){a.destroy&&a.destroy()}),delete this.parseResults);d.empty(this.node)},onBegin:function(){var a=this.content;if(g.isString(a)&&(this.cleanContent&&(a=k._secureForInnerHtml(a)),this.extractContent)){var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);
b&&(a=b[1])}this.empty();this.content=a;return this.node},onEnd:function(){this.parseContent&&this._parse();return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content},onContentError:function(a){return"Error occurred setting content: "+a},onExecError:function(a){return"Error occurred executing scripts: "+a},_mixin:function(a){var b={},d;for(d in a)d in b||(this[d]=a[d])},_parse:function(){var a=this.node;try{var b={};l.forEach(["dir",
"lang","textDir"],function(a){this[a]&&(b[a]=this[a])},this);var d=this;this.parseDeferred=e.parse({rootNode:a,noStart:!this.startup,inherited:b,scope:this.parserScope}).then(function(a){return d.parseResults=a},function(a){d._onError("Content",a,"Error parsing in _ContentSetter#"+this.id)})}catch(c){this._onError("Content",c,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(a,b,d){a=this["on"+a+"Error"].call(this,b);d||a&&k._setNodeContent(this.node,a,!0)}}),set:function(a,b,d){void 0==
b&&(b="");return d?(new k._ContentSetter(g.mixin(d,{content:b,node:a}))).set():k._setNodeContent(a,b,!0)}};g.setObject("dojo.html",k);return k})},"dijit/dijit":function(){define("./main ./_base dojo/parser ./_Widget ./_TemplatedMixin ./_Container ./layout/_LayoutWidget ./form/_FormWidget ./form/_FormValueWidget".split(" "),function(c){return c})},"dijit/_base":function(){define("./main ./a11y ./WidgetSet ./_base/focus ./_base/manager ./_base/place ./_base/popup ./_base/scroll ./_base/sniff ./_base/typematic ./_base/wai ./_base/window".split(" "),
function(c){return c._base})},"dijit/WidgetSet":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","./registry"],function(c,g,l,b){var a=g("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0},add:function(a){if(this._hash[a.id])throw Error("Tried to register widget with id\x3d\x3d"+a.id+" but that id is already registered");this._hash[a.id]=a;this.length++},remove:function(a){this._hash[a]&&(delete this._hash[a],this.length--)},forEach:function(a,
b){b=b||l.global;var c=0,k;for(k in this._hash)a.call(b,this._hash[k],c++,this._hash);return this},filter:function(b,c){c=c||l.global;var f=new a,k=0,m;for(m in this._hash){var p=this._hash[m];b.call(c,p,k++,this._hash)&&f.add(p)}return f},byId:function(a){return this._hash[a]},byClass:function(b){var c=new a,f,k;for(f in this._hash)k=this._hash[f],k.declaredClass==b&&c.add(k);return c},toArray:function(){var a=[],b;for(b in this._hash)a.push(this._hash[b]);return a},map:function(a,b){return c.map(this.toArray(),
a,b)},every:function(a,b){b=b||l.global;var c=0,k;for(k in this._hash)if(!a.call(b,this._hash[k],c++,this._hash))return!1;return!0},some:function(a,b){b=b||l.global;var c=0,k;for(k in this._hash)if(a.call(b,this._hash[k],c++,this._hash))return!0;return!1}});c.forEach("forEach filter byClass map every some".split(" "),function(d){b[d]=a.prototype[d]});return a})},"dijit/_base/focus":function(){define("dojo/_base/array dojo/dom dojo/_base/lang dojo/topic dojo/_base/window ../focus ../selection ../main".split(" "),
function(c,g,l,b,a,d,e,f){d.focus=function(b){if(b){var c="node"in b?b.node:b,e=b.bookmark;b=b.openedForWindow;var q=e?e.isCollapsed:!1;if(c){var n="iframe"==c.tagName.toLowerCase()?c.contentWindow:c;if(n&&n.focus)try{n.focus()}catch(g){}d._onFocusNode(c)}if(e&&a.withGlobal(b||a.global,f.isCollapsed)&&!q){b&&b.focus();try{a.withGlobal(b||a.global,f.moveToBookmark,null,[e])}catch(l){}}}};d.watch("curNode",function(a,d,c){f._curFocus=c;f._prevFocus=d;c&&b.publish("focusNode",c)});d.watch("activeStack",
function(a,b,d){f._activeStack=d});d.on("widget-blur",function(a,d){b.publish("widgetBlur",a,d)});d.on("widget-focus",function(a,d){b.publish("widgetFocus",a,d)});l.mixin(f,{_curFocus:null,_prevFocus:null,isCollapsed:function(){return f.getBookmark().isCollapsed},getBookmark:function(){return(a.global==window?e:new e.SelectionManager(a.global)).getBookmark()},moveToBookmark:function(b){return(a.global==window?e:new e.SelectionManager(a.global)).moveToBookmark(b)},getFocus:function(b,c){var e=!d.curNode||
b&&g.isDescendant(d.curNode,b.domNode)?f._prevFocus:d.curNode;return{node:e,bookmark:e&&e==d.curNode&&a.withGlobal(c||a.global,f.getBookmark),openedForWindow:c}},_activeStack:[],registerIframe:function(a){return d.registerIframe(a)},unregisterIframe:function(a){a&&a.remove()},registerWin:function(a,b){return d.registerWin(a,b)},unregisterWin:function(a){a&&a.remove()}});return f})},"dijit/selection":function(){define("dojo/_base/array dojo/dom dojo/_base/lang dojo/sniff dojo/_base/window dijit/focus".split(" "),
function(c,g,l,b,a,d){var e=function(f){var e=f.document;this.getType=function(){if(e.getSelection){var a="text",b;try{b=f.getSelection()}catch(d){}b&&1==b.rangeCount&&(b=b.getRangeAt(0),b.startContainer==b.endContainer&&1==b.endOffset-b.startOffset&&3!=b.startContainer.nodeType&&(a="control"));return a}return e.selection.type.toLowerCase()};this.getSelectedText=function(){if(e.getSelection){var a=f.getSelection();return a?a.toString():""}return"control"==this.getType()?null:e.selection.createRange().text};
this.getSelectedHtml=function(){if(e.getSelection){var a=f.getSelection();if(a&&a.rangeCount){var b,d="";for(b=0;b<a.rangeCount;b++){var c=a.getRangeAt(b).cloneContents(),g=e.createElement("div");g.appendChild(c);d+=g.innerHTML}return d}return null}return"control"==this.getType()?null:e.selection.createRange().htmlText};this.getSelectedElement=function(){if("control"==this.getType()){if(e.getSelection){var a=f.getSelection();return a.anchorNode.childNodes[a.anchorOffset]}if((a=e.selection.createRange())&&
a.item)return e.selection.createRange().item(0)}return null};this.getParentElement=function(){if("control"==this.getType()){var a=this.getSelectedElement();if(a)return a.parentNode}else if(e.getSelection){if(a=e.getSelection()){for(a=a.anchorNode;a&&1!=a.nodeType;)a=a.parentNode;return a}}else return a=e.selection.createRange(),a.collapse(!0),a.parentElement();return null};this.hasAncestorElement=function(a){return null!=this.getAncestorElement.apply(this,arguments)};this.getAncestorElement=function(a){var b=
this.getSelectedElement()||this.getParentElement();return this.getParentOfType(b,arguments)};this.isTag=function(a,b){if(a&&a.tagName)for(var d=a.tagName.toLowerCase(),c=0;c<b.length;c++){var f=String(b[c]).toLowerCase();if(d==f)return f}return""};this.getParentOfType=function(a,b){for(;a;){if(this.isTag(a,b).length)return a;a=a.parentNode}return null};this.collapse=function(a){if(e.getSelection){var b=f.getSelection();b.removeAllRanges?a?b.collapseToStart():b.collapseToEnd():b.collapse(a)}else b=
e.selection.createRange(),b.collapse(a),b.select()};this.remove=function(){var a=e.selection;e.getSelection?(a=f.getSelection(),a.deleteFromDocument()):"none"!=a.type.toLowerCase()&&a.clear();return a};this.selectElementChildren=function(a,d){var c;a=g.byId(a);if(e.getSelection){var l=f.getSelection();b("opera")?(c=l.rangeCount?l.getRangeAt(0):e.createRange(),c.setStart(a,0),c.setEnd(a,3==a.nodeType?a.length:a.childNodes.length),l.addRange(c)):l.selectAllChildren(a)}else if(c=a.ownerDocument.body.createTextRange(),
c.moveToElementText(a),!d)try{c.select()}catch(t){}};this.selectElement=function(d,c){var f;d=g.byId(d);if(e.getSelection){var k=e.getSelection();f=e.createRange();k.removeAllRanges&&(b("opera")&&k.getRangeAt(0)&&(f=k.getRangeAt(0)),f.selectNode(d),k.removeAllRanges(),k.addRange(f))}else try{k=d.tagName?d.tagName.toLowerCase():"",f="img"===k||"table"===k?a.body(e).createControlRange():a.body(e).createRange(),f.addElement(d),c||f.select()}catch(l){this.selectElementChildren(d,c)}};this.inSelection=
function(a){if(a){var b,d;if(e.getSelection){var c=f.getSelection();c&&0<c.rangeCount&&(d=c.getRangeAt(0));if(d&&d.compareBoundaryPoints&&e.createRange)try{if(b=e.createRange(),b.setStart(a,0),1===d.compareBoundaryPoints(d.START_TO_END,b))return!0}catch(g){}}else{d=e.selection.createRange();try{b=a.ownerDocument.body.createTextRange(),b.moveToElementText(a)}catch(l){}if(d&&b&&1===d.compareEndPoints("EndToStart",b))return!0}}return!1};this.getBookmark=function(){var a,b,c=e.selection,g=d.curNode;if(e.getSelection){if(c=
f.getSelection())if(c.isCollapsed){if(a=g?g.tagName:"")if(a=a.toLowerCase(),"textarea"==a||"input"==a&&(!g.type||"text"==g.type.toLowerCase()))return c={start:g.selectionStart,end:g.selectionEnd,node:g,pRange:!0},{isCollapsed:c.end<=c.start,mark:c};a={isCollapsed:!0};c.rangeCount&&(a.mark=c.getRangeAt(0).cloneRange())}else b=c.getRangeAt(0),a={isCollapsed:!1,mark:b.cloneRange()}}else if(c){a=g?g.tagName:"";a=a.toLowerCase();if(g&&a&&("button"==a||"textarea"==a||"input"==a)){if(c.type&&"none"==c.type.toLowerCase())return{isCollapsed:!0,
mark:null};b=c.createRange();return{isCollapsed:b.text&&b.text.length?!1:!0,mark:{range:b,pRange:!0}}}a={};try{b=c.createRange(),a.isCollapsed=!("Text"==c.type?b.htmlText.length:b.length)}catch(l){return a.isCollapsed=!0,a}if("CONTROL"==c.type.toUpperCase())if(b.length)for(a.mark=[],c=0,g=b.length;c<g;)a.mark.push(b.item(c++));else a.isCollapsed=!0,a.mark=null;else a.mark=b.getBookmark()}return a};this.moveToBookmark=function(a){if(a=a.mark)if(e.getSelection){var b=f.getSelection();b&&b.removeAllRanges&&
(a.pRange?(b=a.node,b.selectionStart=a.start,b.selectionEnd=a.end):(b.removeAllRanges(),b.addRange(a)))}else if(e.selection&&a){var d;a.pRange?d=a.range:l.isArray(a)?(d=e.body.createControlRange(),c.forEach(a,function(a){d.addElement(a)})):(d=e.body.createTextRange(),d.moveToBookmark(a));d.select()}};this.isCollapsed=function(){return this.getBookmark().isCollapsed}},f=new e(window);f.SelectionManager=e;return f})},"dijit/_base/place":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/window",
"../place","../main"],function(c,g,l,b,a){var d={getViewport:function(){return l.getBox()}};d.placeOnScreen=b.at;d.placeOnScreenAroundElement=function(a,d,c,m){var p;if(g.isArray(c))p=c;else{p=[];for(var l in c)p.push({aroundCorner:l,corner:c[l]})}return b.around(a,d,p,!0,m)};d.placeOnScreenAroundNode=d.placeOnScreenAroundElement;d.placeOnScreenAroundRectangle=d.placeOnScreenAroundElement;d.getPopupAroundAlignment=function(a,b){var d={};c.forEach(a,function(a){var c=b;switch(a){case "after":d[b?"BR":
"BL"]=b?"BL":"BR";break;case "before":d[b?"BL":"BR"]=b?"BR":"BL";break;case "below-alt":c=!c;case "below":d[c?"BL":"BR"]=c?"TL":"TR";d[c?"BR":"BL"]=c?"TR":"TL";break;case "above-alt":c=!c;default:d[c?"TL":"TR"]=c?"BL":"BR",d[c?"TR":"TL"]=c?"BR":"BL"}});return d};g.mixin(a,d);return a})},"dijit/_base/popup":function(){define(["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(c,g,l){var b=l._createWrapper;l._createWrapper=function(a){a.declaredClass||(a={_popupWrapper:a.parentNode&&
c.contains(a.parentNode,"dijitPopup")?a.parentNode:null,domNode:a,destroy:function(){},ownerDocument:a.ownerDocument,ownerDocumentBody:g.body(a.ownerDocument)});return b.call(this,a)};var a=l.open;l.open=function(b){if(b.orient&&"string"!=typeof b.orient&&!("length"in b.orient)){var c=[],f;for(f in b.orient)c.push({aroundCorner:f,corner:b.orient[f]});b.orient=c}return a.call(this,b)};return l})},"dijit/popup":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on ./place ./BackgroundIframe ./Viewport ./main".split(" "),
function(c,g,l,b,a,d,e,f,k,m,p,q,n,r,t,s){function u(){this._popupWrapper&&(d.destroy(this._popupWrapper),delete this._popupWrapper)}l=l(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var a=this._firstAroundPosition,b=e.position(this._firstAroundNode,!0),d=b.x-a.x,a=b.y-a.y;if(d||a)for(this._firstAroundPosition=b,b=0;b<this._stack.length;b++){var c=this._stack[b].wrapper.style;c.top=parseInt(c.top,10)+a+"px";"auto"==c.right?c.left=parseInt(c.left,10)+
d+"px":c.right=parseInt(c.right,10)-d+"px"}this._aroundMoveListener=setTimeout(p.hitch(this,"_repositionAll"),d||a?10:50)}},_createWrapper:function(a){var b=a._popupWrapper,c=a.domNode;b||(b=d.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":a["aria-label"]||a.label||a.name||a.id},a.ownerDocumentBody),b.appendChild(c),c=c.style,c.display="",c.visibility="",c.position="",c.top="0px",a._popupWrapper=b,g.after(a,"destroy",u,!0));return b},moveOffScreen:function(a){var b=
this._createWrapper(a);a=e.isBodyLtr(a.ownerDocument);var d={visibility:"hidden",top:"-9999px",display:""};d[a?"left":"right"]="-9999px";d[a?"right":"left"]="auto";f.set(b,d);return b},hide:function(a){var b=this._createWrapper(a);f.set(b,{display:"none",height:"auto",overflow:"visible",border:""});a=a.domNode;"_originalStyle"in a&&(a.style.cssText=a._originalStyle)},getTopPopup:function(){for(var a=this._stack,b=a.length-1;0<b&&a[b].parent===a[b-1].widget;b--);return a[b]},open:function(d){for(var c=
this._stack,g=d.popup,l=g.domNode,s=d.orient||["below","below-alt","above","above-alt"],u=d.parent?d.parent.isLeftToRight():e.isBodyLtr(g.ownerDocument),B=d.around,D=d.around&&d.around.id?d.around.id+"_dropdown":"popup_"+this._idGen++;c.length&&(!d.parent||!b.isDescendant(d.parent.domNode,c[c.length-1].widget.domNode));)this.close(c[c.length-1].widget);var C=this.moveOffScreen(g);g.startup&&!g._started&&g.startup();var E,I=e.position(l);if("maxHeight"in d&&-1!=d.maxHeight)E=d.maxHeight||Infinity;
else{E=t.getEffectiveBox(this.ownerDocument);var M=B?e.position(B,!1):{y:d.y-(d.padding||0),h:2*(d.padding||0)};E=Math.floor(Math.max(M.y,E.h-(M.y+M.h)))}I.h>E&&(I=f.getComputedStyle(l),f.set(C,{overflowY:"scroll",height:E+"px",border:I.borderLeftWidth+" "+I.borderLeftStyle+" "+I.borderLeftColor}),l._originalStyle=l.style.cssText,l.style.border="none");a.set(C,{id:D,style:{zIndex:this._beginZIndex+c.length},"class":"dijitPopup "+(g.baseClass||g["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:d.parent?
d.parent.id:""});0==c.length&&B&&(this._firstAroundNode=B,this._firstAroundPosition=e.position(B,!0),this._aroundMoveListener=setTimeout(p.hitch(this,"_repositionAll"),50));k("config-bgIframe")&&!g.bgIframe&&(g.bgIframe=new r(C));D=g.orient?p.hitch(g,"orient"):null;s=B?n.around(C,B,s,u,D):n.at(C,d,"R"==s?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],d.padding,D);C.style.visibility="visible";l.style.visibility="visible";l=[];l.push(q(C,"keydown",p.hitch(this,function(a){if(a.keyCode==m.ESCAPE&&d.onCancel)a.stopPropagation(),
a.preventDefault(),d.onCancel();else if(a.keyCode==m.TAB&&(a.stopPropagation(),a.preventDefault(),(a=this.getTopPopup())&&a.onCancel))a.onCancel()})));g.onCancel&&d.onCancel&&l.push(g.on("cancel",d.onCancel));l.push(g.on(g.onExecute?"execute":"change",p.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));c.push({widget:g,wrapper:C,parent:d.parent,onExecute:d.onExecute,onCancel:d.onCancel,onClose:d.onClose,handlers:l});if(g.onOpen)g.onOpen(s);return s},close:function(a){for(var b=
this._stack;a&&c.some(b,function(b){return b.widget==a})||!a&&b.length;){var d=b.pop(),f=d.widget,e=d.onClose;if(f.onClose)f.onClose();for(var k;k=d.handlers.pop();)k.remove();f&&f.domNode&&this.hide(f);e&&e()}0==b.length&&this._aroundMoveListener&&(clearTimeout(this._aroundMoveListener),this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null)}});return s.popup=new l})},"dijit/_base/scroll":function(){define(["dojo/window","../main"],function(c,g){g.scrollIntoView=function(g,
b){c.scrollIntoView(g,b)}})},"dijit/_base/sniff":function(){define(["dojo/uacss"],function(){})},"dijit/_base/typematic":function(){define(["../typematic"],function(){})},"dijit/typematic":function(){define("dojo/_base/array dojo/_base/connect dojo/_base/lang dojo/on dojo/sniff ./main".split(" "),function(c,g,l,b,a,d){var e=d.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(0>this._currentTimeout?this._initialDelay:
1<this._subsequentDelay?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay);this._timer=setTimeout(l.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(a,b,d,c,e,g,r,t){if(e!=this._obj){this.stop();this._initialDelay=r||500;this._subsequentDelay=g||0.9;this._minDelay=t||10;this._obj=e;this._node=d;this._count=this._currentTimeout=-1;this._callback=l.hitch(b,c);this._evt={faux:!0};for(var s in a)"layerX"!=s&&"layerY"!=s&&(b=a[s],"function"!=
typeof b&&"undefined"!=typeof b&&(this._evt[s]=b));this._fireEventAndReload()}},stop:function(){this._timer&&(clearTimeout(this._timer),this._timer=null);this._obj&&(this._callback(-1,this._node,this._evt),this._obj=null)},addKeyListener:function(a,d,m,p,q,n,r){var t="keyCode"in d?"keyCode":"charCode"in d?"charCode":"charOrCode",s=[b(a,"keyCode"in d?"keydown":"charCode"in d?"keypress":g._keypress,l.hitch(this,function(b){b[t]!=d[t]||void 0!==d.ctrlKey&&d.ctrlKey!=b.ctrlKey||void 0!==d.altKey&&d.altKey!=
b.altKey||void 0!==d.metaKey&&d.metaKey!=(b.metaKey||!1)||void 0!==d.shiftKey&&d.shiftKey!=b.shiftKey?e._obj==d&&e.stop():(b.stopPropagation(),b.preventDefault(),e.trigger(b,m,a,p,d,q,n,r))})),b(a,"keyup",l.hitch(this,function(){e._obj==d&&e.stop()}))];return{remove:function(){c.forEach(s,function(a){a.remove()})}}},addMouseListener:function(d,k,m,g,q,n){var r=[b(d,"mousedown",l.hitch(this,function(a){a.preventDefault();e.trigger(a,k,d,m,d,g,q,n)})),b(d,"mouseup",l.hitch(this,function(a){this._obj&&
a.preventDefault();e.stop()})),b(d,"mouseout",l.hitch(this,function(a){this._obj&&a.preventDefault();e.stop()})),b(d,"dblclick",l.hitch(this,function(b){b.preventDefault();9>a("ie")&&(e.trigger(b,k,d,m,d,g,q,n),setTimeout(l.hitch(this,e.stop),50))}))];return{remove:function(){c.forEach(r,function(a){a.remove()})}}},addListener:function(a,b,d,e,g,l,r,t){var s=[this.addKeyListener(b,d,e,g,l,r,t),this.addMouseListener(a,e,g,l,r,t)];return{remove:function(){c.forEach(s,function(a){a.remove()})}}}};return e})},
"dijit/_base/wai":function(){define(["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(c,g,l){g.mixin(l,{hasWaiRole:function(b,a){var d=this.getWaiRole(b);return a?-1<d.indexOf(a):0<d.length},getWaiRole:function(b){return g.trim((c.get(b,"role")||"").replace("wairole:",""))},setWaiRole:function(b,a){c.set(b,"role",a)},removeWaiRole:function(b,a){var d=c.get(b,"role");d&&(a?(d=g.trim((" "+d+" ").replace(" "+a+" "," ")),c.set(b,"role",d)):b.removeAttribute("role"))},hasWaiState:function(b,
a){return b.hasAttribute?b.hasAttribute("aria-"+a):!!b.getAttribute("aria-"+a)},getWaiState:function(b,a){return b.getAttribute("aria-"+a)||""},setWaiState:function(b,a,d){b.setAttribute("aria-"+a,d)},removeWaiState:function(b,a){b.removeAttribute("aria-"+a)}});return l})},"dijit/_base/window":function(){define(["dojo/window","../main"],function(c,g){g.getDocumentWindow=function(g){return c.get(g)}})},"dijit/layout/_LayoutWidget":function(){define("dojo/_base/lang ../_Widget ../_Container ../_Contained ../Viewport dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style".split(" "),
function(c,g,l,b,a,d,e,f,k){return d("dijit.layout._LayoutWidget",[g,l,b],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,buildRendering:function(){this.inherited(arguments);e.add(this.domNode,"dijitContainer")},startup:function(){if(!this._started){this.inherited(arguments);var b=this.getParent&&this.getParent();b&&b.isLayoutContainer||(this.resize(),this.own(a.on("resize",c.hitch(this,"resize"))))}},resize:function(a,b){var d=this.domNode;a&&f.setMarginBox(d,a);var e=b||{};c.mixin(e,a||{});
"h"in e&&"w"in e||(e=c.mixin(f.getMarginBox(d),e));var g=k.getComputedStyle(d),l=f.getMarginExtents(d,g),s=f.getBorderExtents(d,g),e=this._borderBox={w:e.w-(l.w+s.w),h:e.h-(l.h+s.h)},l=f.getPadExtents(d,g);this._contentBox={l:k.toPixelValue(d,g.paddingLeft),t:k.toPixelValue(d,g.paddingTop),w:e.w-l.w,h:e.h-l.h};this.layout()},layout:function(){},_setupChild:function(a){e.add(a.domNode,this.baseClass+"-child "+(a.baseClass?this.baseClass+"-"+a.baseClass:""))},addChild:function(a,b){this.inherited(arguments);
this._started&&this._setupChild(a)},removeChild:function(a){e.remove(a.domNode,this.baseClass+"-child"+(a.baseClass?" "+this.baseClass+"-"+a.baseClass:""));this.inherited(arguments)}})})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(c,g){return c("dijit._Contained",null,{_getSibling:function(c){var b=this.domNode;do b=b[c+"Sibling"];while(b&&1!=b.nodeType);return b&&g.byNode(b)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},
getIndexInParent:function(){var c=this.getParent();return c&&c.getIndexOfChild?c.getIndexOfChild(this):-1}})})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare dojo/sniff dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),function(c,g,l,b,a,d,e,f){g("dijit-legacy-requires")&&b(0,function(){require(["dijit/form/_FormValueWidget"])});return c("dijit.form._FormWidget",[a,e,d,f],{setDisabled:function(a){l.deprecated("setDisabled("+
a+") is deprecated. Use set('disabled',"+a+") instead.","","2.0");this.set("disabled",a)},setValue:function(a){l.deprecated("dijit.form._FormWidget:setValue("+a+") is deprecated.  Use set('value',"+a+") instead.","","2.0");this.set("value",a)},getValue:function(){l.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=this.name&&!g("msapp")?'name\x3d"'+this.name.replace(/"/g,"\x26quot;")+
'"':"";this.inherited(arguments)},_setTypeAttr:null})})},"dijit/_CssStateMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-class dojo/has dojo/_base/lang dojo/on dojo/domReady dojo/touch dojo/_base/window ./a11yclick ./registry".split(" "),function(c,g,l,b,a,d,e,f,k,m,p,q){g=g("dijit._CssStateMixin",[],{hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);c.forEach("disabled readOnly checked selected focused state hovering active _opened".split(" "),
function(a){this.watch(a,d.hitch(this,"_setStateClass"))},this);for(var a in this.cssStateNodes||{})this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",!0);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",!1);this._set("active",
!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",!0);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",!1)}},_setStateClass:function(){function a(d){b=b.concat(c.map(b,function(a){return a+d}),"dijit"+d)}var b=this.baseClass.split(" ");this.isLeftToRight()||a("Rtl");var d="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(d);this.state&&a(this.state);
this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var d=this.stateNode||this.domNode,f={};c.forEach(d.className.split(" "),function(a){f[a]=!0});"_stateClasses"in this&&c.forEach(this._stateClasses,function(a){delete f[a]});c.forEach(b,function(a){f[a]=!0});var e=[],k;for(k in f)e.push(k);d.className=e.join(" ");this._stateClasses=b},_subnodeCssMouseEvent:function(a,
d,c){function f(c){b.toggle(a,d+"Active",c)}if(!this.disabled&&!this.readOnly)switch(c.type){case "mouseover":case "MSPointerOver":case "pointerover":b.toggle(a,d+"Hover",!0);break;case "mouseout":case "MSPointerOut":case "pointerout":b.toggle(a,d+"Hover",!1);f(!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":f(!0);break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":f(!1);break;case "focus":case "focusin":b.toggle(a,
d+"Focused",!0);break;case "blur":case "focusout":b.toggle(a,d+"Focused",!1)}},_trackMouseState:function(a,b){a._cssState=b}});f(function(){function a(b,d,c){if(!c||!l.isDescendant(c,d))for(;d&&d!=c;d=d.parentNode)if(d._cssState){var f=q.getEnclosingWidget(d);f&&(d==f.domNode?f._cssMouseEvent(b):f._subnodeCssMouseEvent(d,d._cssState,b))}}var b=m.body(),d;e(b,k.over,function(b){a(b,b.target,b.relatedTarget)});e(b,k.out,function(b){a(b,b.target,b.relatedTarget)});e(b,p.press,function(b){d=b.target;
a(b,d)});e(b,p.release,function(b){a(b,d);d=null});e(b,"focusin, focusout",function(a){var b=a.target;if(b._cssState&&!b.getAttribute("widgetId")){var d=q.getEnclosingWidget(b);d&&d._subnodeCssMouseEvent(b,b._cssState,a)}})});return g})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff dojo/window ../a11y".split(" "),function(c,g,l,b,a,d,e,f,k,m){return g("dijit.form._FormWidgetMixin",null,
{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(b){this._set("disabled",b);l.set(this.focusNode,"disabled",b);this.valueNode&&l.set(this.valueNode,"disabled",b);this.focusNode.setAttribute("aria-disabled",b?"true":"false");b?(this._set("hovering",!1),this._set("active",!1),b="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in
this?this._setTabIndexAttr:"focusNode",c.forEach(a.isArray(b)?b:[b],function(a){a=this[a];f("webkit")||m.hasDefaultTabStop(a)?a.setAttribute("tabIndex","-1"):a.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(b){if("mouse"==b&&this.isFocusable())var d=this.own(e(this.focusNode,"focus",function(){m.remove();d.remove()}))[0],c=f("pointer-events")?"pointerup":f("MSPointer")?"MSPointerUp":f("touch-events")?"touchend, mouseup":"mouseup",m=this.own(e(this.ownerDocumentBody,
c,a.hitch(this,function(a){m.remove();d.remove();this.focused&&("touchend"==a.type?this.defer("focus"):this.focus())})))[0];this.scrollOnFocus&&this.defer(function(){k.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=b.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},compare:function(a,b){return"number"==typeof a&&"number"==typeof b?isNaN(a)&&isNaN(b)?
0:a-b:a>b?1:a<b?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(a,b){void 0!=this._lastValueReported||null!==b&&this._onChangeActive||(this._resetValue=this._lastValueReported=a);this._pendingOnChange=this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,this._lastValueReported);(this.intermediateChanges||b||void 0===b)&&this._pendingOnChange&&(this._lastValueReported=a,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),
this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(a)})))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(c,g,l,b){return c("dijit.form._FormValueWidget",[l,b],{_layoutHackIE7:function(){if(7==
g("ie"))for(var a=this.domNode,b=a.parentNode,c=a.firstChild||a,f=c.style.filter,k=this;b&&0==b.clientHeight;)(function(){var a=k.connect(b,"onscroll",function(){k.disconnect(a);c.style.filter=(new Date).getMilliseconds();k.defer(function(){c.style.filter=f})})})(),b=b.parentNode}})})},"dijit/form/_FormValueMixin":function(){define("dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dojo/sniff ./_FormWidgetMixin".split(" "),function(c,g,l,b,a,d,e){return c("dijit.form._FormValueMixin",
e,{readOnly:!1,_setReadOnlyAttr:function(a){g.set(this.focusNode,"readOnly",a);this._set("readOnly",a)},postCreate:function(){this.inherited(arguments);void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value)},_setValueAttr:function(a,b){this._handleOnChange(a,b)},_handleOnChange:function(a,b){this._set("value",a);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1;this._setValueAttr(this._resetValue,
!0)}})})},"lh/constants":function(){define(["dojo","dijit","dojox","dojo/require!dojo/cookie"],function(c,g,l){c.provide("lh.constants");c.require("dojo.cookie");ns4=document.layers?1:0;op=window.opera?1:0;op7=navigator.userAgent.match(/[ws ]*Opera.7[ws ]*/)?1:0;op8=navigator.userAgent.match(/[ws ]*Opera.8[ws ]*/)?1:0;ie=5<c.isIE?1:0;ie50=5==c.isIE?1:0;moz=c.isMoz?1:0;saf=c.isWebKit?1:0;osx=c.isMac;isiPhone=-1!=navigator.userAgent.indexOf("iPhone");isiPod=-1!=navigator.userAgent.indexOf("iPod");isiPad=
-1!=navigator.userAgent.indexOf("iPad");isiOS=isiPhone||isiPad||isiPod;isTouch=!1;c.cookie("LHConfigCookie")&&(LHConfigCookie=c.fromJson(c.cookie("LHConfigCookie")),void 0!=LHConfigCookie.DeviceType&&(isTouch="TOUCH"==LHConfigCookie.DeviceType?!0:!1));"undefined"==typeof lh&&(lh={});"undefined"==typeof lh.global&&(lh.global=this);"undefined"==typeof lh.app&&(lh.app={});"undefined"==typeof lh.cnt&&(lh.cnt={});"undefined"==typeof lh.helper&&(lh.helper={});"undefined"==typeof lh.topics&&(lh.topics={});
"undefined"==typeof lh.geomap&&(lh.geomap={});lh.INVISCLASS="hide-dn";lh.topics.EYECATCHERLOADED="eyecatcherloaded";lh.topics.EYECATCHERCLICKED="eyecatcherclicked";lh.topics.navigation={};lh.topics.navigation.SHOWLAYER="navShowLayer";lh.topics.navigation.SHOWTAB="navShowTab";lh.topics.navigation.HIDELAYER="navHideLayer";lh.topics.navigation.HIDETAB="navHideTab";lh.topics.navigation.HIDEALLLAYER="navHideAllLayer";lh.topics.navigation.HIDELOGINLAYER="navHideLoginLayer";lh.topics.typeahead={};lh.topics.typeahead.STATE=
"typeaheadState";lh.topics.typeahead.AIRPORT_SELECTED="typeaheadAirportSelected";lh.topics.typeahead.RECENT_FLIGHT_SELECTED="typeaheadRecentFlightSelected";lh.topics.typeahead.GEOLOCATION="typeaheadGeolocation";lh.topics.adflightstate={};lh.topics.adflightstate.SEARCH_FORM_VISIBLE="searchFormVisible";lh.topics.calendar={};lh.topics.calendar.GUI_ROUNDTRIP_CLICKED="guiRoundtripClicked";lh.topics.calendar.GUI_ONEWAY_CLICKED="guiOnewayClicked";lh.topics.calendar.ROUNDTRIP_AS_ONEWAY="roundtripAsOneway";
lh.topics.calendar.SINGLE_DATE="singleDate";lh.topics.calendar.ROUNDTRIP_ONEWAY_DATE="roundtripOnewayDate";lh.topics.calendar.ROUNDTRIP_OUT_DATE="roundtripOutboundDate";lh.topics.calendar.ROUNDTRIP_IN_DATE="roundtripInboundDate";lh.topics.calendar.ROUNDTRIP_INBOUND_RECEIVE_STARTDATE="roundtripReceiveNewStartdateforInbound";lh.topics.calendar.ROUNDTRIP_OUTBOUND_RECEIVE_ENDDATE="roundtripReceiveNewEndtdateforOutbound";lh.topics.calendar.DOUBLE_DATE_TO_HANDLER="doubleDateToHandler";lh.topics.calendar.SINGLE_DATE_TO_HANDLER=
"singleDateToHandler";lh.topics.calendar.ADJUST_WIDGET_POS="ajustWidgetPos";lh.topics.calendar.MONTH_CHANGED="calendarMonthChanged";lh.topics.calendar.MONTH_CHANGED_NEXT="calendarMonthChangedNext";lh.topics.calendar.MONTH_CHANGED_PREV="calendarMonthChangedPrev";lh.topics.book={};lh.topics.book.PROMOTIONCHANGED="promoChanged";lh.topics.book.HIGHLIGHTPROMO="highlightPromo";lh.topics.book.HIGHLIGHT_DESTINATION="highlightDestination";lh.topics.book.SEND_DESTINATION_LIST="sendDestinationList";lh.topics.book.COMMUNICATION_FROM_MAP=
"communicationFromMap";lh.topics.book.COMMUNICATION_TO_MAP="commuicationToMap";lh.topics.book.DESTINATION_LIST_NEW="destinationListNew";lh.topics.book.PARAMS_FROM_EXTERNAL="paramsFromExternal";lh.topics.book.NOMATRIXCHECK_AVAILABLE="cocNoMatrixCheckAvailable";lh.topics.book.NOMATRIXCHECK_NOTAVAILABLE="cocNoMatrixCheckNotAvailable";lh.topics.book.ENABLE_FIRST_CLASS="enableFirstClass";lh.topics.book.DISABLE_FIRST_CLASS="disableFirstClass";lh.topics.book.AIRPORTATLAS_SELECTED="airportAtlasSelected";
lh.topics.book.SPECIALLISTENTRYSELECTED="specialListEntrySelected";lh.topics.fm={};lh.topics.fm.TITLECLICKED="flmTitleClicked";lh.topics.search={};lh.topics.search.AIRPORT_CHANGED="searchAirportChanged";lh.topics.gigya={};lh.topics.gigya.READY="gigya/ready";lh.app.topoffersmap={INNO_URL:"innovata.aspx",INNO_IFRAME_NAME:"innovataIFrame",LUFT_PAGE_NAME:"/lh_shared/iframecontroller",LUFT_DOMAINS:" www.lufthansa.com uat.lufthansa.com integration.lufthansa.com rsb.lufthansa.com rsb-uat.lufthansa.com rsb-integration.lufthansa.com italia.lufthansa.com italia-uat.lufthansa.com italia-integration.lufthansa.com".split(" ")}})},
"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(c,g){c.cookie=function(c,b,a){var d=document.cookie,e;if(1==arguments.length)e=(e=d.match(RegExp("(?:^|; )"+g.escapeString(c)+"\x3d([^;]*)")))?decodeURIComponent(e[1]):void 0;else{a=a||{};d=a.expires;if("number"==typeof d){var f=new Date;f.setTime(f.getTime()+864E5*d);d=a.expires=f}d&&d.toUTCString&&(a.expires=d.toUTCString());b=encodeURIComponent(b);var d=c+"\x3d"+b,k;for(k in a)d+="; "+k,f=a[k],!0!==f&&(d+="\x3d"+f);document.cookie=
d}return e};c.cookie.isSupported=function(){"cookieEnabled"in navigator||(this("__djCookieTest__","CookiesAllowed"),navigator.cookieEnabled="CookiesAllowed"==this("__djCookieTest__"),navigator.cookieEnabled&&this("__djCookieTest__","",{expires:-1}));return navigator.cookieEnabled};return c.cookie})},"lh/validation":function(){define(["dojo","dijit","dojox","dojo/require!dojox/validate,dojo/date/locale"],function(c,g,l){c.provide("lh.validation");c.require("dojox.validate");c.require("dojo.date.locale");
lh.validation={isValidPattern:function(b,a){return"string"!=typeof b||"string"!=typeof a?!1:RegExp(a).test(b)},isValidMaMNumber:function(b){return"string"!=typeof b||(14>b.length||16<b.length)&&9!=b.length?!1:l.validate.isValidLuhn(b)},isValidMaMStatus:function(b,a){if("string"!=typeof b||"string"!=typeof a)return!1;if(-1<a.indexOf("N/A"))return!0;for(var d=a.split(" "),c=!1,f=0;f<d.length;f++){switch(d[f]){case "BASE":c=lh.validation._checkPrefixes(b,["401000","403400","99200","531000","523400"]);
break;case "SEN":c=lh.validation._checkPrefixes(b,["401001","22201","531001"]);break;case "FTL":c=lh.validation._checkPrefixes(b,["401002","99222","531002"]);break;case "HON":c=lh.validation._checkPrefixes(b,["401003","33303","531003"]);break;case "INSTANT":c=lh.validation._checkPrefixes(b,["99990"])}if(c)break}return c},_checkPrefixes:function(b,a){for(var d=!1,c=0;c<a.length;c++)0==b.indexOf(a[c])&&(d=!0);return d},isInteger:function(b){return lh.validation.isValidPattern(b,"^(?:0|[0-9]\\d*)$")},
isAlpha:function(b){return lh.validation.isValidPattern(b,"^[a-zA-Z\\s]*$")},isAlphaNumeric:function(b){return lh.validation.isValidPattern(b,"^[A-Za-z0-9 \\-]*$")},isValidChars:function(b){return lh.validation.isValidPattern(b,"^[A-Za-z0-9\u00e4\u00eb\u00ef\u00f6\u00fc\u00c4\u00cb\u00cf\u00d6\u00dc\u00e1\u00e9\u00ed\u00f3\u00fa\u00c1\u00c9\u00cd\u00d3\u00da\u00e0\u00e8\u00ec\u00f2\u00f9\u00c0\u00c8\u00cc\u00d2\u00d9\u00e2\u00ea\u00ee\u00f4\u00fb\u00c2\u00ca\u00ce\u00d4\u00db\u00e5\u00c5\u00e3\u00f1\u00f5\u00c3\u00d1\u00d5\u00e7\u00f8\u00c7\u00d8\u00e6\u00c6\u00d0\u00f0\u00fe\u00de\u00ff\u00df\u2018;,.\\-_\\+\\\x26#\\*\x3d\u201d/ \\u0104\\u0105\\u0106\\u0107\\u0118\\u0119\\u0141\\u0142\\u0143\\u0144\\u015A\\u015B\\u0179\\u017A\\u017B\\u017C]*$")},
isMaskedCCNumber:function(b){return lh.validation.isValidPattern(b,"^[0-9\\*]{0,12}[0-9]{4}$")},isValidPassword:function(b){return lh.validation.isValidPattern(b,"^[A-Za-z\\d]{4,16}$")},isValidPIN:function(b){return lh.validation.isValidPattern(b,"^[\\d]{5}$")},isTelephoneNumber:function(b){return lh.validation.isValidPattern(b,"^[0-9\\+\\-\\(\\)]*$")},isValidDatePattern:function(b,a){var d=c.date.locale.regexp({selector:"date",datePattern:a.pattern});return lh.validation.isValidPattern(b,d)},isDateAfter:function(b,
a,d){b=c.date.locale.parse(b,{datePattern:d,selector:"date"});a=c.date.locale.parse(a.value,{datePattern:d,selector:"date"});return b>=a?!0:!1},isHiddenFieldSet:function(b,a){var d=c.byId(a)||g.byId(a);return d&&""!=d.value?!0:!1},isSummedUpEqualOrBelow:function(b,a){var d=0,e;parseInt(a.maxValue)?d=parseInt(a.maxValue):"string"==typeof a.maxValue?g.byId(a.maxValue)?d=parseInt(g.byId(a.maxValue).value):c.byId(a.maxValue)&&(d=parseInt(c.byId(a.maxValue).value)):"object"==typeof a.maxValue&&c.forEach(a.maxValue,
function(a){(e=g.byId(a)||c.byId(a))&&lh.validation.isInteger(e.value)&&(d+=parseInt(e.value))},this);valueSum=0;c.forEach(a.fieldIds,function(a){(e=g.byId(a)||c.byId(a))&&lh.validation.isInteger(e.value)&&(valueSum+=parseInt(e.value))},this);return valueSum<=d?!0:!1},isSummedUpEqualOrGreater:function(b,a){var d=0;parseInt(a.minValue)?d=parseInt(a.minValue):"string"==typeof a.minValue?g.byId(a.minValue)?d=parseInt(g.byId(a.minValue).value):c.byId(a.minValue)&&(d=parseInt(c.byId(a.minValue).value)):
"object"==typeof a.minValue&&c.forEach(a.minValue,function(a){(field=g.byId(a)||c.byId(a))&&lh.validation.isInteger(field.value)&&(d+=parseInt(field.value))},this);valueSum=0;c.forEach(a.fieldIds,function(a){(field=g.byId(a)||c.byId(a))&&lh.validation.isInteger(field.value)&&(valueSum+=parseInt(field.value))},this);return valueSum>=d?!0:!1},isValidAirport:function(b){return c.xhrPost({url:window.location.protocol+"//"+window.location.host+"/validation/airport",preventCache:!0,content:{airportname:b,
language:c.locale},handleAs:"json",load:function(a){return a.valid?!0:!1},error:function(a){return!1}})}}})},"dojox/validate":function(){define(["./validate/_base"],function(c){return c})},"dojox/validate/_base":function(){define(["dojo/_base/lang","dojo/regexp","dojo/number","./regexp"],function(c,g,l,b){var a=c.getObject("dojox.validate",!0);a.isText=function(a,b){b="object"==typeof b?b:{};return/^\s*$/.test(a)||"number"==typeof b.length&&b.length!=a.length||"number"==typeof b.minlength&&b.minlength>
a.length||"number"==typeof b.maxlength&&b.maxlength<a.length?!1:!0};a._isInRangeCache={};a.isInRange=function(b,c){b=l.parse(b,c);if(isNaN(b))return!1;c="object"==typeof c?c:{};var f="number"==typeof c.max?c.max:Infinity,k="number"==typeof c.min?c.min:-Infinity,m=a._isInRangeCache,g=b+"max"+f+"min"+k+"dec"+("string"==typeof c.decimal?c.decimal:".");if("undefined"!=typeof m[g])return m[g];m[g]=!(b<k||b>f);return m[g]};a.isNumberFormat=function(a,c){return RegExp("^"+b.numberFormat(c)+"$","i").test(a)};
a.isValidLuhn=function(a){var b=0,f,k;c.isString(a)||(a=String(a));a=a.replace(/[- ]/g,"");f=a.length%2;for(var m=0;m<a.length;m++)k=parseInt(a.charAt(m)),m%2==f&&(k*=2),9<k&&(k-=9),b+=k;return!(b%10)};return a})},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(c,g,l,b,a){var d={};c.setObject("dojo.number",d);d.format=function(a,b){b=c.mixin({},b||{});var e=g.normalizeLocale(b.locale),e=g.getLocalization("dojo.cldr","number",e);b.customs=
e;e=b.pattern||e[(b.type||"decimal")+"Format"];return isNaN(a)||Infinity==Math.abs(a)?null:d._applyPattern(a,e,b)};d._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;d._applyPattern=function(a,b,c){c=c||{};var e=c.customs.group,g=c.customs.decimal;b=b.split(";");var l=b[0];b=b[0>a?1:0]||"-"+l;if(-1!=b.indexOf("%"))a*=100;else if(-1!=b.indexOf("\u2030"))a*=1E3;else if(-1!=b.indexOf("\u00a4"))e=c.customs.currencyGroup||e,g=c.customs.currencyDecimal||g,b=b.replace(/\u00a4{1,3}/,function(a){return c[["symbol",
"currency","displayName"][a.length-1]]||c.currency||""});else if(-1!=b.indexOf("E"))throw Error("exponential notation not supported");var r=d._numberPatternRE,l=l.match(r);if(!l)throw Error("unable to find a number expression in pattern: "+b);!1===c.fractional&&(c.places=0);return b.replace(r,d._formatAbsolute(a,l[0],{decimal:g,group:e,places:c.places,round:c.round}))};d.round=function(a,b,d){d=10/(d||10);return(d*+a).toFixed(b)/d};if(0==(0.9).toFixed()){var e=d.round;d.round=function(a,b,d){var c=
Math.pow(10,-b||0),g=Math.abs(a);if(!a||g>=c)c=0;else if(g/=c,0.5>g||0.95<=g)c=0;return e(a,b,d)+(0<a?c:-c)}}d._formatAbsolute=function(a,c,e){e=e||{};!0===e.places&&(e.places=0);Infinity===e.places&&(e.places=6);c=c.split(".");var g="string"==typeof e.places&&e.places.indexOf(","),l=e.places;g?l=e.places.substring(g+1):0<=l||(l=(c[1]||[]).length);0>e.round||(a=d.round(a,l,e.round));a=String(Math.abs(a)).split(".");var n=a[1]||"";c[1]||e.places?(g&&(e.places=e.places.substring(0,g)),g=void 0!==e.places?
e.places:c[1]&&c[1].lastIndexOf("0")+1,g>n.length&&(a[1]=b.pad(n,g,"0",!0)),l<n.length&&(a[1]=n.substr(0,l))):a[1]&&a.pop();l=c[0].replace(",","");g=l.indexOf("0");-1!=g&&(g=l.length-g,g>a[0].length&&(a[0]=b.pad(a[0],g)),-1==l.indexOf("#")&&(a[0]=a[0].substr(a[0].length-g)));var l=c[0].lastIndexOf(","),r,t;-1!=l&&(r=c[0].length-l-1,c=c[0].substr(0,l),l=c.lastIndexOf(","),-1!=l&&(t=c.length-l-1));c=[];for(l=a[0];l;)g=l.length-r,c.push(0<g?l.substr(g):l),l=0<g?l.slice(0,g):"",t&&(r=t,delete t);a[0]=
c.reverse().join(e.group||",");return a.join(e.decimal||".")};d.regexp=function(a){return d._parseInfo(a).regexp};d._parseInfo=function(b){b=b||{};var c=g.normalizeLocale(b.locale),c=g.getLocalization("dojo.cldr","number",c),e=b.pattern||c[(b.type||"decimal")+"Format"],l=c.group,q=c.decimal,n=1;if(-1!=e.indexOf("%"))n/=100;else if(-1!=e.indexOf("\u2030"))n/=1E3;else{var r=-1!=e.indexOf("\u00a4");r&&(l=c.currencyGroup||l,q=c.currencyDecimal||q)}c=e.split(";");1==c.length&&c.push("-"+c[0]);c=a.buildGroupRE(c,
function(c){c="(?:"+a.escapeString(c,".")+")";return c.replace(d._numberPatternRE,function(a){var c={signed:!1,separator:b.strict?l:[l,""],fractional:b.fractional,decimal:q,exponent:!1};a=a.split(".");var e=b.places;1==a.length&&1!=n&&(a[1]="###");1==a.length||0===e?c.fractional=!1:(void 0===e&&(e=b.pattern?a[1].lastIndexOf("0")+1:Infinity),e&&void 0==b.fractional&&(c.fractional=!0),!b.places&&e<a[1].length&&(e+=","+a[1].length),c.places=e);a=a[0].split(",");1<a.length&&(c.groupSize=a.pop().length,
1<a.length&&(c.groupSize2=a.pop().length));return"("+d._realNumberRegexp(c)+")"})},!0);r&&(c=c.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(d,c,e,k){d=a.escapeString(b[["symbol","currency","displayName"][e.length-1]]||b.currency||"");c=c?"[\\s\\xa0]":"";k=k?"[\\s\\xa0]":"";return b.strict?c+d+k:(c&&(c+="*"),k&&(k+="*"),"(?:"+c+d+k+")?")}));return{regexp:c.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:l,decimal:q,factor:n}};d.parse=function(a,b){var c=d._parseInfo(b),e=RegExp("^"+c.regexp+"$").exec(a);
if(!e)return NaN;var g=e[1];if(!e[1]){if(!e[2])return NaN;g=e[2];c.factor*=-1}g=g.replace(RegExp("["+c.group+"\\s\\xa0]","g"),"").replace(c.decimal,".");return g*c.factor};d._realNumberRegexp=function(b){b=b||{};"places"in b||(b.places=Infinity);"string"!=typeof b.decimal&&(b.decimal=".");"fractional"in b&&!/^0/.test(b.places)||(b.fractional=[!0,!1]);"exponent"in b||(b.exponent=[!0,!1]);"eSigned"in b||(b.eSigned=[!0,!1]);var c=d._integerRegexp(b),e=a.buildGroupRE(b.fractional,function(a){var d="";
a&&0!==b.places&&(d="\\"+b.decimal,d=Infinity==b.places?"(?:"+d+"\\d+)?":d+("\\d{"+b.places+"}"));return d},!0),g=a.buildGroupRE(b.exponent,function(a){return a?"([eE]"+d._integerRegexp({signed:b.eSigned})+")":""}),c=c+e;e&&(c="(?:(?:"+c+")|(?:"+e+"))");return c+g};d._integerRegexp=function(b){b=b||{};"signed"in b||(b.signed=[!0,!1]);"separator"in b?"groupSize"in b||(b.groupSize=3):b.separator="";var d=a.buildGroupRE(b.signed,function(a){return a?"[-+]":""},!0),c=a.buildGroupRE(b.separator,function(d){if(!d)return"(?:\\d+)";
d=a.escapeString(d);" "==d?d="\\s":"\u00a0"==d&&(d="\\s\\xa0");var c=b.groupSize,e=b.groupSize2;return e?(d="(?:0|[1-9]\\d{0,"+(e-1)+"}(?:["+d+"]\\d{"+e+"})*["+d+"]\\d{"+c+"})",0<c-e?"(?:"+d+"|(?:0|[1-9]\\d{0,"+(c-1)+"}))":d):"(?:0|[1-9]\\d{0,"+(c-1)+"}(?:["+d+"]\\d{"+c+"})*)"},!0);return d+c};return d})},"dojox/validate/regexp":function(){define(["dojo/_base/lang","dojo/regexp","dojox/main"],function(c,g,l){var b=c.getObject("validate.regexp",!0,l);return b=l.validate.regexp={ipAddress:function(a){a=
"object"==typeof a?a:{};"boolean"!=typeof a.allowDottedDecimal&&(a.allowDottedDecimal=!0);"boolean"!=typeof a.allowDottedHex&&(a.allowDottedHex=!0);"boolean"!=typeof a.allowDottedOctal&&(a.allowDottedOctal=!0);"boolean"!=typeof a.allowDecimal&&(a.allowDecimal=!0);"boolean"!=typeof a.allowHex&&(a.allowHex=!0);"boolean"!=typeof a.allowIPv6&&(a.allowIPv6=!0);"boolean"!=typeof a.allowHybrid&&(a.allowHybrid=!0);var b=[];a.allowDottedDecimal&&b.push("((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])");
a.allowDottedHex&&b.push("(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]");a.allowDottedOctal&&b.push("(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]");a.allowDecimal&&b.push("(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])");a.allowHex&&b.push("0[xX]0*[\\da-fA-F]{1,8}");a.allowIPv6&&b.push("([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}");a.allowHybrid&&b.push("([\\da-fA-F]{1,4}\\:){6}((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])");
a="";0<b.length&&(a="("+b.join("|")+")");return a},host:function(a){a="object"==typeof a?a:{};"boolean"!=typeof a.allowIP&&(a.allowIP=!0);"boolean"!=typeof a.allowLocal&&(a.allowLocal=!1);"boolean"!=typeof a.allowPort&&(a.allowPort=!0);"boolean"!=typeof a.allowNamed&&(a.allowNamed=!1);var d=a.allowPort?"(\\:\\d+)?":"",c="((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)+(?:[a-zA-Z](?:[-\\da-zA-Z]{0,6}[\\da-zA-Z])?)\\.?)";a.allowIP&&(c+="|"+b.ipAddress(a));a.allowLocal&&(c+="|localhost");a.allowNamed&&
(c+="|^[^-][a-zA-Z0-9_-]*");return"("+c+")"+d},url:function(a){a="object"==typeof a?a:{};"scheme"in a||(a.scheme=[!0,!1]);return g.buildGroupRE(a.scheme,function(a){return a?"(https?|ftps?)\\://":""})+b.host(a)+"(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]+(?:\\?[^?#\\s/]*)?(?:#[A-Za-z][\\w.:-]*)?)?)?"},emailAddress:function(a){a="object"==typeof a?a:{};"boolean"!=typeof a.allowCruft&&(a.allowCruft=!1);a.allowPort=!1;var d="([!#-'*+\\-\\/-9\x3d?A-Z^-~]+[.])*[!#-'*+\\-\\/-9\x3d?A-Z^-~]+@"+b.host(a);a.allowCruft&&
(d="\x3c?(mailto\\:)?"+d+"\x3e?");return d},emailAddressList:function(a){a="object"==typeof a?a:{};"string"!=typeof a.listSeparator&&(a.listSeparator="\\s;,");var d=b.emailAddress(a);return"("+d+"\\s*["+a.listSeparator+"]\\s*)*"+d+"\\s*["+a.listSeparator+"]?\\s*"},numberFormat:function(a){a="object"==typeof a?a:{};"undefined"==typeof a.format&&(a.format="###-###-####");return g.buildGroupRE(a.format,function(a){return g.escapeString(a,"?").replace(/\?/g,"\\d?").replace(/#/g,"\\d")})},ca:{postalCode:function(){return"([A-Z][0-9][A-Z] [0-9][A-Z][0-9])"},
province:function(){return"(AB|BC|MB|NB|NL|NS|NT|NU|ON|PE|QC|SK|YT)"}},us:{state:function(a){a="object"==typeof a?a:{};"boolean"!=typeof a.allowTerritories&&(a.allowTerritories=!0);"boolean"!=typeof a.allowMilitary&&(a.allowMilitary=!0);var b="AL|AK|AZ|AR|CA|CO|CT|DE|DC|FL|GA|HI|ID|IL|IN|IA|KS|KY|LA|ME|MD|MA|MI|MN|MS|MO|MT|NE|NV|NH|NJ|NM|NY|NC|ND|OH|OK|OR|PA|RI|SC|SD|TN|TX|UT|VT|VA|WA|WV|WI|WY";a.allowTerritories&&(b+="|AS|FM|GU|MH|MP|PW|PR|VI");a.allowMilitary&&(b+="|AA|AE|AP");return"("+b+")"}}}})},
"lh/util/logger":function(){define(["dojo","dijit","dojox"],function(c,g,l){c.provide("lh.util.logger");c.declare("lh.util.logger",null,{debug:!0,globalDebug:!1,debugMethods:[""],debugPrint:function(b){if((this.debug||this.globalDebug)&&0!=b.length&&0!=this.debugMethods.length){var a=""+Array(this.debugMethods.length-1).join("\t");this._out(a+this.declaredClass+this.debugMethods[this.debugMethods.length-1]+": "+b[0]);if(1<b.length){this._outArgs(a+"\targuments.length \x3d "+(b.length-1));for(var d=
1;d<b.length;d++)this._outArgs(a+"\t\targuments["+d+"] \x3d %o",b[d])}}},debugMsg:function(){window.console&&(this.debug||this.globalDebug)&&(this._out=function(){console.debug.apply(console,arguments)},this._outArgs=function(){console.debug.apply(console,arguments)},this.debugPrint(arguments))},debugWarn:function(){window.console&&(this.debug||this.globalDebug)&&(this._out=function(){console.warn.apply(console,arguments)},this._outArgs=function(){console.debug.apply(console,arguments)},this.debugPrint(arguments))},
debugErr:function(){window.console&&(this.debug||this.globalDebug)&&(this._out=function(){console.error.apply(console,arguments)},this._outArgs=function(){console.debug.apply(console,arguments)},this.debugPrint(arguments))},debugEnter:function(b){window.console&&(this.debug||this.globalDebug)&&this.debugMethods.push("."+b)},debugExit:function(){window.console&&(this.debug||this.globalDebug)&&this.debugMethods.pop()}})})},"lh/app/bannerEyecatcher":function(){define(["dojo","dijit","dojox","dojo/require!dojo/cookie,lh/util/logger,lh/helper/gui,dojo/fx"],
function(c,g,l){c.provide("lh.app.bannerEyecatcher");c.require("dojo.cookie");c.require("lh.util.logger");c.require("lh.helper.gui");c.require("dojo.fx");c.declare("lh.app.bannerEyecatcher",lh.util.logger,{debug:!1,jsClassName:"lh.app.bannerEyecatcher",cookieName:"lhEyecatcherCookie",cookieExpires:1,cookieExpireUnity:"hour",cookieValue:!0,bannerWidth:546,bannerHeigth:160,duration:1E3,rate:0,url:null,closeLinkTxt:"Close",modal:!1,debug:!1,animate:!1,constructor:function(b){this.debugEnter("constructor");
c.mixin(this,b);this.checkCookie();this.debugExit()},checkCookie:function(){this.debugEnter("checkCookie");c.cookie(this.cookieName)||this.calcHappenstance();this.debugExit()},setCookie:function(){this.debugEnter("setCookie");var b=new Date;0<this.cookieExpires?(b=c.date.add(b,this.cookieExpireUnity,this.cookieExpires),c.cookie(this.cookieName,this.cookieValue,{expires:b})):(this.debugMsg("session cookie - expires 0"),c.cookie(this.cookieName,this.cookieValue));this.debugExit()},calcHappenstance:function(){this.debugEnter("calcHappenstance");
var b=Math.random(),b=Math.ceil(100*b);this.debugMsg("rate:"+this.rate);this.debugMsg("nr:"+b);b<=this.rate&&this.prepareShowIt();this.debugExit()},prepareShowIt:function(){this.debugEnter("prepareShowIt");null==this.url?this.debugMsg("No iframe url!"):(document.getElementsByTagName("body"),this.bodyDimensions=g.getViewport(),this.topPos=this.bodyDimensions.h/2-this.bannerHeigth/2,this.animate?(this.leftPos=-1*(this.bannerWidth+30),this.leftPosEnd=this.bodyDimensions.w/2-this.bannerWidth/2,c.subscribe(lh.topics.EYECATCHERLOADED,
this,"animateIt")):(this.leftPos=this.bodyDimensions.w/2-this.bannerWidth/2,c.subscribe(lh.topics.EYECATCHERLOADED,this,"showIt")),this.divNode=c.doc.createElement("div"),c.addClass(this.divNode,"eyecatcher"),barWidth=lh.helper.gui.getScrollBarWidth(),c.isIE&&8>c.isIE&&(barWidth/=2),this.animate||c.style(this.divNode,{visibility:"hidden"}),c.style(this.divNode,{position:"absolute",top:this.topPos+"px",left:this.leftPos+"px",width:this.bannerWidth+"px",height:this.bannerHeigth+"px",zIndex:"9999",overflow:"hidden",
paddingTop:barWidth+"px",paddingLeft:barWidth+"px"}),this.closeLink=c.doc.createElement("a"),this.closeLink.innerHTML=this.closeLinkTxt,this.closeLink.href="#",c.addClass(this.closeLink,"lnk-btn"),c.connect(this.closeLink,"onclick",this,"closeIt"),this.divNode.appendChild(this.closeLink),c.isIE?this.iframeNode=c.doc.createElement("\x3ciframe src\x3d'' style\x3d'' frameborder\x3d'0' marginheight\x3d'0' marginwidth\x3d'0'\x3e"):(this.iframeNode=c.doc.createElement("iframe"),this.iframeNode.setAttribute("frameborder",
"0"),this.iframeNode.setAttribute("marginheight","0"),this.iframeNode.setAttribute("marginwidth","0")),c.style(this.iframeNode,{width:this.bannerWidth+"px",height:this.bannerHeigth+"px",overflowY:"auto",overflowX:"hidden"}),this.divNode.insertBefore(this.iframeNode,this.closeLink),document.getElementsByTagName("body")[0].appendChild(this.divNode),c.marginBox(this.closeLink),c.style(this.divNode,{height:this.bannerHeigth+c.marginBox(this.closeLink).h+"px"}),this.iframeNode.src=this.url,this.debugExit())},
showIt:function(){this.debugEnter("showIt");this.adjustIt();this.setModal();c.style(this.divNode,{visibility:"visible"});this.setCookie();c.subscribe(lh.topics.EYECATCHERCLICKED,this,"closeIt");this.debugExit()},animateIt:function(){this.debugEnter("animateIt");this.adjustIt();this.setModal();var b=c.fx.slideTo({node:this.divNode,duration:this.duration,left:this.leftPosEnd,top:this.topPos,unit:"px"});c.fx.chain([b]).play();this.setCookie();c.subscribe(lh.topics.EYECATCHERCLICKED,this,"closeIt");this.debugExit()},
setModal:function(){this.debugEnter("setModal");if(this.modal){this.debugMsg("modal eyecatcher");for(var b=c.query("body"),a=0,d=0;d<b.length;d++)a+=c.marginBox(b[d]).h;d=document.body.clientHeight<=a?a+20+"px":"100%";this.fadeNode=c.doc.createElement("div");c.style(this.fadeNode,{position:"absolute",top:"0px",left:"0px",width:"100%",height:d,zIndex:"9998",overflow:"auto"});c.addClass(this.fadeNode,"eyecatcher-background");if(c.isIE)for(b=c.query("select"),d=0;d<b.length;d++)c.style(b[d],"visibility",
"hidden");document.getElementsByTagName("body")[0].appendChild(this.fadeNode)}else if(c.isIE)for(b=c.query("select"),d=0;d<b.length;d++)c.style(b[d],"visibility","hidden");this.debugExit()},adjustIt:function(){this.debugEnter("adjustIt");barWidth=lh.helper.gui.getScrollBarWidth();c.isIE&&8>c.isIE&&(barWidth/=2);var b=c.isIE?this.iframeNode.contentWindow.document:this.iframeNode.contentDocument,a=b.body,d=c.query(".lay-eyecatcher",b),e=this.bannerWidth-barWidth;c.isIE&&8>c.isIE&&(e-=3);c.style(a,{width:e+
"px"});c.marginBox(c.byId("mam",b)).h>this.bannerHeigth?(c.style(this.divNode,{paddingRight:barWidth+"px"}),c.style(d[0],{paddingRight:"5px"})):c.style(this.closeLink,{paddingRight:barWidth+"px"});this.debugExit()},closeIt:function(b){this.debugEnter("closeIt");document.getElementsByTagName("body")[0].removeChild(this.divNode);this.modal&&document.getElementsByTagName("body")[0].removeChild(this.fadeNode);if(c.isIE)for(var a=c.query("select"),d=0;d<a.length;d++)c.style(a[d],"visibility","visible");
b&&c.stopEvent(b);this.debugExit()}})})},"lh/helper/gui":function(){define(["dojo","dijit","dojox"],function(c,g,l){c.provide("lh.helper.gui");lh.helper.gui={returnWidth:null,getScrollBarWidth:function(){if(!this.returnWidth){var b=document.createElement("p");c.style(b,{width:"100%",height:"200px"});var a=document.createElement("div");c.style(a,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"});a.appendChild(b);document.body.appendChild(a);
var d=b.offsetWidth;c.style(a,"overflow","scroll");b=b.offsetWidth;d==b&&(b=a.clientWidth);document.body.removeChild(a);this.returnWidth=d-b}return this.returnWidth}}})},"lh/app/LHFormApplication":function(){define(["dojo","dijit","dojox","dojo/require!lh/util/logger,lh/constants,lh/validation/check,dijit/form/Form,dijit/Tooltip"],function(c,g,l){c.provide("lh.app.LHFormApplication");c.require("lh.util.logger");c.require("lh.constants");c.require("lh.validation.check");c.require("dijit.form.Form");
c.require("dijit.Tooltip");(function(b){b.declare("lh.app.LHFormApplication",lh.util.logger,{debug:!1,formId:null,form:null,messagePopupId:null,messageBoxId:null,multiple:!1,formProfile:null,scrollToError:!0,highlightErrors:!1,trackErrors:!1,hasErrors:!1,errorClass:"mam-msg-error",errorFieldClass:"fieldError",successClass:"mam-msg-success",contextualTooltip:!1,jumpMarks:!1,jumpMarksLabel:"jump to error",messageHeader:null,containerNode:null,prefillData:null,ignoreNullValues:!0,preventDuplicatedSubmits:!1,
_labels:null,_combinedLabels:null,_wasDisplayNone:!1,_labeldFields:null,constructor:function(a){var d=this;d.debugEnter("constructor");b.mixin(this,a);d.containerNode=b.byId(d.formId);d.containerNode&&(a={action:d.containerNode.action,method:d.containerNode.method,name:d.containerNode.name},d.containerNode.encType&&b.mixin(a,{encType:d.containerNode.encType}),d.containerNode.accept&&b.mixin(a,{accept:d.containerNode.accept}),d.containerNode.target&&b.mixin(a,{target:d.containerNode.target}),d.form=
new g.form.Form(a,d.containerNode),d.containerNode=d.form.domNode,d.containerNode.submitForm=d.containerNode.submit,d.containerNode.submit=b.hitch(d.form,d.form.onSubmit),d.form.isValidForm=b.hitch(this,"validate"),b.connect(d.form,"onSubmit",this,function(a){d._deferredSubmit(a)}));d.prefillData&&d.containerNode&&(a=eval(d.prefillData),"undefined"!=typeof a&&d.setValues(a));d.debugExit()},_deferredSubmit:function(a){var d=this;d.debugEnter("_deferredSubmit");try{b.stopEvent(a)}catch(c){}null!=a&&
"forceSubmit"===a&&d.containerNode.submitForm();d.validate().then(function(a){d.debugEnter("constructor -\x3e onSubmit Deferred -\x3e Resolve");d.debugMsg("Validate Deferred resolved. Validation result:",a);!a||d.preventDuplicatedSubmits&&d._submitted||(d._submitted=!0,d.containerNode.submitForm());d.debugExit()},function(a){d.debugEnter("constructor -\x3e onSubmit Deferred -\x3e Resolve");d.debugWarn("Validation Deffered canceled");d.debugExit()})},validate:function(){var a=this;a.debugEnter("validate");
var d=a.containerNode;if(!d)return!1;a._labeldFields=[];b.forEach(d,function(b){"fieldset"!=b.type&&void 0!=b.label&&b.value==b.label&&(a._labeldFields[a._labeldFields.length]=b,b.value="")},a);a.validationDeferred&&a.validationDeferred.cancel();a.validationDeferred=new b.Deferred;this.lhCheck||(this.lhCheck=new lh.validation.check({form:d,profile:a.formProfile,success:function(b){a.debugEnter("lh.validation.check in LHFormApplication");a.resetHighlighting();a.validationDeferred&&-1==a.validationDeferred.fired?
a.validationDeferred.callback({valid:!0}):(a.validationDeferred===a.validationDeferred&&delete a.validationDeferred,delete a.validationDeferred)},fail:function(b){a._processResults(d,b,a.formProfile)||a._summarizeErrors(d,b,a.formProfile)}}));a.lhCheck.validate();a.debugExit();return a.validationDeferred},showServerSideErrors:function(){this.debugEnter("showServerSideErrors");if(!this.containerNode)return!1;var a=[];if(this.formProfile.required instanceof Array)for(var d=0;d<this.formProfile.required.length;d++)if(b.isString(this.formProfile.required[d])){var e=
c.byId(this.formProfile.required[d])||g.byId(this.formProfile.required[d]);e&&"undefined"!=typeof e.type&&c.getAttr(e,"data-dojo-serversideerror")&&(a[a.length]=e)}var f="";if(0<a.length){f+='\x3cul class\x3d"msg-error"\x3e';this.messageHeader&&(f+='\x3cli class\x3d"error-headline"\x3e'+this.messageHeader+"\x3c/li\x3e");for(d=0;d<a.length;d++){var e=a[d],k;try{k=JSON.parse(c.getAttr(e,"data-dojo-serversideerror"))}catch(m){k=[c.getAttr(e,"data-dojo-serversideerror")]}for(j=0;j<k.length;j++){var l=
k[j],f=f+("\x3cli\x3e\x3cdiv\x3e"+l);this.jumpMarks&&(f+='\x3cspan class\x3d"right"\x3e\x3ca href\x3d"#'+e.id+'"\x3e\x3ci class\x3d"arrow-down"\x3e\x3c/i\x3e'+this.jumpMarksLabel+"\x3c/a\x3e\x3c/span\x3e");f+="\x3c/div\x3e\x3c/li\x3e"}c.addClass(e,"error");new g.Tooltip({connectId:[e.id],label:l,id:e.id+"-error-tooltip",className:this.errorFieldClass})}this._showMessage(f+"\x3c/ul\x3e")}this.debugExit()},resetHighlighting:function(){var a=this;a.debugEnter("resetHighlighting");a._clearMessage();a._labels=
b.query("label",a.containerNode).forEach(function(a){b.removeClass(a,"labelError")});b.query("."+a.errorFieldClass,a.containerNode).forEach(function(d){b.removeClass(d,this.errorFieldClass);if(a.contextualTooltip){var c=g.byId(d.id+"-error-tooltip");c&&c.destroy()}if(b.isIE&&9>b.isIE&&("div"==d.tagName||"DIV"==d.tagName)){var c=d.parentNode,f=d.getElementsByTagName("select")[0];c.replaceChild(f,d)}},a);a._combinedLabels=b.query(".mam-xlabel",a.containerNode).forEach(function(a){b.removeClass(a,this.errorFieldClass)});
a.debugExit()},_processResults:function(a,d,c){this.debugEnter("_processResults");if(d.isSuccessful()&&!this.hasErrors)return this.debugExit(),!0;if(this.hasErrors||d.hasMissing()||d.hasInvalid())if(this.highlightErrors&&this.resetHighlighting(),(d.hasMissing()||d.hasInvalid())&&this.highlightErrors){this.hasErrors=!0;var f=d.getMissing(),f=0==f.length?d.getInvalid():f.concat(d.getInvalid());this._labels.forEach(function(a){for(var d=0;d<f.length;d++)null==a.getAttributeNode("for")?this.containerNode[f[d]].parentNode==
a&&b.addClass(a,"labelError"):a.getAttributeNode("for").value!==f[d]&&0!==a.getAttributeNode("for").value.indexOf(f[d]+"$$")||b.addClass(a,"labelError")},this);this._combinedLabels.forEach(function(a){for(var d=0;d<f.length;d++)b.hasClass(a,"mam-xfor-"+f[d])&&b.addClass(a,"labelError")});a=this.containerNode;for(d=0;d<f.length;d++){c=a[f[d]];if(!c){var k=g.byId(f[d]);k&&(c=k.domNode)}if(c&&"checkbox"!=c.type&&"radio"!=c.type&&(b.addClass(c,this.errorFieldClass),this.contextualTooltip)){var k=g.byId(c.id+
"-error-tooltip"),m=this._getMessageForTooltip(c);k?k.set("label",m):new g.Tooltip({connectId:[c.id],label:m,id:c.id+"-error-tooltip",className:this.errorFieldClass})}}b.forEach(this._labeldFields,function(a){a.value=a.label})}else return this.hasErrors=d.hasMissing()||d.hasInvalid(),this.debugExit(),!this.hasErrors;this.debugExit();return!1},_summarizeErrors:function(a,d,c){var f=this;f.debugEnter("_summarizeErrors");var k=[],m=[],l=null,q=null;if(d.hasMissing())if(c.singleRequiredMissingMessage)k.push(c.singleRequiredMissingMessage);
else{var n=d.getMissing();b.forEach(n,function(d,n){(q=g.byId(d))||(q=a[d]);if(q&&c[q.id]&&c[q.id].required)if(l=c[q.id],b.isArray(l.required))for(var r=0;r<l.required.length;r++){var s=l.reqKey[r];-1<b.indexOf(m,s)&&!0!=f.multiple||-1<b.indexOf(k,l.required)&&"undefined"!=typeof l.skipMsg||(m.push(s),k.push(l.required[r]))}else s=l.reqKey,-1<b.indexOf(m,s)&&!0!=f.multiple||-1<b.indexOf(k,l.required)&&"undefined"!=typeof l.skipMsg||("undefined"!=typeof s&&m.push(s),k.push(l.required))},this)}if(d.hasInvalid()){var n=
d.getInvalid(),r=d.getInvalidIndices();b.forEach(n,function(d){(q=g.byId(d))||(q=a[d]);if(q&&c[q.id]&&c[q.id].constraints)if(l=c[q.id],b.isArray(l.constraints))for(var n=0;n<l.constraints.length;n++){if(!("undefined"==typeof r[d]||0>b.indexOf(r[d],n))){var s=b.isArray(l.conKey)?l.conKey[n]:l.conKey;-1<b.indexOf(m,s)&&!0!=f.multiple||-1<b.indexOf(k,l.constraints[n])&&"undefined"!=typeof l.skipMsg||("undefined"!=typeof s&&m.push(s),k.push(l.constraints[n]))}}else s=l.conKey,-1<b.indexOf(m,s)&&!0!=f.multiple||
-1<b.indexOf(k,l.constraints)&&"undefined"!=typeof l.skipMsg||("undefined"!=typeof s&&m.push(s),k.push(l.constraints))},this)}d="";if(0<k.length){d+='\x3cul class\x3d"msg-error"\x3e';f.messageHeader&&(d+='\x3cli class\x3d"error-headline"\x3e'+f.messageHeader+"\x3c/li\x3e");for(var t=[],s=0,u=0;u<a.elements.length;u++){(q=g.byId(n[u]))||(q=a.elements[u]);if(q&&c[q.id]&&"undefined"!=typeof c[q.id].required)for(var v=0;v<k.length;v++)c[q.id].required==k[v]&&(t[s]={fieldId:q.id,message:k[v]},k[v]=null,
s++);if(null!=c[q.id]&&"undefined"!=typeof c[q.id].constraints)for(v=0;v<k.length;v++)if(b.isArray(c[q.id].constraints))for(var x=0;x<c[q.id].constraints.length;x++)c[q.id].constraints[x]==k[v]&&(t[s]={fieldId:q.id,message:k[v]},k[v]=null,s++);else c[q.id].constraints==k[v]&&(t[s]={fieldId:q.id,message:k[v]},k[v]=null,s++)}for(u=0;u<t.length;u++)d+="\x3cli\x3e\x3cdiv\x3e"+t[u].message,this.jumpMarks&&(d+='\x3cspan class\x3d"right"\x3e\x3ca href\x3d"#'+t[u].fieldId+'"\x3e\x3ci class\x3d"arrow-down"\x3e\x3c/i\x3e'+
this.jumpMarksLabel+"\x3c/a\x3e\x3c/span\x3e"),d+="\x3c/div\x3e\x3c/li\x3e";d+="\x3c/ul\x3e"}f.trackErrors&&mam.webRep.doTrackStack(mam.WT_ERRORKEY,!0);f._showMessage(d);f.debugExit()},_showMessage:function(a){this.debugEnter("_showMessage");var d=b.byId(this.messageBoxId);if(d){if("TD"==d.tagName||"td"==d.tagName||"TR"==d.tagName||"tr"==d.tagName)d=d.getElementsByTagName("P")[0];b.hasClass(d,this.successClass)&&(b.removeClass(d,this.successClass),b.addClass(d,this.errorClass));if(b.isIE&&9>b.isIE){var c=
document.createElement("span");c.innerHTML=a;if(d.firstChild)for(;d.firstChild;)b._destroyElement(d.firstChild);d.appendChild(c)}else d.innerHTML=a;b.removeClass(d,lh.INVISCLASS);b.hasClass(d,"hide-dn")&&(b.removeClass(d,"hide-dn"),this._wasDisplayNone=!0);this.scrollToError&&(a=b.position(d,!1),a.y-=20,b.window.scrollIntoView(d,a))}null!=this.messagePopupId&&b.byId(this.messagePopupId)&&b.removeClass(b.byId(this.messagePopupId),lh.INVISCLASS);this.oldPageTitle=document.title;_lh.event.pub(_lh.constants.topics.pagetitle.APPEND,
[{text:this.pageTitleError}]);this.debugExit()},_clearMessage:function(){this.debugEnter("_clearMessage");this.highlightErrors&&b.query("p.mam-msg-error",this.containerNode).forEach(function(a){b.style(a,"display","none")});var a=b.byId(this.messageBoxId);if(a){if("TD"==a.tagName||"td"==a.tagName||"TR"==a.tagName||"tr"==a.tagName)a=a.getElementsByTagName("P")[0];if(b.isIE&&7>b.isIE&&a.firstChild)for(;a.firstChild;)b._destroyElement(a.firstChild);else a.innerHTML="";b.addClass(a,lh.INVISCLASS);this._wasDisplayNone&&
b.style(a,"display","none")}null!=this.messagePopupId&&b.byId(this.messagePopupId)&&b.addClass(b.byId(this.messagePopupId),lh.INVISCLASS);null!=this.oldPageTitle&&_lh.event.pub(_lh.constants.topics.pagetitle.UPDATE,[{text:this.oldPageTitle}]);this.debugExit()},setValues:function(a){this.debugEnter("setValues");b.forEach(this.containerNode.elements,function(d){if(""!=d.name){for(var c=d.name.split("."),f=a,k=c[c.length-1],m=1,g=c.length;m<g;++m){var l=c[m-1],n=l.split("[");if(1<n.length)"undefined"==
typeof f[n[0]]&&(f[n[0]]=[]),nameIndex=parseInt(n[1]),"undefined"==typeof f[n[0]][nameIndex]&&(f[n[0]][nameIndex]={}),f=f[n[0]][nameIndex];else{if("undefined"==typeof f[l]){f=void 0;break}f=f[l]}}if("undefined"!=typeof f&&("undefined"!=typeof f[k]||!this.ignoreNullValues))switch(d.type){case "checkbox":d.checked=k in f&&b.some(f[k],function(a){return a==d.value});break;case "radio":d.checked=k in f&&f[k]==d.value;break;case "select-multiple":d.selectedIndex=-1;b.forEach(d.options,function(a){a.selected=
b.some(f[k],function(b){return a.value==b})});break;case "select-one":d.selectedIndex=0;b.forEach(d.options,function(a){a.selected=a.value==f[k]});break;case "hidden":case "text":case "textarea":case "password":d.value=f[k]||""}}},this);this.debugExit()},getValues:function(){this.debugEnter("getValues");var a={};b.forEach(this.containerNode.elements,function(b){if(b.name){for(var c=b.name.split("."),f=a,k=c[c.length-1],m=1,g=c.length;m<g;++m){var l=null,n=c[m-1].split("[");1<n.length?("undefined"==
typeof f[n[0]]&&(f[n[0]]=[]),l=parseInt(n[1]),"undefined"==typeof f[n[0]][l]&&(f[n[0]][l]={})):"undefined"==typeof f[n[0]]&&(f[n[0]]={});f=1==n.length?f[n[0]]:f[n[0]][l]}if("select-multiple"!=b.type&&"checkbox"!=b.type&&"radio"!=b.type||"radio"==b.type&&b.checked)k==k.split("[")[0]&&(f[k]=b.value);else if("checkbox"==b.type&&b.checked)"undefined"==typeof f[k]&&(f[k]=[]),f[k].push(b.value);else if("select-multiple"==b.type)for("undefined"==typeof f[k]&&(f[k]=[]),c=0,m=b.options.length;c<m;++c)b.options[c].selected&&
f[k].push(b.options[c].value)}else this.debugExit()});this.debugExit();return a},_getMessageForTooltip:function(a){this.debugEnter("_getMessageForTooltip");var b="No error message is given.",c=this.formProfile[a.id];c&&(a=a.value,b=c.required,""!==a&&(b=c.constraints));this.debugExit();return b}})})(c)})},"lh/validation/check":function(){define(["dojo","dijit","dojox","dojo/require!dojox/validate/_base"],function(c,g,l){c.provide("lh.validation.check");c.require("dojox.validate._base");(function(b){b.declare("lh.validation.check",
lh.util.logger,{debug:!1,missing:null,invalid:null,invalidIndices:null,valid:null,_validationsRunning:0,_constraintsToCheck:0,_constraintsChecked:0,_undef:function(a,b){return"undefined"==typeof b[a]},constructor:function(a){this.debugEnter("constructor");b.mixin(this,a);this.missing=[];this.invalid=[];this.missingIndicies={};this.valid=[];if(b.isObject(this.profile.constraints))for(name in this.profile.constraints)(a=this.form[name])||(a=g.byId(name)),a&&this._constraintsToCheck++;this.debugMsg("Constraints to check:",
this._constraintsToCheck);this.debugExit()},isSuccessful:function(){return!this.hasInvalid()&&!this.hasMissing()},hasMissing:function(){return 0<this.missing.length},getMissing:function(){return this.missing},isMissing:function(a){for(var b=0;b<this.missing.length;b++)if(a==this.missing[b])return!0;return!1},hasInvalid:function(){return 0<this.invalid.length},getInvalid:function(){return this.invalid},isInvalid:function(a){for(var b=0;b<this.invalid.length;b++)if(a==this.invalid[b])return!0;return!1},
hasInvalidIndices:function(){return 0<this.invalidIndices.length},getInvalidIndices:function(){return this.invalidIndices},validate:function(){this.debugEnter("validate");this.missing=[];this.invalid=[];this.missingIndicies={};this.valid=[];this._constraintsChecked=this._validationsRunning=0;this.done=!1;this._validateForm();this.debugExit()},_validateForm:function(){this.debugEnter("_validateForm");if(this.profile.trim instanceof Array)for(var a=0;a<this.profile.trim.length;a++){var d=this.form[this.profile.trim[a]];
this._undef("type",d)||"text"!=d.type&&"textarea"!=d.type&&"password"!=d.type||(d.value=d.value.replace(/(^\s*|\s*$)/g,""))}if(this.profile.uppercase instanceof Array)for(a=0;a<this.profile.uppercase.length;a++)d=this.form[this.profile.uppercase[a]],this._undef("type",d)||"text"!=d.type&&"textarea"!=d.type&&"password"!=d.type||(d.value=d.value.toUpperCase());if(this.profile.lowercase instanceof Array)for(a=0;a<this.profile.lowercase.length;a++)d=this.form[this.profile.lowercase[a]],this._undef("type",
d)||"text"!=d.type&&"textarea"!=d.type&&"password"!=d.type||(d.value=d.value.toLowerCase());if(this.profile.ucfirst instanceof Array)for(a=0;a<this.profile.ucfirst.length;a++)d=this.form[this.profile.ucfirst[a]],this._undef("type",d)||"text"!=d.type&&"textarea"!=d.type&&"password"!=d.type||(d.value=d.value.replace(/\b\w+\b/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1).toLowerCase()}));if(this.profile.digit instanceof Array)for(a=0;a<this.profile.digit.length;a++)d=this.form[this.profile.digit[a]],
this._undef("type",d)||"text"!=d.type&&"textarea"!=d.type&&"password"!=d.type||(d.value=d.value.replace(/\D/g,""));if(this.profile.required instanceof Array)for(a=0;a<this.profile.required.length;a++)if(b.isString(this.profile.required[a])){d=this.form[this.profile.required[a]];if(!d){var e=g.byId(this.profile.required[a]);if(e&&c.hasClass(e.domNode,"dijitSelect")){""===c.trim(e.get("value"))&&(this.missing[this.missing.length]=e.name);continue}}if(!this._undef("type",d)&&("text"==d.type||"textarea"==
d.type||"password"==d.type||"file"==d.type)&&/^\s*$/.test(d.value))this.missing[this.missing.length]=d.name;else if(!(this._undef("type",d)||"select-one"!=d.type&&"select-multiple"!=d.type||-1!=d.selectedIndex&&!/^\s*$/.test(d.options[d.selectedIndex].value)))this.missing[this.missing.length]=d.name;else if(!this._undef("type",d)&&"checkbox"==d.type&&!d.checked)this.missing[this.missing.length]=d.name;else if(b.isArrayLike(d)){for(var f=!1,e=0;e<d.length;e++)d[e].checked&&(f=!0);f||this._undef("type",
d[0])||(this.missing[this.missing.length]=d[0].name)}}if(this.profile.required instanceof Array)for(a=0;a<this.profile.required.length;a++)if(b.isObject(this.profile.required[a])){var k,m;for(m in this.profile.required[a])d=this.form[m],k=this.profile.required[a][m];if(d.isArrayLike(d)){for(e=f=0;e<d.length;e++)d[e].checked&&f++;f<k&&!this._undef("type",d[0])&&(this.missing[this.missing.length]=d[0].name)}else if(!this._undef("type",d)&&"select-multiple"==d.type){for(e=f=0;e<d.options.length;e++)d.options[e].selected&&
!/^\s*$/.test(d.options[e].value)&&f++;f<k&&!this._undef("type",d[0])&&(this.missing[this.missing.length]=d.name)}}if(b.isObject(this.profile.dependencies))for(m in this.profile.dependencies)if(a=this.form[this.profile.dependencies[m]],"text"==a.type||"textarea"==a.type||"password"==a.type||"radio"==a.type){if("radio"==a.type){if(!a.checked)continue}else if(/^\s*$/.test(a.value))continue;d=this.form[m];if(!d&&(e=g.byId(m))&&c.hasClass(e.domNode,"dijitSelect")){""===c.trim(e.get("value"))&&(this.missing[this.missing.length]=
e.id);continue}this._undef("type",d)||"text"!=d.type&&"textarea"!=d.type&&"password"!=d.type||/\S+/.test(d.value)||this.isMissing(d.name)||(this.missing[this.missing.length]=d.name)}if(b.isObject(this.profile.constraints))for(m in this.profile.constraints)if((d=this.form[m])||(d=g.byId(m)),d)if(!this._undef("tagName",d)&&(0<=d.tagName.toLowerCase().indexOf("input")||0<=d.tagName.toLowerCase().indexOf("textarea"))&&/^\s*$/.test(d.value))this._constraintsChecked++;else if(!this.done){k=!0;if(b.isFunction(this.profile.constraints[m]))this._validationsRunning++,
k=this.profile.constraints[m](d.value);else if(b.isArray(this.profile.constraints[m]))if(b.isArray(this.profile.constraints[m][0]))for(a=0;a<this.profile.constraints[m].length;a++)this._validationsRunning++,e=this.evaluateConstraint(this.profile,this.profile.constraints[m][a],m,d),e||("undefined"==typeof this.invalidIndices[m]&&(this.invalidIndices[m]=[]),this.invalidIndices[m][this.invalidIndices[m].length]=a),k=k&&e;else this._validationsRunning++,k=this.evaluateConstraint(this.profile,this.profile.constraints[m],
m,d);this._processValidation(d.name,k)}if(b.isObject(this.profile.confirm))for(m in this.profile.confirm)d=this.form[m],a=this.form[this.profile.confirm[m]],this._undef("type",d)||this._undef("type",a)||"text"!=d.type&&"textarea"!=d.type&&"password"!=d.type||a.type!=d.type||a.value==d.value||this.isInvalid(d.name)||/^\s*$/.test(a.value)?this.valid[this.valid.length]=d.name:(this.invalid[this.invalid.length]=d.name,this.done&&(this.done=!1));this._checkValidationStatus();this.debugExit()},_processValidation:function(a,
d){var c=this;c.debugEnter("_processValidation");c.debugMsg("Processing:",a);b.when(d,function(d){c.debugMsg("Result available for "+a+" - Processing!",d);!1===d?(c.invalid[c.invalid.length]=a,-1!==b.indexOf(c.valid,a)&&c.valid.splice(b.indexOf(c.valid,a),1),c._constraintsChecked++,c._validationsRunning--):!0===d&&(c.valid[c.valid.length]=a,c._constraintsChecked++,c._validationsRunning--);c._checkValidationStatus()});c.debugExit()},_checkValidationStatus:function(){this.debugEnter("_checkValidationStatus");
this.done||0!=this._validationsRunning||this._constraintsToCheck!=this._constraintsChecked?this.done&&this.debugMsg("All validations are already done - skipping execution of anything"):(this.debugMsg("All validations passed!"),this.hasInvalid()||this.hasMissing()?(this.debugMsg("Result: Failed, either invalids or missings"),this.fail(this)):(this.debugMsg("Result: Passed!"),this.success(this)),this.done=!0);this.debugExit()},success:function(a){},fail:function(a){},evaluateConstraint:function(a,b,
c,f){this.debugEnter("evaluateConstraint");a=b[0];b=b.slice(1);b.unshift(f.value);"undefined"!=typeof a?this._processValidation(c,a.apply(null,b)):this._processValidation(c,!1);this.debugExit()}})})(c)})},"dijit/form/Form":function(){define("dojo/_base/declare dojo/dom-attr dojo/_base/kernel dojo/sniff ../_Widget ../_TemplatedMixin ./_FormMixin ../layout/_ContentPaneResizeMixin".split(" "),function(c,g,l,b,a,d,e,f){return c("dijit.form.Form",[a,d,e,f],{name:"",action:"",method:"",encType:"","accept-charset":"",
accept:"",target:"",templateString:"\x3cform data-dojo-attach-point\x3d'containerNode' data-dojo-attach-event\x3d'onreset:_onReset,onsubmit:_onSubmit' ${!nameAttrSetting}\x3e\x3c/form\x3e",postMixInProperties:function(){this.nameAttrSetting=this.name?"name\x3d'"+this.name+"'":"";this.inherited(arguments)},execute:function(){},onExecute:function(){},_setEncTypeAttr:function(a){g.set(this.domNode,"encType",a);b("ie")&&(this.domNode.encoding=a);this._set("encType",a)},reset:function(a){var b={returnValue:!0,
preventDefault:function(){this.returnValue=!1},stopPropagation:function(){},currentTarget:a?a.target:this.domNode,target:a?a.target:this.domNode};!1!==this.onReset(b)&&b.returnValue&&this.inherited(arguments,[])},onReset:function(){return!0},_onReset:function(a){this.reset(a);a.stopPropagation();a.preventDefault();return!1},_onSubmit:function(a){var b=this.constructor.prototype;if(this.execute!=b.execute||this.onExecute!=b.onExecute)l.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.",
"","2.0"),this.onExecute(),this.execute(this.getValues());!1===this.onSubmit(a)&&(a.stopPropagation(),a.preventDefault())},onSubmit:function(){return this.isValid()},submit:function(){!1!==this.onSubmit()&&this.containerNode.submit()}})})},"dijit/form/_FormMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/on dojo/window".split(" "),function(c,g,l,b,a,d){return g("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(a){var b=[];
c.forEach(a||this.getChildren(),function(a){"value"in a?b.push(a):b=b.concat(this._getDescendantFormWidgets(a.getChildren()))},this);return b},reset:function(){c.forEach(this._getDescendantFormWidgets(),function(a){a.reset&&a.reset()})},validate:function(){var a=!1;return c.every(c.map(this._getDescendantFormWidgets(),function(b){b._hasBeenBlurred=!0;var c=b.disabled||!b.validate||b.validate();c||a||(d.scrollIntoView(b.containerNode||b.domNode),b.focus(),a=!0);return c}),function(a){return a})},setValues:function(a){l.deprecated(this.declaredClass+
"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",a)},_setValueAttr:function(a){var d={};c.forEach(this._getDescendantFormWidgets(),function(a){a.name&&(d[a.name]||(d[a.name]=[])).push(a)});for(var k in d)if(d.hasOwnProperty(k)){var m=d[k],g=b.getObject(k,!1,a);void 0!==g&&(g=[].concat(g),"boolean"==typeof m[0].checked?c.forEach(m,function(a){a.set("value",-1!=c.indexOf(g,a._get("value")))}):m[0].multiple?m[0].set("value",g):c.forEach(m,function(a,b){a.set("value",
g[b])}))}},getValues:function(){l.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var a={};c.forEach(this._getDescendantFormWidgets(),function(d){var c=d.name;if(c&&!d.disabled){var m=d.get("value");"boolean"==typeof d.checked?/Radio/.test(d.declaredClass)?!1!==m?b.setObject(c,m,a):(m=b.getObject(c,!1,a),void 0===m&&b.setObject(c,null,a)):(d=b.getObject(c,!1,a),d||(d=[],b.setObject(c,d,a)),!1!==m&&
d.push(m)):(d=b.getObject(c,!1,a),"undefined"!=typeof d?b.isArray(d)?d.push(m):b.setObject(c,[d,m],a):b.setObject(c,m,a))}});return a},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var a=c.map(this._descendants,function(a){return a.get("state")||""});return 0<=c.indexOf(a,"Error")?"Error":0<=c.indexOf(a,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},connectChildren:function(a){this._descendants=this._getDescendantFormWidgets();c.forEach(this._descendants,
function(a){a._started||a.startup()});a||this._onChildChange()},_onChildChange:function(a){a&&"state"!=a&&"disabled"!=a||this._set("state",this._getState());a&&"value"!=a&&"disabled"!=a&&"checked"!=a||(this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"))},10))},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");
this.state=this._getState();var b=this;this.own(a(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(a){a.target!=b.domNode&&b._onChildChange(a.type.replace("attrmodified-",""))}));this.watch("state",function(a,b,d){this.onValidStateChange(""==d)})},destroy:function(){this.inherited(arguments)}})})},"lh/navigation/FlyoutHandler":function(){define("dijit/_WidgetBase dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/query dojo/on dojo/topic dojo/NodeList-traverse dojo/_base/array dijit/registry lh/util/logger lh/widget/_DelayedCssStateMixin lh/util/ConfigurationCookie".split(" "),
function(c,g,l,b,a,d,e,f,k,m,p,q,n,r,t){return l("lh.navigation.FlyoutHandler",[c,n,r],{debug:!1,delay:500,baseClass:"",followLink:!0,hiddenClass:"x-hidden",stageOverlayId:"stage-overlay",postCreate:function(){var c=this;c.debugEnter("postCreate");c.confCookie=t();null!==c.confCookie.getConfigValue("mainNavFlyoutDelay")&&(c.delay=parseInt(c.confCookie.getConfigValue("mainNavFlyoutDelay")));c.debugMsg("Current Delay",c.delay);c.inherited(arguments);this.stageOverlay=b.byId(this.stageOverlayId);c.connect(c,
"onDelayedHover",function(){this.stageOverlay&&d.remove(this.stageOverlay,this.hiddenClass);this._publish_flyout_topic(!0,c.domNode)});c.connect(c,"onMouseLeave",function(){this.stageOverlay&&d.add(this.stageOverlay,this.hiddenClass);this._publish_flyout_topic(!1,c.domNode)});f(e("a.main",c.domNode),"keydown",function(a){if(13===(a.keyCode||a.charCode)||32===(a.keyCode||a.charCode))return d.contains(c.domNode,"firstLevelActive")?(c.stageOverlay&&d.add(c.stageOverlay,c.hiddenClass),c._hovering=!1,
c._active=!1,c._set("hovering",!1),c._set("active",!1)):(p.forEach(e("li.firstLevelActive"),function(a,b){var c=q.byNode(a);null!=c&&c._cssMouseEvent({type:"mouseout"})}),c.stageOverlay&&d.remove(c.stageOverlay,c.hiddenClass),c._hovering=!0,c._active=!0,c._set("hovering",!0),c._set("active",!0)),c._setStateClass(),a.preventDefault(),!1;if(40===(a.keyCode||a.charCode)){var b=e(this).parent();if(0<b.length&&d.contains(b[0],"firstLevelActive")&&(b=e("ul.secondLevel a, div.megamenu-2014 a",b[0]),0<b.length))return b[0].focus(),
a.preventDefault(),!1}});if(!c.followLink){var m=e("a",c.domNode);0<m.length&&(m=e("a",c.domNode)[0],a.remove(m,"onclick"),f(m,"click",function(a){a.preventDefault()}))}(m=b.byId("Navigation"))&&""!==a.get(m,"class")&&d.contains(c.domNode,a.get(m,"class"))&&d.add(c.domNode,"active");k.subscribe("lh/navigation/flyout/open",function(b,c){var d=e("a.main",c),f=e("ul.secondLevel, div.megamenu-2014",c);0<d.length&&0<f.length&&(a.set(d[0],"aria-expanded",b?"true":"false"),a.set(f[0],"aria-expanded",b?"true":
"false"),a.set(f[0],"aria-hidden",b?"false":"true"))});d.contains(document.body,"hasEscapeKeyHandler")||(f(document.body,"keypress",function(a){27===(a.keyCode||a.which)&&(a=e("li.firstLevelActive"),0<a.length&&(p.forEach(a,function(a,b){var c=q.byNode(a);null!=c&&c._cssMouseEvent({type:"mouseout"})}),e("a.main",a[0])[0].focus()))}),d.add(document.body,"hasEscapeKeyHandler"));c.debugExit()},_publish_flyout_topic:function(a,b){k.publish("lh/navigation/flyout/open",a,b)},destroy:function(){this.inherited(arguments)}})})},
"dojo/NodeList-traverse":function(){define(["./query","./_base/lang","./_base/array"],function(c,g,l){var b=c.NodeList;g.extend(b,{_buildArrayFromCallback:function(a){for(var b=[],c=0;c<this.length;c++){var f=a.call(this[c],this[c],b);f&&(b=b.concat(f))}return b},_getUniqueAsNodeList:function(a){for(var b=[],c=0,f;f=a[c];c++)1==f.nodeType&&-1==l.indexOf(b,f)&&b.push(f);return this._wrap(b,null,this._NodeListCtor)},_getUniqueNodeListWithParent:function(a,b){var e=this._getUniqueAsNodeList(a),e=b?c._filterResult(e,
b):e;return e._stash(this)},_getRelatedUniqueNodes:function(a,b){return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(b),a)},children:function(a){return this._getRelatedUniqueNodes(a,function(a,b){return g._toArray(a.childNodes)})},closest:function(a,b){return this._getRelatedUniqueNodes(null,function(e,f){do if(c._filterResult([e],a,b).length)return e;while(e!=b&&(e=e.parentNode)&&1==e.nodeType);return null})},parent:function(a){return this._getRelatedUniqueNodes(a,function(a,b){return a.parentNode})},
parents:function(a){return this._getRelatedUniqueNodes(a,function(a,b){for(var c=[];a.parentNode;)a=a.parentNode,c.push(a);return c})},siblings:function(a){return this._getRelatedUniqueNodes(a,function(a,b){for(var c=[],k=a.parentNode&&a.parentNode.childNodes,m=0;m<k.length;m++)k[m]!=a&&c.push(k[m]);return c})},next:function(a){return this._getRelatedUniqueNodes(a,function(a,b){for(var c=a.nextSibling;c&&1!=c.nodeType;)c=c.nextSibling;return c})},nextAll:function(a){return this._getRelatedUniqueNodes(a,
function(a,b){for(var c=[],k=a;k=k.nextSibling;)1==k.nodeType&&c.push(k);return c})},prev:function(a){return this._getRelatedUniqueNodes(a,function(a,b){for(var c=a.previousSibling;c&&1!=c.nodeType;)c=c.previousSibling;return c})},prevAll:function(a){return this._getRelatedUniqueNodes(a,function(a,b){for(var c=[],k=a;k=k.previousSibling;)1==k.nodeType&&c.push(k);return c})},andSelf:function(){return this.concat(this._parent)},first:function(){return this._wrap(this[0]&&[this[0]]||[],this)},last:function(){return this._wrap(this.length?
[this[this.length-1]]:[],this)},even:function(){return this.filter(function(a,b){return 0!=b%2})},odd:function(){return this.filter(function(a,b){return 0==b%2})}});return b})},"lh/widget/_DelayedCssStateMixin":function(){define(["dojo","dijit","dojox","dojo/require!lh/util/logger,dijit/_CssStateMixin,dojo/query,dojo/NodeList-traverse,dojo/topic"],function(c,g,l){c.provide("lh.widget._DelayedCssStateMixin");c.require("lh.util.logger");c.require("dijit._CssStateMixin");c.require("dojo.query");c.require("dojo.NodeList-traverse");
c.require("dojo.topic");c.declare("lh.widget._DelayedCssStateMixin",[lh.util.logger,g._CssStateMixin],{debug:!1,timer:[],delay:500,_cssMouseEvent:function(b){if(!this.disabled){var a=!1;switch(b.type){case "pointerover":case "MSPointerOver":case "mouseenter":case "mouseover":this._hovering=a=!0;this._active=this._mouseDown;break;case "pointerout":case "MSPointerOut":case "mouseleave":case "mouseout":this.activeParentNode=c.query(b.relatedTarget).parents("#"+this.domNode.id);null!=this.activeParentNode&&
0<this.activeParentNode.length&&this.activeParentNode[0]&&this.activeParentNode[0]==this.domNode||(0<this.timer.length&&c.forEach(this.timer,function(){clearTimeout(this.timer.pop())},this),this._active=this._hovering=!1,this.onMouseLeave());break;case "mousedown":this._set("active",!0);that=this;var d=this.connect(c.body(),"onmouseup",function(){that._set("active",!1);this._mouseDown=!1;that._setStateClass();that.disconnect(d)})}a?(this.timer.push(setTimeout(c.hitch(this,"_setStateClass"),this.delay)),
this._hovering&&this.timer.push(setTimeout(c.hitch(this,"onDelayedHover"),this.delay)),this._active&&this.timer.push(setTimeout(c.hitch(this,"onDelayedActive"),this.delay))):(this._set("hovering",this._hovering),this._set("active",this._active),this._setStateClass())}},_setStateClass:function(){this.focused=!1;this.inherited(arguments);var b=!1,a;for(a in this._stateClasses)if("firstLevelActive"===this._stateClasses[a]){b=!0;break}c.topic.publish("lh/navigation/flyout/open",b,this.domNode)},onDelayedHover:function(){this.debugEnter("onDelayedHover");
this._set("hovering",this._hovering);this.debugExit()},onDelayedActive:function(){this.debugEnter("onDelayedActive");this._set("active",this._active);this.debugExit()}})})},"lh/util/ConfigurationCookie":function(){define(["dojo","dijit","dojox","dojo/require!lh/util/logger,dojo/cookie"],function(c,g,l){c.provide("lh.util.ConfigurationCookie");c.require("lh.util.logger");c.require("dojo.cookie");c.declare("lh.util.ConfigurationCookie",[g._Widget,lh.util.logger],{debug:!1,cookieName:"LHConfigCookie",
data:{},constructor:function(){this.debugEnter("constructor");c.mixin(this,arguments);if(c.cookie.isSupported()){var b=c.fromJson(c.cookie(this.cookieName));b?this.data=b:c.cookie(this.cookieName,c.toJson(this.data),{path:"/",expires:365})}else this.debugWarn("Cookies are not supported!"),this.data={};this.debugExit()},getConfigValue:function(b){this.debugEnter("getConfigValue");this.debugMsg("Requested value:",b,this.data[b]);this.debugExit();if(this.data[b]&&void 0!==typeof this.data[b])return this.debugMsg("Returning",
this.data[b]),this.data[b];this.debugMsg("Returning","null");return null},setConfigValue:function(b,a){this.debugEnter("setConfigValue");this.data[b]=a;c.cookie(this.cookieName,c.toJson(this.data),{path:"/",expires:365});this.debugExit()}});lh.util._configurationCookie=null;lh.util.configurationCookie=function(){lh.util._configurationCookie||(lh.util._configurationCookie=new lh.util.ConfigurationCookie);return lh.util._configurationCookie}})},"lh/handler/LanguageLayerHandler":function(){define("dijit/registry dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom dojo/dom-class dojo/on dojo/request lh/util/AMDConfigurationCookie lh/util/logger dojo/dom-construct".split(" "),
function(c,g,l,b,a,d,e,f,k,m,p,q){return l("lh/handler/LanguageLayerHandler",[p],{debug:!1,url:"",form_id:"",country_select_id:"",language_select_id:"",region_container_id:"",region_select_id:"",remember_checkbox_id:"",country_code_parameter:"key",site_name:"",_form:{},_country_select:{},_language_select:{},_region_container:null,_region_select:{},_remember_checkbox:{},_lh_conf_cookie:null,constructor:function(a){this.debugEnter("constructor");l.safeMixin(this,a);this._lh_conf_cookie=m.getInstance();
this._form=d.byId(this.form_id);this._remember_checkbox=d.byId(this.remember_checkbox_id);this._country_select=d.byId(this.country_select_id);this._language_select=d.byId(this.language_select_id);this._region_select=d.byId(this.region_select_id);null!=this._form&&null!=this._remember_checkbox&&null!=this._country_select&&null!=this._language_select&&null!=this._region_select&&null!=this.url?(f(this._country_select,"change",b.hitch(this,this._fetch_and_display_languages)),this._focus(),this._preselect_item(),
f(this._form,"submit",b.hitch(this,this._set_region))):this.url?(this.debugWarn("Necessary nodes are missing."),this.debugWarn("countrySelect "+this._country_select),this.debugWarn("languageSelect "+this._language_select)):this.debugWarn("Url is missing.");this.debugExit()},_fetch_and_display_languages:function(){var a,b;this.debugEnter("fetch_and_display_languages");b={};b[this.country_code_parameter]=this._country_select.options[this._country_select.selectedIndex].value;a=this;k.get(this.url,{query:b,
handleAs:"json"}).then(function(b){q.empty(a.language_select_id);q.empty(a.region_select_id);if(b.items)for(var c=0,d=b.items.length;c<d;c++){var f=b.items[c].option,k={value:f.value,innerHTML:f.label};if(!0===f.selected||"true"===f.selected)k.selected=!0;q.create("option",k,a._language_select)}if(b.regions){c=0;for(d=b.regions.length;c<d;c++){f=b.regions[c];k={value:f.value,innerHTML:f.label};if(!0===f.selected||"true"===f.selected)k.selected=!0;q.create("option",k,a._region_select)}e.remove(a.region_container_id,
"x-hidden")}else e.add(a.region_container_id,"x-hidden")},function(a){return this.debugError("An error occured : "+a)});this.debugExit()},_preselect_item:function(){this.debugEnter("preselect_item");this._fetch_and_display_languages();this.debugExit()},_focus:function(){this.debugEnter("_focus");this._country_select.focus();this.debugExit()},_set_region:function(){var a;this.debugEnter("_set_region");a="all"===this._region_select.get("value")?!0:!1;this._remember_checkbox.checked&&!e.contains(this.region_select_id,
"x-hidden")&&this._lh_conf_cookie.set_config_value(""+this.site_name+"-geo_skipRegionDetection","true");a||(this._lh_conf_cookie.set_config_value(""+this.site_name+"-geo_skipRegionDetection","false"),this._lh_conf_cookie.set_config_value(""+this.site_name+"-geo_region",this._region_select.get("value")),this._lh_conf_cookie.set_config_value(""+this.site_name+"-geo_setByUser","true"));this.debugExit()}})})},"lh/util/AMDConfigurationCookie":function(){define("dojo/_base/declare dojo/_base/lang dojo/cookie dojo/json lh/util/logger lh/util/MakeSingleton".split(" "),
function(c,g,l,b,a,d){return d(c("AMDConfigurationCookie",a,{debug:!1,cookie_name:"LHConfigCookie",_data:{},constructor:function(){this.debugEnter("constructor");g.mixin(this,arguments);if(l.isSupported()){var a=l(this.cookie_name);a?this._data=b.parse(a):l(this.cookie_name,b.stringify(this._data),{path:"/"})}else this.debugWarn("Cookies are not supported"),this._data={};this.debugExit()},get_config_value:function(a){this.debugEnter("get_config_value");this.debugMsg("Requested value:",a,this._data[a]);
if("undefined"!==typeof this._data[a])return this.debugMsg("Returning",this._data[a]),this.debugExit(),this._data[a];this.debugMsg("Returning","null");this.debugExit();return null},set_config_value:function(a,c){this.debugEnter("set_config_value");this._data[a]=c;l(this.cookie_name,b.stringify(this._data),{path:"/"});this.debugExit()}}))})},"lh/util/MakeSingleton":function(){define(["dojo/_base/lang"],function(c){return function(g){var l,b=null;l=new function(){this.getInstance=function(){b||(b=new g,
b.constructor=null);return b}};g.prototype&&g.prototype.declaredClass&&c.setObject(g.prototype.declaredClass,l);return l}})},"lh/widget/calendar_cr579/newCal":function(){define(["dojo","dijit","dojox","dojo/require!lh/constants,lh/util/logger,lh/widget/calendar_cr579/_calendar,lh/widget/calendar_cr579/calendarWrapper,dijit/_Widget,dojo/dom-attr,dojo/aspect"],function(c,g,l){c.provide("lh.widget.calendar_cr579.newCal");c.require("lh.constants");c.require("lh.util.logger");c.require("lh.widget.calendar_cr579._calendar");
c.require("lh.widget.calendar_cr579.calendarWrapper");c.require("dijit._Widget");c.require("dojo.dom-attr");c.require("dojo.aspect");(function(b){b.declare("lh.newCal",[g._Widget,lh._calendar,lh.util.logger],{debug:!1,alignmentPosition:"underleft",firstDayOfWeek:1,weekendDays:[0,6],cascadingDatePublish:!1,fieldIdInbound:null,fieldIdInboundHidden:null,fieldIdOutbound:null,fieldIdOutboundHidden:null,datePattern:"EEE, dd.MM.yyyy",backendDatePattern:"dd.MM.yyyy",displayMonthDatePattern:"MMMM yyyy",maxDayInFuture:361,
todayDate:new Date,specialRestricted:!1,hideOneWayLink:!1,errorState:"",blurStatus:!1,arroundNodeId:"",withTopBar:!0,datepicker_input_readonly:!0,outboundTitle:"\x26nbsp;",inboundTitle:"'inboundTitle' text is missing",onewayButtonTitle:"'onewayButtonTitle' text is missing",changeMontTitle:"'changeMontTitle' text is missing",specialRangeTitle:"'specialRangeTitle' text is missing",errorText:"'errorText' text is missing",currentErrorText:["",""],roundtripType:"roundtrip",calType:"",showDirectMonthSelect:!1,
onDateSelectOpenNextId:"",_opened:!1,offset:0,constructor:function(a){this.debugEnter("constructor");b.mixin(this,a);this.dateFormat={datePattern:this.datePattern,selector:"date"};this.backendDateFormat={datePattern:this.backendDatePattern,selector:"date"};this.fieldIdOutbound&&this.fieldIdOutboundHidden&&(this.fieldIdInbound||(this.fieldIdInbound=this.fieldIdOutbound),this.fieldIdInboundHidden||(this.fieldIdInboundHidden=this.fieldIdOutboundHidden));this.fieldIdInbound&&this.fieldIdInboundHidden&&
(this.fieldIdOutbound||(this.fieldIdOutbound=this.fieldIdInbound),this.fieldIdOutboundHidden||(this.fieldIdOutboundHidden=this.fieldIdInboundHidden));switch(this.alignmentPosition.toLowerCase()){case "topright":this.orient=["above-alt","above"];break;case "topleft":this.orient=["above"];break;case "underright":this.orient=["below-alt","below"];break;case "underleft":this.orient=["below"];break;default:this.orient=["below","below-alt"]}this.todayDate.setHours(0,0,0,0);this.startDate=this.start&&""!=
this.start?b.date.stamp.fromISOString(this.start):this.todayDate;this.scope?("string"==typeof this.scope&&(this.scope=parseInt(this.scope)),0>=this.scope&&(this.scope=this.maxDayInFuture)):this.scope=this.maxDayInFuture;this.maxEndDate=b.date.add(this.todayDate,"day",this.scope);this.end&&""!=this.end?(this.endDate=b.date.stamp.fromISOString(this.end),0<b.date.compare(this.endDate,this.maxEndDate,"date")&&(this.endDate=this.maxEndDate)):this.endDate=this.maxEndDate;if(this.offers)for(a=0;a<this.offers.length;a++){var c=
b.date.stamp.fromISOString(this.offers[a][0]),e=b.date.stamp.fromISOString(this.offers[a][1]);0<b.date.compare(c,e,"date")&&(f=this.offers[a][0],this.offers[a][0]=this.offers[a][1],this.offers[a][1]=f);0<b.date.compare(this.todayDate,c,"date")&&(this.offers[a][0]=b.date.stamp.toISOString(this.todayDate));0<b.date.compare(e,this.maxEndDate,"date")&&(this.offers[a][1]=b.date.stamp.toISOString(this.maxEndDate))}if(this.ranges){var f;for(a=0;a<this.ranges.length;a++)c=b.date.stamp.fromISOString(this.ranges[a][0]),
e=b.date.stamp.fromISOString(this.ranges[a][1]),0<b.date.compare(c,e,"date")&&(f=this.ranges[a][0],this.ranges[a][0]=this.ranges[a][1],this.ranges[a][1]=f);f=[];for(a=0;a<this.ranges.length;a++)c=b.date.stamp.fromISOString(this.ranges[a][0]),e=b.date.stamp.fromISOString(this.ranges[a][1]),0<=b.date.compare(this.startDate,c,"date")&&0>=b.date.compare(this.startDate,e,"date")?this.startDate=e:0<=b.date.compare(e,this.endDate,"date")&&0>=b.date.compare(c,this.endDate,"date")?this.endDate=c:f[f.length]=
this.ranges[a];this.ranges=f;this.ranges.sort();this.initRanges=this.ranges=this.mergeRanges(this.ranges)}if(this.receiveOffsetDate)if(b.isArray(this.receiveOffsetDate))for(a=0;a<this.receiveOffsetDate.length;a++)b.subscribe(this.receiveOffsetDate[a].messageKey,this,"receiveDate");else b.subscribe(this.receiveOffsetDate.messageKey,this,"receiveDate");this.receiveNewStartDate&&b.subscribe(this.receiveNewStartDate.messageKey,this,"newStartDate");this.dateInitStart=this.startDate;b.subscribe(lh.topics.calendar.ROUNDTRIP_AS_ONEWAY,
this,"setRtTypeOneWay");b.subscribe(lh.topics.calendar.GUI_ONEWAY_CLICKED,this,"setRtTypeOneWay");b.subscribe(lh.topics.calendar.GUI_ROUNDTRIP_CLICKED,this,"setRtTypeRoundtrip");b.subscribe(lh.topics.calendar.SINGLE_DATE_TO_HANDLER,this,"setSingleDate");b.subscribe(lh.topics.calendar.DOUBLE_DATE_TO_HANDLER,this,"setDoubleDate");b.subscribe(lh.topics.calendar.ADJUST_WIDGET_POS,this,"adjustWidgetPosition");this.debugExit()},postCreate:function(){var a=this;a.debugEnter("postCreate");a.inherited(arguments);
a.fieldId&&!a.fieldIdOutbound&&(a.fieldIdOutbound=a.fieldId,a.calType||(a.calType="simple"));if(a.fieldIdOutbound&&""!=a.fieldIdOutbound)if(a.outboundFieldNode=b.byId(a.fieldIdOutbound),a.fieldIdOutboundHidden&&""!=a.fieldIdOutboundHidden){a.debugMsg("Prefilling values");a.outboundFieldNodeHidden=b.byId(a.fieldIdOutboundHidden);a.inboundFieldNode=b.byId(a.fieldIdInbound);a.inboundFieldNodeHidden=b.byId(a.fieldIdInboundHidden);if(("simple"==a.calType||"oneway"==a.calType)&&""!=b.attr(a.outboundFieldNodeHidden,
"value")&&null!=b.attr(a.outboundFieldNodeHidden,"value")&&a.sendDate&&a.sendDate.messageKey){a.debugMsg("START - Send prefilled date to return calendar");var d=""!=b.attr(a.outboundFieldNodeHidden,"value")?b.date.locale.parse(b.attr(a.outboundFieldNodeHidden,"value"),a.backendDateFormat):null;a.debugMsg(a.sendDate.messageKey);a.debugMsg(d);setTimeout(b.hitch(this,function(){a.debugMsg("Date sent");a.set("date",d)}),750);a.debugMsg("END - Send prefilled date to return calendar")}"roundtrip"==a.calType&&
a.inboundFieldNode&&b.connect(a.inboundFieldNode,"onblur",a,"_onBlur");""!=a.outboundFieldNodeHidden.value&&a.isValidStrDate(a.outboundFieldNodeHidden.value,"out")&&(a.outboundFieldNode.value=a.convertDateToStringForUser(this.getDateFromString(a.outboundFieldNodeHidden.value)));a.inboundFieldNode=a.fieldIdInbound&&""!=a.fieldIdInbound?b.byId(a.fieldIdInbound):null;a.inboundFieldNodeHidden=a.fieldIdInboundHidden&&""!=a.fieldIdInboundHidden?b.byId(a.fieldIdInboundHidden):null;a.inboundFieldNodeHidden&&
a.inboundFieldNodeHidden!=a.outboundFieldNodeHidden&&""!=a.inboundFieldNodeHidden.value&&a.isValidStrDate(a.inboundFieldNodeHidden.value,"in")&&(a.inboundFieldNode.value=a.convertDateToStringForUser(this.getDateFromString(a.inboundFieldNodeHidden.value)));if(a.onClickOpenIds)for(var e=0;e<a.onClickOpenIds.length;e++){if(a.debugMsg(a.onClickOpenIds[e]),b.byId(a.onClickOpenIds[e])&&(a.debugMsg("Connecting onclick Event to "+a.onClickOpenIds[e]),b.connect(b.byId(a.onClickOpenIds[e]),"click",this,"_open"),
"text"==b.attr(b.byId(a.onClickOpenIds[e]),"type")||b.isIE&&null==b.attr(b.byId(a.onClickOpenIds[e]),"type")))a.debugMsg("Connecting onfocus Event to "+a.onClickOpenIds[e]),b.connect(b.byId(a.onClickOpenIds[e]),"focus",this,"_open")}else b.connect(a.outboundFieldNode,"onclick",this,"_open"),b.connect(a.outboundFieldNode,"onfocus",this,"_open");b.connect(b.doc,"keyup",this,"_onkeypressed");a.defaultToOneway&&a.setRtTypeOneWay();a.datepicker_input_readonly&&c.setAttr(c.byId(a.id),"readonly","");c.aspect.around(g._FocusMixin.prototype._focusManager,
"_onBlurNode",function(a){return function(b){c.hitch(g._FocusMixin.prototype._focusManager,a,b)}})}else a.outboundFieldNodeHidden=null,a.debugWarn("ERROR: No hidden input element for outbound/simple found!");else a.outboundFieldNode=null,a.debugWarn("ERROR: No input element for outbound/simple found!");a.debugExit()},_setDate:function(a,c){this.debugEnter("_setDate");this.debugMsg(a);var e=null;if(e="string"==typeof a?b.date.locale.parse(a,this.backendDateFormat):a){this.debugMsg("Date Obj is set");
var f=this.onDateSelectOpenNextId;this.onDateSelectOpenNextId=null;this.setSingleDate({id:"out"==c?this.outboundFieldNodeHidden.id:this.inboundFieldNodeHidden.id,dateObj:e});this.onDateSelectOpenNextId=f;this.sendDate&&b.publish(this.sendDate.messageKey,[e,this.sendDate.messageKey])}this.debugExit()},_setDateAttr:function(a){this.debugEnter("_setDate");this._setDate(a,"out");this.debugExit()},_setOutboundDateAttr:function(a){this.debugEnter("_setOutboundDateAttr");this._setDate(a,"out");this.debugExit()},
_setInboundDateAttr:function(a){this.debugEnter("_setInboundDateAttr");this._setDate(a,"in");this.debugExit()},_getValueAttr:function(){return b.attr(this.inboundFieldNodeHidden,"value")},mergeRanges:function(a){for(var c,e=0;e<a.length-1;e++)if(c=e+1,posOlder=b.date.stamp.fromISOString(a[e][1]),posYounger=b.date.stamp.fromISOString(a[c][0]),posOlderPlus1=b.date.add(posOlder,"day",1),0==b.date.compare(posOlderPlus1,posYounger,"date")||0<b.date.compare(posOlder,posYounger,"date"))nRStart=a[e][0],nREnd=
a[c][1],a=b.filter(a,function(a,b,m){return b!=e&&b!=c?!0:!1},this),a[a.length]=[nRStart,nREnd],a.sort(),a=this.mergeRanges(a);return a},_open:function(a){this.debugEnter("_open");this.debugMsg("Open? "+this._opened);a&&b.stopEvent(a);if(!this._opened){"simple"==this.calType||"oneway"==this.calType?this._pickerWrp=new lh.calendarWrapper({calType:this.calType,firstDayOfWeek:this.firstDayOfWeek,weekendDays:this.weekendDays,datePattern:this.datePattern,backendDatePattern:this.backendDatePattern,displayMonthDatePattern:this.displayMonthDatePattern,
startDate:this.startDate,endDate:this.endDate,ranges:this.ranges,offers:this.offers,specialRestricted:this.specialRestricted,fieldNode:this.outboundFieldNode,fieldNodeHidden:this.outboundFieldNodeHidden,outboundTitle:this.outboundTitle,inboundTitle:this.inboundTitle,onewayButtonTitle:this.onewayButtonTitle,changeMontTitle:this.changeMontTitle,specialRangeTitle:this.specialRangeTitle,sendDate:this.sendDate,currentErrorText:this.currentErrorText,hideOneWayLink:this.hideOneWayLink,withTopBar:this.withTopBar,
showDirectMonthSelect:this.showDirectMonthSelect,dayNames:this.dayNames,monthNames:this.monthNames}):"roundtrip"==this.calType&&(this._pickerWrp=new lh.calendarWrapper({calType:this.calType,roundtripType:this.roundtripType,firstDayOfWeek:this.firstDayOfWeek,weekendDays:this.weekendDays,datePattern:this.datePattern,backendDatePattern:this.backendDatePattern,displayMonthDatePattern:this.displayMonthDatePattern,startDate:this.startDate,endDate:this.endDate,ranges:this.ranges,offers:this.offers,specialRestricted:this.specialRestricted,
fieldNode:this.outboundFieldNode,fieldNodeHidden:this.outboundFieldNodeHidden,outboundFieldNode:this.outboundFieldNode,outboundFieldNodeHidden:this.outboundFieldNodeHidden,inboundFieldNode:this.inboundFieldNode,inboundFieldNodeHidden:this.inboundFieldNodeHidden,offset:this.offset,outboundTitle:this.outboundTitle,inboundTitle:this.inboundTitle,onewayButtonTitle:this.onewayButtonTitle,changeMontTitle:this.changeMontTitle,specialRangeTitle:this.specialRangeTitle,onewayButtonTitle:this.onewayButtonTitle,
currentErrorText:this.currentErrorText,hideOneWayLink:this.hideOneWayLink,showDirectMonthSelect:this.showDirectMonthSelect,dayNames:this.dayNames,monthNames:this.monthNames}));a=""==this.arroundNodeId?this.domNode:b.byId(this.arroundNodeId);var d=this;isiOS?g.popup.open({parent:this,popup:this._pickerWrp,orient:this.orient,onCancel:b.hitch(this,this._close),x:b.coords(this.domNode).x,y:b.coords(this.domNode).y+b.coords(this.domNode).h,onClose:function(){d._opened=!1}}):g.popup.open({parent:this,popup:this._pickerWrp,
around:a,orient:this.orient,onCancel:b.hitch(this,this._close),onClose:function(){d._opened=!1}});this._opened=!0;c.window.scrollIntoView(this._pickerWrp.domNode);g.focus(this._pickerWrp.domNode)}this.debugExit()},_close:function(){this.debugEnter("_close");this._opened&&(6==b.isIE&&(this.onDateSelectOpenNextId&&""!=this.onDateSelectOpenNextId&&b.byId(this.onDateSelectOpenNextId)&&"none"!=b.style(this.onDateSelectOpenNextId,"display")&&"hidden"!=b.style(this.onDateSelectOpenNextId,"visibility")&&
"oneway"==this.calType?this.openNextCalendar():(g.focus(b.doc.body),this._pickerWrp.destroyRecursive())),g.popup.close(this._pickerWrp),this._opened=!1);this._pickerWrp&&(this._pickerWrp.destroy(),delete this._pickerWrp);this.validateDateInput();setTimeout(b.hitch(this,"resetOnBlurStatus"),500);this.debugExit()},resetOnBlurStatus:function(){this.onblurStatus=!1},inputFieldBlur:function(a){this.debugEnter("inputFieldBlur");this.debugMsg("this.onblurStatus \x3d "+this.onblurStatus);this.onblurStatus||
(this.onblurStatus=!0,a.target.id==this.outboundFieldNode.id?this.debugMsg("Blur in outboundField - setting new value",this.outboundFieldNode.value):this.inboundFieldNode&&a.target.id==this.inboundFieldNode.id&&this.debugMsg("Blur in inboundField - setting new value",this.inboundFieldNode.value),this._close());this.debugMsg("this.onblurStatus \x3d "+this.onblurStatus);this.debugExit()},setSingleDate:function(a){this.debugEnter("setSingleDate");if(this.outboundFieldNodeHidden.id!=a.id&&this.inboundFieldNodeHidden.id!=
a.id)this.debugMsg("Calendar Instance not matching to sending instance - EXIT");else if(this.errorState="",a.id==this.outboundFieldNodeHidden.id?(this.outboundFieldNodeHidden.value=this.convertDateToStringForBackend(a.dateObj),this.outboundFieldNode.value=this.convertDateToStringForUser(a.dateObj)):this.inboundFieldNode&&a.id==this.inboundFieldNodeHidden.id&&(this.inboundFieldNodeHidden.value=this.convertDateToStringForBackend(a.dateObj),this.inboundFieldNode.value=this.convertDateToStringForUser(a.dateObj)),
this.datesUpdateMessage&&b.publish(this.datesUpdateMessage,[]),this.sendDate&&this.sendDate.messageKey&&this.cascadingDatePublish&&(this.debugMsg("SendDate Topic: "+this.sendDate.messageKey),b.publish(this.sendDate.messageKey,[a.dateObj,this.sendDate.messageKey])),"roundtrip"==this.calType||this.onDateSelectOpenNextId&&(!this.onDateSelectOpenNextId||!b.byId(this.onDateSelectOpenNextId)||"none"!=b.style(this.onDateSelectOpenNextId,"display")&&"hidden"!=b.style(this.onDateSelectOpenNextId,"visibility"))||
this._close(),this.onDateSelectOpenNextId&&""!=this.onDateSelectOpenNextId&&b.byId(this.onDateSelectOpenNextId)&&("oneway"==this.calType||"simple"==this.calType)){a=b.byId(this.onDateSelectOpenNextId);b.attr(a,"value");var c=b.style(a,"display");"hidden"!=b.style(a,"visibility")&&"none"!=c&&setTimeout(b.hitch(this,"openNextCalendar"),100)}this.debugExit()},openNextCalendar:function(){b.byId(this.onDateSelectOpenNextId).focus()},setDoubleDate:function(a,c){this.debugEnter("setDoubleDate");this.errorState=
"";a.id==this.outboundFieldNodeHidden.id&&(this.outboundFieldNodeHidden.value=this.convertDateToStringForBackend(a.dateObj));this.inboundFieldNode&&c.id==this.inboundFieldNodeHidden.id&&(this.inboundFieldNodeHidden.value=this.convertDateToStringForBackend(c.dateObj));this.datesUpdateMessage&&b.publish(this.datesUpdateMessage,[]);this._close();this.debugExit()},validateDateInput:function(){_t=this;_t.debugEnter("validateDateInput");var a=!0,b=!0;_t.currentErrorText[0]="";_t.currentErrorText[1]="";
""!=_t.outboundFieldNodeHidden.value?a=_t.isValidStrDate(_t.outboundFieldNodeHidden.value,"out"):_t.outboundFieldNode.value="";_t.inboundFieldNodeHidden&&(_t.inboundFieldNodeHidden==_t.outboundFieldNodeHidden?b=!0:""!=_t.inboundFieldNodeHidden.value?b=_t.isValidStrDate(_t.inboundFieldNodeHidden.value,"in"):_t.inboundFieldNode.value="");a&&b?(_t.errorState="",""!=_t.outboundFieldNodeHidden.value&&(_t.debugMsg("Setting Outbound field values"),_t.outboundFieldNodeHidden.value=_t.convertDateToStringForBackend(_t.getDateFromString(_t.outboundFieldNodeHidden.value)),
_t.outboundFieldNode.value=_t.convertDateToStringForUser(_t.getDateFromString(_t.outboundFieldNodeHidden.value))),_t.inboundFieldNode&&""!=_t.inboundFieldNodeHidden.value&&(_t.debugMsg("Setting Inbound field values"),_t.inboundFieldNodeHidden.value=_t.convertDateToStringForBackend(_t.getDateFromString(_t.inboundFieldNodeHidden.value)),_t.inboundFieldNode.value=_t.convertDateToStringForUser(_t.getDateFromString(_t.inboundFieldNodeHidden.value)))):(a||(_t.currentErrorText[0]=_t.errorText,_t.errorState=
"out"),b||(_t.currentErrorText[1]=_t.errorText,_t.errorState="in"),_t._open());_t.debugExit()},setRtTypeOneWay:function(){this.calType="oneway"},setRtTypeRoundtrip:function(){this.calType="roundtrip"},destroy:function(){this._picker&&(this._picker.destroy(),delete this._picker);b.unsubscribe(this.subscribeHandlerClose);this.inherited(arguments)},_onBlur:function(){this.debugEnter("_onBlur");"undefined"!=typeof tempIpad&&2==tempIpad&&(this.onblurStatus=!0);this.debugMsg("_t.onblurStatus \x3d "+this.onblurStatus);
this.onblurStatus?this._pickerWrp&&isiOS&&(g.focus(this._pickerWrp.domNode),2==tempIpad&&(this.onblurStatus=!1,tempIpad=1)):(this.onblurStatus=!0,"out"==this.errorState||""==this.outboundFieldNodeHidden.value?(this.outboundFieldNodeHidden.value="",this.outboundFieldNode.value=""):"in"!=this.errorState&&""!=this.inboundFieldNodeHidden.value||!this.inboundFieldNode||(this.inboundFieldNodeHidden.value="",this.inboundFieldNode.value=""),this._close());this.debugExit()},_onkeypressed:function(a){this.debugEnter("_onkeypressed");
this._opened&&(a.keyCode==b.keys.ESCAPE?this.onblurStatus||(this.onblurStatus=!0,"out"==this.errorState?(this.outboundFieldNodeHidden.value="",this.outboundFieldNode.value=""):"in"==this.errorState&&this.inboundFieldNode?(this.inboundFieldNodeHidden.value="",this.inboundFieldNode.value=""):(this.outboundFieldNodeHidden.value=this.outboundFieldNode.value,this.inboundFieldNode&&(this.inboundFieldNodeHidden.value=this.inboundFieldNode.value)),this._close()):this.errorState="");this.debugExit()},receiveDate:function(a,
c){this.debugEnter("receiveDate");this.debugMsg(a);for(var e=!1,f=0;f<this.receiveOffsetDate.length;f++)if(this.receiveOffsetDate[f].messageKey==c){this.receiveOffsetDate[f].dayOffset&&(a=b.date.add(a,"day",this.receiveOffsetDate[f].dayOffset));e=this.receiveOffsetDate[f].onlyIfEmpty&&""==this.inputFieldEl.value?!0:this.receiveOffsetDate[f].onlyIfEmpty?!1:!0;break}if(e){if(this.offers)var e=this.offers[0][0],k=this.offers[0][1];else k=e=void 0;if(this.isDisable(a,this.startDate,this.endDate,e,k,this.ranges))if(0<
b.date.compare(a,this.endDate,"date"))a=this.endDate;else if(0>b.date.compare(a,this.startDate,"date"))a=this.startDate;else if(this.ranges)for(f=0;f<this.ranges.length;f++)if(e=b.date.stamp.fromISOString(this.ranges[f][0]),k=b.date.stamp.fromISOString(this.ranges[f][1]),0<=b.date.compare(a,e,"date")&&0>=b.date.compare(a,k,"date")){var f=b.date.difference(e,a),m=b.date.difference(a,k);a=f<m?b.date.add(e,"day",-1):b.date.add(k,"day",1);break}this.outboundFieldNodeHidden.value=this.convertDateToStringForBackend(a);
this._close()}this.debugExit()},newStartDate:function(a,c){this.debugEnter("newStartDate");if("object"==typeof a){if(0<=b.date.compare(a,this.dateInitStart,"date")){this.debugMsg("New StartDate is newer");this.startDate=a;this.debugMsg(a);if(this.initRanges){nRanges=[];for(var e=0;e<this.initRanges.length;e++)rStart=b.date.stamp.fromISOString(this.initRanges[e][0]),rEnd=b.date.stamp.fromISOString(this.initRanges[e][1]),0<=b.date.compare(this.startDate,rStart,"date")&&0>=b.date.compare(this.startDate,
rEnd,"date")?this.startDate=rEnd:nRanges[nRanges.length]=this.initRanges[e];this.ranges=nRanges}this.cascadingDatePublish&&this.setSingleDate({id:this.outboundFieldNodeHidden.id,dateObj:this.startDate})}else this.debugMsg("New startDate is older -\x3e use old one instead"),this.startDate=this.dateInitStart,this.initRanges&&(this.ranges=this.initRanges);""!=this.outboundFieldNodeHidden.value&&(this.debugMsg("Clear visual input element"),this.isValidStrDate(this.outboundFieldNodeHidden.value,"out")||
(this.outboundFieldNodeHidden.value="",this.outboundFieldNode.value=""))}this.debugExit()},adjustWidgetPosition:function(){this._pickerWrp&&c.window.scrollIntoView(this._pickerWrp.domNode)}})})(c)})},"lh/widget/calendar_cr579/_calendar":function(){define(["dojo","dijit","dojox","dojo/require!lh/constants,lh/util/logger,dojo/date,dojo/date/locale,dojo/date/stamp"],function(c,g,l){c.provide("lh.widget.calendar_cr579._calendar");c.require("lh.constants");c.require("lh.util.logger");c.require("dojo.date");
c.require("dojo.date.locale");c.require("dojo.date.stamp");(function(b){b.declare("lh._calendar",lh.util.logger,{debug:!1,isDisable:function(a,c,e,f,k,m){var g=!1,l=!1;void 0!=f&&void 0!=k&&(l=!0,this.specialRestricted&&(tmpStart=b.date.stamp.fromISOString(f),tmpEnd=b.date.stamp.fromISOString(k),0<b.date.compare(tmpStart,c,"date")&&(c=tmpStart),0<b.date.compare(e,tmpEnd,"date")&&(e=tmpEnd)));0<b.date.compare(a,e,"date")?g=!0:0>b.date.compare(a,c,"date")&&(g=!0);if(!g)if(this.specialRestricted&&l){if(c=
b.date.stamp.fromISOString(f),k=b.date.stamp.fromISOString(k),0<=b.date.compare(a,c,"date")&&0>=b.date.compare(a,k,"date")&&(g=!1),!g&&m)for(e=0;e<this.ranges.length;e++)g||(c=b.date.stamp.fromISOString(m[e][0]),k=b.date.stamp.fromISOString(m[e][1]),0<=b.date.compare(a,c,"date")&&0>=b.date.compare(a,k,"date")&&(g=!0))}else if(!l&&m)for(e=0;e<m.length;e++)g||(c=b.date.stamp.fromISOString(m[e][0]),k=b.date.stamp.fromISOString(m[e][1]),0<=b.date.compare(a,c,"date")&&0>=b.date.compare(a,k,"date")&&(g=
!0));return g},getDateFromString:function(a){this.debugEnter("getDateFromString");this.debugMsg(a);this.debugExit();return b.date.locale.parse(a,this.dateFormat)||b.date.locale.parse(a,this.backendDateFormat)},isValidStrDate:function(a,b){this.debugEnter("isValidStrDate");this.debugMsg("Flag:"+b);var c=!0;this.debugMsg(a);var f=this.getDateFromString(a);this.debugMsg(f);null!=f?(this.offers?"out"==b?(so=this.offers[0][0],eo=this.offers[0][1]):"in"==b&&(so=this.offers[1][0],eo=this.offers[1][1]):eo=
so=void 0,this.isDisable(f,this.startDate,this.endDate,so,eo,this.ranges)&&(c=!1)):c=!1;this.debugMsg(c);this.debugExit();return c},convertDateToStringForBackend:function(a){this.debugEnter("convertDateToStringForBackend");this.debugMsg(b.date.locale.format(a,this.backendDateFormat));this.debugExit();return b.date.locale.format(a,this.backendDateFormat)},convertDateToStringForUser:function(a){this.debugEnter("convertDateToStringForUser");if(-1!==this.dateFormat.datePattern.indexOf("EEE")){var c=b.date.locale.format(a,
{selector:"date",datePattern:"EEE"}),e=this.dayNames[a.getDay()];a=b.date.locale.format(a,this.dateFormat).replace(c,e)}else a=b.date.locale.format(a,this.dateFormat);this.debugMsg(a);this.debugExit();return a}})})(c)})},"lh/widget/calendar_cr579/calendarWrapper":function(){define(["dojo","dijit","dojox","dojo/require!lh/constants,lh/util/logger,lh/widget/calendar_cr579/calendarSimple,lh/widget/calendar_cr579/calendarDouble,dijit/_Widget,dijit/_TemplatedMixin"],function(c,g,l){c.provide("lh.widget.calendar_cr579.calendarWrapper");
c.require("lh.constants");c.require("lh.util.logger");c.require("lh.widget.calendar_cr579.calendarSimple");c.require("lh.widget.calendar_cr579.calendarDouble");c.require("dijit._Widget");c.require("dijit._TemplatedMixin");(function(b){b.declare("lh.calendarWrapper",[g._Widget,g._TemplatedMixin,lh.util.logger],{debug:!1,templateString:'\x3cdiv\x3e\r\n\x3cdiv class\x3d"lh-clndr-wrp"\x3e\r\n\x3cdiv dojoAttachPoint\x3d"attachNodeOutbound"\x3e\x3c/div\x3e\r\n\x3cdiv dojoAttachPoint\x3d"attachNodeInbound"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n\x3cdiv class\x3d"cal-shadow-bottom-wrp"\x3e\x3cdiv class\x3d"cal-shadow-bottom"\x3e\x3c/div\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
baseClass:"calendar-wrapper",selectedOutDate:null,selectedInDate:null,offset:0,outboundTitle:"\x26nbsp;",arrSubscribeHandler:[],roundtripType:"roundtrip",hideOneWayLink:!1,showDirectMonthSelect:!0,dayNames:null,monthNames:null,constructor:function(a){this.debugEnter("constructor");b.mixin(this,a);this.dateFormat={datePattern:this.datePattern,selector:"date"};this.debugExit()},postCreate:function(){var a=this;a.debugEnter("postCreate");a.inherited(arguments);var c=null,e=null;a.offers&&0<a.offers.length&&
(c=a.offers[0],1<a.offers.length&&(e=a.offers[1]));"simple"==a.calType?(a.specialRestricted&&null!=c&&(a.startDate=b.date.stamp.fromISOString(c[0]),a.endDate=b.date.stamp.fromISOString(c[1])),a.simpleCalObj=new lh.calendarSimple({caller:a,calType:a.calType,firstDayOfWeek:a.firstDayOfWeek,weekendDays:a.weekendDays,datePattern:a.datePattern,displayMonthDatePattern:a.displayMonthDatePattern,startDate:a.startDate,endDate:a.endDate,ranges:a.ranges,offers:c,specialRestricted:a.specialRestricted,fieldNode:a.fieldNode,
sendDateMsgKey:lh.topics.calendar.SINGLE_DATE,headline:a.outboundTitle,changeMontTitle:a.changeMontTitle,specialRangeTitle:a.specialRangeTitle,currentErrorText:a.currentErrorText[0],withTopBar:a.withTopBar,showDirectMonthSelect:a.showDirectMonthSelect,dayNames:a.dayNames,monthNames:a.monthNames}),a.attachNodeOutbound.appendChild(a.simpleCalObj.domNode),a.attachNodeInbound.parentNode.removeChild(a.attachNodeInbound),a.arrSubscribeHandler.push(b.subscribe(lh.topics.calendar.SINGLE_DATE,a,"receiveSingleDate"))):
"oneway"==a.calType?(a.specialRestricted&&null!=c&&(a.startDate=b.date.stamp.fromISOString(c[0]),a.endDate=b.date.stamp.fromISOString(c[1])),a.outBoundCalObj=new lh.calendarDouble({calType:"oneway",boundtype:"out",specialRestricted:a.specialRestricted,firstDayOfWeek:a.firstDayOfWeek,weekendDays:a.weekendDays,datePattern:a.datePattern,backendDatePattern:a.backendDatePattern,displayMonthDatePattern:a.displayMonthDatePattern,startDate:a.startDate,endDate:a.endDate,ranges:a.ranges,offers:c,specialRestricted:a.specialRestricted,
fieldNode:a.fieldNode,fieldNodeHidden:a.fieldNodeHidden,sendDateMsgKey:lh.topics.calendar.ROUNDTRIP_ONEWAY_DATE,headline:a.outboundTitle,changeMontTitle:a.changeMontTitle,specialRangeTitle:a.specialRangeTitle,onewayButtonTitle:a.onewayButtonTitle,currentErrorText:a.currentErrorText[0],hideOneWayLink:a.hideOneWayLink,showDirectMonthSelect:a.showDirectMonthSelect,dayNames:a.dayNames,monthNames:a.monthNames}),a.attachNodeOutbound.appendChild(a.outBoundCalObj.domNode),a.attachNodeInbound.parentNode.removeChild(a.attachNodeInbound),
a.arrSubscribeHandler.push(b.subscribe(lh.topics.calendar.ROUNDTRIP_ONEWAY_DATE,a,"receiveSingleDate"))):"roundtrip"==a.calType&&(sDate=new Date(a.startDate),nDate=new Date(a.endDate),a.specialRestricted&&null!=c&&(sDate=b.date.stamp.fromISOString(c[0]),nDate=b.date.stamp.fromISOString(c[1])),a.outBoundCalObj=new lh.calendarDouble({calType:a.calType,boundtype:"out",firstDayOfWeek:a.firstDayOfWeek,weekendDays:a.weekendDays,datePattern:a.datePattern,backendDatePattern:a.backendDatePattern,displayMonthDatePattern:a.displayMonthDatePattern,
startDate:sDate,endDate:nDate,ranges:a.ranges,offers:c,specialRestricted:a.specialRestricted,fieldNode:a.outboundFieldNode,fieldNodeHidden:a.fieldNodeHidden,sendDateMsgKey:lh.topics.calendar.ROUNDTRIP_OUT_DATE,showHighlightDate:!0,headline:a.outboundTitle,onewayButtonTitle:a.onewayButtonTitle,changeMontTitle:a.changeMontTitle,specialRangeTitle:a.specialRangeTitle,onewayButtonTitle:a.onewayButtonTitle,currentErrorText:a.currentErrorText[0],hideOneWayLink:a.hideOneWayLink,dayNames:a.dayNames,monthNames:a.monthNames}),
a.attachNodeOutbound.appendChild(a.outBoundCalObj.domNode),a.specialRestricted&&null!=e&&(sDate=b.date.stamp.fromISOString(e[0]),nDate=b.date.stamp.fromISOString(e[1])),a.inBoundCalObj=new lh.calendarDouble({calType:a.calType,boundtype:"in",firstDayOfWeek:a.firstDayOfWeek,weekendDays:a.weekendDays,datePattern:a.datePattern,displayMonthDatePattern:a.displayMonthDatePattern,startDate:sDate,endDate:nDate,ranges:a.ranges,offers:e,specialRestricted:a.specialRestricted,fieldNode:a.inboundFieldNode,fieldNodeHidden:a.fieldNodeHidden,
sendDateMsgKey:lh.topics.calendar.ROUNDTRIP_IN_DATE,showHighlightDate:!0,headline:a.inboundTitle,onewayButtonTitle:a.onewayButtonTitle,changeMontTitle:a.changeMontTitle,specialRangeTitle:a.specialRangeTitle,onewayButtonTitle:a.onewayButtonTitle,currentErrorText:a.currentErrorText[1],hideOneWayLink:a.hideOneWayLink,dayNames:a.dayNames,monthNames:a.monthNames}),a.attachNodeInbound.appendChild(a.inBoundCalObj.domNode),a.arrSubscribeHandler.push(b.subscribe(lh.topics.calendar.ROUNDTRIP_OUT_DATE,a,"receiveReturnOutDate")),
a.arrSubscribeHandler.push(b.subscribe(lh.topics.calendar.ROUNDTRIP_IN_DATE,a,"receiveReturnInDate")),a.arrSubscribeHandler.push(b.subscribe(lh.topics.calendar.ROUNDTRIP_AS_ONEWAY,a,"receivedOneWayOnly")),a.arrSubscribeHandler.push(b.subscribe(lh.topics.calendar.GUI_ONEWAY_CLICKED,a,"setRtTypeOneWay")),a.arrSubscribeHandler.push(b.subscribe(lh.topics.calendar.GUI_ROUNDTRIP_CLICKED,a,"setRtTypeRoundtrip")),setTimeout(b.hitch(a,function(){a.outboundFieldNode.focus()}),100));a.debugExit()},receiveSingleDate:function(a){b.publish(lh.topics.calendar.SINGLE_DATE_TO_HANDLER,
[{id:this.fieldNodeHidden.id,dateObj:a}]);this.sendDate&&this.sendDate.messageKey&&b.publish(this.sendDate.messageKey,[a,this.sendDate.messageKey])},receiveReturnOutDate:function(a){b.publish(lh.topics.calendar.SINGLE_DATE_TO_HANDLER,[{id:this.outboundFieldNodeHidden.id,dateObj:a}]);this.selectedOutDate=a;this.setReturnTripDates()},receiveReturnInDate:function(a){b.publish(lh.topics.calendar.SINGLE_DATE_TO_HANDLER,[{id:this.inboundFieldNodeHidden.id,dateObj:a}]);this.selectedInDate=a;this.setReturnTripDates()},
setReturnTripDates:function(){this.debugEnter("setReturnTripDates");this.debugMsg("_t.calType \x3d "+this.calType);if("roundtrip"==this.calType)if(null!=this.selectedOutDate&&null!=this.selectedInDate)b.publish(lh.topics.calendar.DOUBLE_DATE_TO_HANDLER,[{id:this.outboundFieldNodeHidden.id,dateObj:this.selectedOutDate},{id:this.inboundFieldNodeHidden.id,dateObj:this.selectedInDate}]),this.selectedInDate=this.selectedOutDate=null;else if(null!=this.selectedOutDate){var a=new Date(this.selectedOutDate);
this.inBoundCalObj.newStartDate(a);this.outBoundCalObj.reDrawMatrices();a=b.date.add(a,"day",this.offset);this.inBoundCalObj.showDirectMonthViaMessage(a)}else null!=this.selectedInDate&&(a=new Date(this.selectedInDate),this.outBoundCalObj.newEndDate(a),this.inBoundCalObj.reDrawMatrices(),a=this.inBoundCalObj.calLeftMatrix.getDisplayedMonth(),a=b.date.add(a,"day",-this.offset),this.outBoundCalObj.showDirectMonthViaMessage(a));else null!=this.selectedOutDate&&(a=new Date(this.selectedOutDate),a=b.date.add(a,
"day",this.offset),b.publish(lh.topics.calendar.DOUBLE_DATE_TO_HANDLER,[{id:this.outboundFieldNodeHidden.id,dateObj:this.selectedOutDate},{id:this.inboundFieldNodeHidden.id,dateObj:a}]),this.selectedInDate=this.selectedOutDate=null);this.debugExit()},setRtTypeOneWay:function(){this.calType="oneway"},setRtTypeRoundtrip:function(){this.calType="roundtrip"},receivedOneWayOnly:function(){this.calType="oneway";this.attachNodeInbound.removeChild(this.inBoundCalObj.domNode);this.debugMsg(this.calType);this.setReturnTripDates()},
destroy:function(){this.debugEnter("destroy");for(var a=0;a<=this.arrSubscribeHandler.length-1;a++)b.unsubscribe(this.arrSubscribeHandler[a]);this.inBoundCalObj&&(this.inBoundCalObj.destroy(),delete this.inBoundCalObj);this.outBoundCalObj&&(this.outBoundCalObj.destroy(),delete this.outBoundCalObj);this.simpleCalObj&&(this.simpleCalObj.destroy(),delete this.simpleCalObj);this.inherited(arguments);this.debugExit()}})})(c)})},"lh/widget/calendar_cr579/calendarSimple":function(){define(["dojo","dijit",
"dojox","dojo/require!lh/constants,lh/util/logger,lh/widget/calendar_cr579/calendar,lh/widget/calendar_cr579/calendarMatrix,dijit/_Widget,dijit/_TemplatedMixin"],function(c,g,l){c.provide("lh.widget.calendar_cr579.calendarSimple");c.require("lh.constants");c.require("lh.util.logger");c.require("lh.widget.calendar_cr579.calendar");c.require("lh.widget.calendar_cr579.calendarMatrix");c.require("dijit._Widget");c.require("dijit._TemplatedMixin");(function(b){b.declare("lh.calendarSimple",[g._Widget,
g._TemplatedMixin,lh.calendar,lh.util.logger],{debug:!1,templateString:'\x3cdiv class\x3d"clndr-simple"\x3e\r\n\x3cdiv class\x3d"clndr-hdl-bar" dojoAttachPoint\x3d"calHeadlineNode"\x3e\x3c/div\x3e\r\n\x3cdiv class\x3d"clndr-error-bar" dojoAttachPoint\x3d"errorTextNode"\x3e\x3c/div\x3e\r\n\x3cdiv class\x3d"clndr-tbl-wrp-1"\x3e\r\n\x3cdiv class\x3d"clnd-wln-wrp"\x3e\r\n\t\t\x3ca class\x3d"clndr-prev-m" dojoAttachPoint\x3d"prevNode" dojoAttachEvent\x3d"onclick:showPreviousMonth" href\x3d"#" title\x3d"-"\x3e\x3c/a\x3e\r\n\t\t\x3ca class\x3d"clndr-next-m" dojoAttachPoint\x3d"nextNode" dojoAttachEvent\x3d"onclick:showNextMonth" href\x3d"#" title\x3d"+"\x3e\x3c/a\x3e\r\n\t\t\x3cdiv class\x3d"clndr-prev-h"\x3e\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"clndr-next-h"\x3e\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"clndr-tbl-wrp-2" dojoAttachPoint\x3d"calNode"\x3e\x3c/div\x3e\r\n\t\x3cdiv class\x3d"clndr-txt-wrp" dojoAttachPoint\x3d"txtSelectMonthNode"\x3e\x3c/div\x3e\r\n\t\x3cdiv class\x3d"clndr-txt-wrp clndr-msel" dojoAttachPoint\x3d"directMonthNode"\x3e\x3cselect dojoAttachPoint\x3d"directMonthSelectList" dojoAttachEvent\x3d"onchange:showDirectMonth"\x3e\x3c/select\x3e\x3c/div\x3e\r\n\t\x3cdiv class\x3d"clndr-txt-wrp clndr-sin" dojoAttachPoint\x3d"specialInfoNode"\x3e\x3cspan class\x3d"clndr-special-info" dojoAttachPoint\x3d"txtSpecialInfoNode"\x3e\x3c/span\x3e\x3c/div\x3e\r\n\x3cdiv\x3e\r\n\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
specialRestricted:!1,showDirectMonthSelect:!0,calType:"",headline:"",withTopBar:!0,monthNames:null,dayNames:null,constructor:function(a){this.debugEnter("constructor");b.mixin(this,a);this.fieldNode&&null!=this.fieldNode&&""!=this.fieldNode.value?(this.initDate=this.getDateFromString(this.fieldNode.value),null==this.initDate&&(this.initDate=new Date)):this.initDate=new Date;this.debugExit()},postCreate:function(){this.debugEnter("postCreate");this.inherited(arguments);this.calHeadlineNode.innerHTML=
this.headline;this.withTopBar||this.calHeadlineNode.parentNode.removeChild(this.calHeadlineNode);this.txtSelectMonthNode.innerHTML=this.changeMontTitle;this.txtSpecialInfoNode.innerHTML=this.specialRangeTitle;this.showDirectMonthSelect||c.style(this.directMonthNode,"display","none");!0!=this.specialRestricted&&this.offers||this.specialInfoNode.parentNode.removeChild(this.specialInfoNode);this.isDateBetweenStartEndMonth(this.initDate)||(this.initDate=this.getNearestStartEndMonth(this.initDate));if(this.offers&&
!this.specialRestricted){var a=b.date.stamp.fromISOString(this.offers[0]);0>b.date.compare(this.initDate,a,"month")&&(this.initDate=a)}this.initFillSelectList();this.calMatrix=new lh.calendarMatrix({initDate:this.initDate,displayMonthDatePattern:this.displayMonthDatePattern,firstDayOfWeek:this.firstDayOfWeek,weekendDays:this.weekendDays,isSpecial:b.hitch(this,"isSpecial"),isDisable:b.hitch(this,"isDisable"),isHighlight:b.hitch(this,"isHighlight"),setDate:b.hitch(this,"setDate"),dayNames:this.dayNames,
monthNames:this.monthNames});this.calNode.appendChild(this.calMatrix.domNode);this.toggleMonthGui();this.debugExit()},showNextMonth:function(a){b.stopEvent(a);tmpMonthDateObj=this.calMatrix.getDisplayedMonth();tmpMonthDateObj=b.date.add(tmpMonthDateObj,"month",1);0>=b.date.compare(tmpMonthDateObj,this.endMonthDate,"date")&&(this.calMatrix.jumpToNextMonth(),this.toggleMonthGui())},showPreviousMonth:function(a){b.stopEvent(a);tmpMonthDateObj=this.calMatrix.getDisplayedMonth();tmpMonthDateObj=b.date.add(tmpMonthDateObj,
"month",-1);0<=b.date.compare(tmpMonthDateObj,this.startMonthDate,"date")&&(this.calMatrix.jumpToPreviousMonth(),this.toggleMonthGui())},showDirectMonth:function(a){var c=a.target;b.stopEvent(a);""!=c.value&&(this.calMatrix.jumpToGivenMonth(b.date.stamp.fromISOString(c.value)),this.toggleMonthGui())},toggleMonthGui:function(){var a=this.calMatrix.getDisplayedMonth();0<b.date.compare(a,this.startMonthDate,"date")?b.style(this.prevNode,{display:"block"}):b.style(this.prevNode,{display:"none"});0>b.date.compare(a,
this.endMonthDate,"date")?b.style(this.nextNode,{display:"block"}):b.style(this.nextNode,{display:"none"});var c=b.date.stamp.toISOString(a,{selector:"date"});b.forEach(this.directMonthSelectList.options,b.hitch(this,function(a,b,k){a.value==c&&(this.directMonthSelectList.selectedIndex=b)}));b.publish(lh.topics.calendar.ADJUST_WIDGET_POS)},destroy:function(){this.debugEnter("destroy");this.calMatrix&&(this.calMatrix.destroy(),delete this.calMatrix);this.inherited(arguments);this.debugExit()}})})(c)})},
"lh/widget/calendar_cr579/calendar":function(){define(["dojo","dijit","dojox","dojo/require!lh/constants,lh/util/logger,lh/widget/calendar_cr579/_calendar,dojo/date/locale"],function(c,g,l){c.provide("lh.widget.calendar_cr579.calendar");c.require("lh.constants");c.require("lh.util.logger");c.require("lh.widget.calendar_cr579._calendar");c.require("dojo.date.locale");(function(b){b.declare("lh.calendar",[lh.util.logger,lh._calendar],{debug:!1,specialRestricted:!1,highlightDate:null,showHighlightDate:!1,
arrSubscribeHandler:[],constructor:function(a){this.debugEnter("constructor");b.mixin(this,a);this.dateFormat={datePattern:this.datePattern,selector:"date"};this.backendDateFormat={datePattern:this.backendDatePattern,selector:"date"};this.arrSelectableMonths=[];this.startMonthDate=new Date(this.startDate);this.endMonthDate=new Date(this.endDate);this.startMonthDate.setDate(1);this.endMonthDate.setDate(1);a=new Date(this.startMonthDate);do this.arrSelectableMonths.push(b.date.stamp.toISOString(a,{selector:"date"})),
a=b.date.add(a,"month",1);while(0<=b.date.difference(a,this.endMonthDate,"month"));this.debugExit()},postCreate:function(){""==this.currentErrorText?this.errorTextNode.parentNode.removeChild(this.errorTextNode):this.errorTextNode.innerHTML=this.currentErrorText},initFillSelectList:function(){1<this.arrSelectableMonths.length?c.forEach(this.arrSelectableMonths,c.hitch(this,function(a,c,e){e=b.date.stamp.fromISOString(a);a=this.monthNames?this.monthNames[e.getMonth()]:b.date.locale.format(e,{selector:"date",
datePattern:"MMMM"});e=e.getFullYear();this.directMonthSelectList.options[this.directMonthSelectList.options.length]=new Option(a+" "+e,this.arrSelectableMonths[c],!1,!1)})):this.directMonthNode.parentNode.removeChild(this.directMonthNode)},updateSelectList:function(){this.arrSelectableMonths=[];var a=new Date(this.startMonthDate);do this.arrSelectableMonths.push(b.date.stamp.toISOString(a,{selector:"date"})),a=b.date.add(a,"month",1);while(0<=b.date.difference(a,this.endMonthDate,"month"));for(a=
this.directMonthSelectList.options.length-1;0<=a;a--)this.directMonthSelectList.options[a]=null;b.forEach(this.arrSelectableMonths,b.hitch(this,function(a,c,f){f=b.date.stamp.fromISOString(a);a=this.monthNames?this.monthNames[f.getMonth()]:b.date.locale.format(f,{selector:"date",datePatter:"MMMM"});f=f.getFullYear();this.directMonthSelectList.options[this.directMonthSelectList.options.length]=new Option(a+" "+f,this.arrSelectableMonths[c],!1,!1)}))},isSpecial:function(a){var c=!1;if(0<b.date.compare(a,
this.endDate,"date"))c=!1;else if(0>b.date.compare(a,this.startDate,"date"))c=!1;else if(this.offers){if(!c){var e=b.date.stamp.fromISOString(this.offers[0]),f=b.date.stamp.fromISOString(this.offers[1]);0<=b.date.compare(a,e,"date")&&0>=b.date.compare(a,f,"date")&&(c=!0)}if(c&&this.ranges)for(var k=0;k<this.ranges.length;k++)c&&(e=b.date.stamp.fromISOString(this.ranges[k][0]),f=b.date.stamp.fromISOString(this.ranges[k][1]),0<=b.date.compare(a,e,"date")&&0>=b.date.compare(a,f,"date")&&(c=!1))}return c},
isDisable:function(a){return this.offers?this.inherited(arguments,[a,this.startDate,this.endDate,this.offers[0],this.offers[1],this.ranges]):this.inherited(arguments,[a,this.startDate,this.endDate,null,null,this.ranges])},isHighlight:function(a){var c=!1;0==b.date.compare(this.highlightDate,a,"date")&&(c=!0);return c},isDateBetweenStartEndMonth:function(a){var c=!1;a=new Date(a);a.setDate(1);0<=b.date.compare(a,this.startMonthDate,"date")&&0>=b.date.compare(a,this.endMonthDate,"date")&&(c=!0);this.debugMsg(c);
return c},getNearestStartEndMonth:function(a){var c=null,c=b.date.difference(this.startMonthDate,a);a=b.date.difference(a,this.endMonthDate);return c=c<a?new Date(this.startMonthDate):new Date(this.endMonthDate)},setDate:function(a){var c=new Date(a);this.showHighlightDate&&(this.highlightDate=new Date(a));b.publish(this.sendDateMsgKey,[c])}})})(c)})},"lh/widget/calendar_cr579/calendarMatrix":function(){define(["dojo","dijit","dojox","dojo/require!lh/constants,dojo/date,dojo/date/stamp,dojo/date/locale,lh/util/logger,dijit/_Widget,dijit/_TemplatedMixin"],
function(c,g,l){c.provide("lh.widget.calendar_cr579.calendarMatrix");c.require("lh.constants");c.require("dojo.date");c.require("dojo.date.stamp");c.require("dojo.date.locale");c.require("lh.util.logger");c.require("dijit._Widget");c.require("dijit._TemplatedMixin");(function(b){b.declare("lh.calendarMatrix",[g._Widget,g._TemplatedMixin,lh.util.logger],{debug:!1,templateString:'\x3cdiv class\x3d"lh_calendarMatrix"\x3e\x3cdiv class\x3d"clndr-txt-month" dojoAttachPoint\x3d"monthLabelNode"\x3e\x3c/div\x3e\x3ctable cellspacing\x3d"0" cellpadding\x3d"0" class\x3d"calendarContainer"\x3e\r\n\t\x3cthead\x3e\r\n\t\t\x3ctr\x3e\r\n\t\t\t\x3cth class\x3d"calendarDayLabelTemplate"\x3e\x3cspan class\x3d"calendarDayLabel"\x3e\x3c/span\x3e\x3c/th\x3e\r\n\t\t\x3c/tr\x3e\r\n\t\x3c/thead\x3e\r\n\t\x3ctbody dojoAttachEvent\x3d"onclick: onDayClick, onmouseover: onDayMouseOver, onmouseout: onDayMouseOut" class\x3d"calendarBodyContainer"\x3e\r\n\t\t\x3ctr class\x3d"calendarWeekTemplate"\x3e\r\n\t\t\t\x3ctd class\x3d"calendarDateTemplate"\x3e\x3cspan class\x3d"calendarDateLabel"\x3e\x3c/span\x3e\x3c/td\x3e\r\n\t\t\x3c/tr\x3e\r\n\t\x3c/tbody\x3e\r\n\x3c/table\x3e\r\n\x3c/div\x3e',
showCurrent:!0,displayMonthDatePattern:"MMMM yyyy",monthNames:null,dayNames:null,constructor:function(a){this.debugEnter("constructor");b.mixin(this,a);this.currentMonthDateObj=new Date(this.initDate);this.currentMonthDateObj.setDate(1);this.debugExit()},postCreate:function(){this.debugEnter("postCreate");this._cloneClass(".calendarDayLabelTemplate",6);this._cloneClass(".calendarDateTemplate",6);this._cloneClass(".calendarWeekTemplate",5);b.query(".calendarDayLabel",this.domNode).forEach(function(a,
c){null!=this.dayNames?this._setText(a,this.dayNames[(c+this.firstDayOfWeek)%7]):this._setText(a,b.date.locale.getNames("days","abbr")[(c+this.firstDayOfWeek)%7])},this);this.renderMatrix();this.debugExit()},renderMatrix:function(){var a=this;a.firstDay=a.currentMonthDateObj.getDay();a.daysInMonth=b.date.getDaysInMonth(a.currentMonthDateObj);a.daysInPreviousMonth=b.date.getDaysInMonth(b.date.add(a.currentMonthDateObj,"month",-1));a.dayOffset=a.firstDayOfWeek>a.firstDay?a.firstDayOfWeek-7:a.firstDayOfWeek;
var c="notInMonthDay isDisableDay isSpecialDay isHighlightDay isWeekendDay isCurrentDay isDisableWeekendDay".split(" ");b.query(".calendarDateTemplate",a.domNode).forEach(function(f,e){b.forEach(c,function(a,c,d){b.hasClass(f,a)&&b.removeClass(f,a)});var g,l=0,n=[],r=!1,t=!1;e+=a.dayOffset;var s=new Date(a.currentMonthDateObj);e<a.firstDay?(g=a.daysInPreviousMonth-a.firstDay+e+1,l=-1,n.push("notInMonthDay"),t=!0):e>=a.firstDay+a.daysInMonth?(g=e-a.firstDay-a.daysInMonth+1,l=1,n.push("notInMonthDay"),
t=!0):g=e-a.firstDay+1;l&&(s=b.date.add(s,"month",l));s.setDate(g);0==n.length&&(a.isDisable(s)?(a.isWeekend(s)?n.push("isDisableWeekendDay"):n.push("isDisableDay"),r=!0):(a.isSpecial(s)&&n.push("isSpecialDay"),a.isHighlight(s)&&n.push("isHighlightDay"),a.isWeekend(s)&&n.push("isWeekendDay"),a.showCurrent&&a.isCurrent(s)&&n.push("isCurrentDay")));0<n.length&&b.forEach(n,b.hitch(a,function(a,c,d){b.addClass(f,a)}));g=b.query(".calendarDateLabel",f)[0];f.internalDateValue=!0==t?"x":!0==r?"x":s.getTime();
r=s.getDate()+"";1==r.length&&(r="0"+r);a._setText(g,r)},a);if(-1!==a.displayMonthDatePattern.indexOf("MMMM"))var e=b.date.locale.format(a.currentMonthDateObj,{selector:"date",datePattern:"MMMM"}),f=a.monthNames[a.currentMonthDateObj.getMonth()],e=b.date.locale.format(a.currentMonthDateObj,{selector:"date",datePattern:a.displayMonthDatePattern}).replace(e,f);else e=b.date.locale.format(a.currentMonthDateObj,{selector:"date",datePattern:a.displayMonthDatePattern});a._setText(a.monthLabelNode,e)},getDisplayedMonth:function(){return this.currentMonthDateObj},
jumpToNextMonth:function(){this.currentMonthDateObj=b.date.add(this.currentMonthDateObj,"month",1);this.currentMonthDateObj.setDate(1);this.renderMatrix()},jumpToPreviousMonth:function(){this.currentMonthDateObj=b.date.add(this.currentMonthDateObj,"month",-1);this.currentMonthDateObj.setDate(1);this.renderMatrix()},jumpToGivenMonth:function(a){a=new Date(a);a.setDate(1);a.getMonth()!=this.currentMonthDateObj.getMonth()&&(this.currentMonthDateObj=a,this.renderMatrix())},onDayClick:function(a){var c=
a.target;for(b.stopEvent(a);!c.internalDateValue;){if("calendarBodyContainer"==c.className)return;c=c.parentNode}"x"!=c.internalDateValue&&this.setDate(c.internalDateValue)},onDayMouseOver:function(a){for(var c=a.target;!b.hasClass(c,"calendarDateTemplate");){if("calendarBodyContainer"==c.className)return;c=c.parentNode}b.hasClass(c,"notInMonthDay")||b.hasClass(c,"isDisableDay")||b.hasClass(c,"isDisableWeekendDay")||b.addClass(c,"onHover");b.stopEvent(a)},onDayMouseOut:function(a){for(var c=a.target;!b.hasClass(c,
"calendarDateTemplate");){if("calendarBodyContainer"==c.className)return;c=c.parentNode}b.removeClass(c,"onHover");b.stopEvent(a)},isCurrent:function(a){var c=!1;0==b.date.compare(new Date,a,"date")&&(c=!0);return c},isWeekend:function(a){var c=!1,e=a.getDay();b.forEach(this.weekendDays,b.hitch(this,function(a,b,m){c||a!=e||(c=!0)}));return c},setDate:function(a){return 0},isHighlight:function(a){return!1},isSpecial:function(a){return!1},isDisable:function(a){return!1},_cloneClass:function(a,c){for(var e=
b.query(a,this.domNode)[0],f=0;f<c;f++)e.parentNode.appendChild(e.cloneNode(!0))},_setText:function(a,c){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(b.doc.createTextNode(c))},destroy:function(){this.debugEnter("destroy");this.inherited(arguments);this.debugExit()}})})(c)})},"lh/widget/calendar_cr579/calendarDouble":function(){define(["dojo","dijit","dojox","dojo/require!lh/constants,lh/util/logger,lh/widget/calendar_cr579/calendar,lh/widget/calendar_cr579/calendarMatrix,dijit/_Widget,dijit/_TemplatedMixin"],
function(c,g,l){c.provide("lh.widget.calendar_cr579.calendarDouble");c.require("lh.constants");c.require("lh.util.logger");c.require("lh.widget.calendar_cr579.calendar");c.require("lh.widget.calendar_cr579.calendarMatrix");c.require("dijit._Widget");c.require("dijit._TemplatedMixin");(function(b){b.declare("lh.calendarDouble",[g._Widget,g._TemplatedMixin,lh.calendar,lh.util.logger],{debug:!1,templateString:'\x3cdiv class\x3d"clndr-double"\x3e\r\n\x3cdiv class\x3d"clndr-hdl-bar" dojoAttachPoint\x3d"calHeadlineNode"\x3e\x3c/div\x3e\r\n\x3cdiv class\x3d"clndr-error-bar" dojoAttachPoint\x3d"errorTextNode"\x3e\x3c/div\x3e\r\n\x3cdiv class\x3d"clndr-tbl-wrp-1"\x3e\r\n\x3cdiv class\x3d"clnd-wln-wrp"\x3e\r\n\t\x3ca class\x3d"clndr-prev-m" dojoAttachPoint\x3d"prevNode" dojoAttachEvent\x3d"onclick:showPreviousMonthEvent" href\x3d"#" title\x3d"-"\x3e\x26nbsp;\x3c/a\x3e\r\n\t\x3ca class\x3d"clndr-next-m" dojoAttachPoint\x3d"nextNode" dojoAttachEvent\x3d"onclick:showNextMonthEvent" href\x3d"#" title\x3d"+"\x3e\x26nbsp;\x3c/a\x3e\r\n\t\x3cdiv class\x3d"clndr-prev-h"\x3e\x3c/div\x3e\r\n\t\x3cdiv class\x3d"clndr-next-h"\x3e\x3c/div\x3e\r\n\t\x3cdiv class\x3d"clndr-tbl-wrp-2"\x3e\r\n\t\x3ctable cellspacing\x3d"0"\x3e\r\n\t\t\x3ctr\x3e\r\n\t\t\t\x3ctd class\x3d"clnd-att-node" dojoAttachPoint\x3d"calLeftNode"\x3e\x3c/td\x3e\r\n\t\t\t\x3ctd class\x3d"clnd-sep"\x3e\x3c/td\x3e\r\n\t\t\t\x3ctd class\x3d"clnd-att-node" dojoAttachPoint\x3d"calRightNode"\x3e\x3c/td\x3e\r\n\t\t\x3c/tr\x3e\t\r\n\t\x3c/table\x3e\t\r\n\t\x3c/div\x3e\r\n\x3cdiv class\x3d"clndr-txt-wrp clndr-msel" dojoAttachPoint\x3d"directMonthNode"\x3e\x3cspan class\x3d"clndr-msel-txt" dojoAttachPoint\x3d"txtSelectMonthNode"\x3e\x3c/span\x3e\x3cselect dojoAttachPoint\x3d"directMonthSelectList" dojoAttachEvent\x3d"onchange:showDirectMonthEvent"\x3e\x3c/select\x3e\x3c/div\x3e\r\n\x3cdiv class\x3d"clndr-txt-wrp clndr-sin" dojoAttachPoint\x3d"specialInfoNode"\x3e\x3cspan class\x3d"clndr-special-info" dojoAttachPoint\x3d"txtSpecialInfoNode"\x3e\x3c/span\x3e\x3c/div\x3e\r\n\x3cdiv class\x3d"clndr-txt-wrp" dojoAttachPoint\x3d"outboundOnlyLinkNode"\x3e\x3ca class\x3d"lnk-btn" href\x3d"" dojoAttachEvent\x3d"onclick:showOnlyOutboundCal" dojoAttachPoint\x3d"txtOutBoundOnlyLinkNode"\x3e\x3c/a\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
specialRestricted:!1,boundtype:"",calType:"",headline:"\x26nbsp;",monthNames:null,dayNames:null,showDirectMonthSelect:!0,subscriptionList:[],constructor:function(a){this.debugEnter("constructor");b.mixin(this,a);this.fieldNode&&null!=this.fieldNode&&""!=this.fieldNode.value?(this.initDate=this.getDateFromString(this.fieldNodeHidden.value,this.backendDatePattern),null==this.initDate&&(this.initDate=new Date),this.highlightDate=this.getDateFromString(this.fieldNodeHidden.value,this.backendDatePattern)):
this.initDate=new Date;this.debugExit()},attributeMap:b.delegate(g._Widget.prototype.attributeMap,{headline:{node:"calHeadlineNode",type:"innerHTML"},changeMonthTitle:{node:"txtSelectMonthNode",type:"innerHTML"},specialRangeTitle:{node:"txtSpecialInfoNode",type:"innerHTML"},onewayButtonTitle:{node:"txtOutBoundOnlyLinkNode",type:"innerHTML"}}),postCreate:function(){var a=this;a.debugEnter("postCreate");a.inherited(arguments);!0==a.specialRestricted?b.addClass(a.specialInfoNode,"hide-dn"):"out"==a.boundtype&&
"roundtrip"==a.calType?b.addClass(a.specialInfoNode,"hide-dn"):a.offers?null==a.offers[0]&&b.addClass(a.specialInfoNode,"hide-dn"):a.offers||b.addClass(a.specialInfoNode,"hide-dn");!0!=a.showDirectMonthSelect&&b.addClass(a.directMonthNode,"hide-dn");"out"==a.boundtype&&(a.outboundOnlyLinkNode.parentNode.removeChild(a.outboundOnlyLinkNode),b.subscribe(lh.topics.calendar.ROUNDTRIP_AS_ONEWAY,a,function(){a.offers&&!1==a.specialRestricted&&b.removeClass(a.specialInfoNode,"hide-dn");a.calHeadlineNode.innerHTML=
"\x26nbsp;"}));"in"==a.boundtype&&a.hideOneWayLink&&a.outboundOnlyLinkNode.parentNode.removeChild(a.outboundOnlyLinkNode);a.isDateBetweenStartEndMonth(a.initDate)||(a.initDate=a.getNearestStartEndMonth(a.initDate));if(a.offers&&!a.specialRestricted){var c=b.date.stamp.fromISOString(a.offers[0]);0>b.date.compare(a.initDate,c,"month")&&(a.initDate=c)}c=new Date(a.initDate);c.setDate(1);a.initFillSelectList();a.calLeftMatrix=new lh.calendarMatrix({initDate:c,displayMonthDatePattern:a.displayMonthDatePattern,
firstDayOfWeek:a.firstDayOfWeek,weekendDays:a.weekendDays,isSpecial:b.hitch(a,"isSpecial"),isDisable:b.hitch(a,"isDisable"),isHighlight:b.hitch(a,"isHighlight"),setDate:b.hitch(a,"setDate"),dayNames:this.dayNames,monthNames:this.monthNames});a.calLeftNode.appendChild(a.calLeftMatrix.domNode);c=b.date.add(c,"month",1);a.calRightMatrix=new lh.calendarMatrix({initDate:c,displayMonthDatePattern:a.displayMonthDatePattern,firstDayOfWeek:a.firstDayOfWeek,weekendDays:a.weekendDays,isSpecial:b.hitch(a,"isSpecial"),
isDisable:b.hitch(a,"isDisable"),isHighlight:b.hitch(a,"isHighlight"),setDate:b.hitch(a,"setDate"),dayNames:this.dayNames,monthNames:this.monthNames});a.calRightNode.appendChild(a.calRightMatrix.domNode);a.subscriptionList.push(b.subscribe(lh.topics.calendar.MONTH_CHANGED,a,"showDirectMonth"));a.subscriptionList.push(b.subscribe(lh.topics.calendar.MONTH_CHANGED_NEXT,a,"showNextMonth"));a.subscriptionList.push(b.subscribe(lh.topics.calendar.MONTH_CHANGED_PREV,a,"showPreviousMonth"));"out"==a.boundtype?
a.subscriptionList.push(b.subscribe(lh.topics.calendar.ROUNDTRIP_OUTBOUND_RECEIVE_ENDDATE,a,"newEndDate")):"in"==a.boundtype&&a.subscriptionList.push(b.subscribe(lh.topics.calendar.ROUNDTRIP_INBOUND_RECEIVE_STARTDATE,a,"newStartDate"));a.toggleMonthGui();a.debugExit()},showNextMonthEvent:function(a){b.publish(lh.topics.calendar.MONTH_CHANGED_NEXT,[a,this,this.calRightMatrix.getDisplayedMonth()])},showNextMonth:function(a,c,e){b.stopEvent(a);checkMonth=this.calRightMatrix.getDisplayedMonth();tmpMonthDateObj=
e;0==b.date.compare(checkMonth,tmpMonthDateObj,"date")&&("roundtrip"==this.calType&&(c=this),0>b.date.compare(tmpMonthDateObj,c.endMonthDate,"date")&&(c.calRightMatrix.jumpToNextMonth(),c.calLeftMatrix.jumpToNextMonth(),c.toggleMonthGui()))},showPreviousMonthEvent:function(a){b.publish(lh.topics.calendar.MONTH_CHANGED_PREV,[a,this,this.calLeftMatrix.getDisplayedMonth()])},showPreviousMonth:function(a,c,e){b.stopEvent(a);checkMonth=this.calLeftMatrix.getDisplayedMonth();tmpMonthDateObj=e;0==b.date.compare(checkMonth,
tmpMonthDateObj,"date")&&("roundtrip"==this.calType&&(c=this),0<b.date.compare(tmpMonthDateObj,c.startMonthDate,"date")&&(c.calLeftMatrix.jumpToPreviousMonth(),c.calRightMatrix.jumpToPreviousMonth(),c.toggleMonthGui()))},showDirectMonthEvent:function(a){b.publish(lh.topics.calendar.MONTH_CHANGED,[a])},showDirectMonth:function(a){isiOS&&(tempIpad=2);var c=a.target;b.stopEvent(a);""!=c.value&&(a=b.date.stamp.fromISOString(c.value),0>=b.date.compare(a,this.endMonthDate,"date")&&0<=b.date.compare(a,this.startMonthDate,
"date")&&(0==b.date.compare(a,this.endMonthDate,"date")?(this.calRightMatrix.jumpToGivenMonth(a),a=b.date.add(a,"month",-1),this.calLeftMatrix.jumpToGivenMonth(a),this.toggleMonthGui(),this.adjustSelectList()):(this.calLeftMatrix.jumpToGivenMonth(a),a=b.date.add(a,"month",1),this.calRightMatrix.jumpToGivenMonth(a),this.toggleMonthGui())))},showDirectMonthViaMessage:function(a){this.debugEnter("showDirectMonthViaMessage");this.debugMsg("Month !\x3d End Month");this.calLeftMatrix.jumpToGivenMonth(a);
a=b.date.add(a,"month",1);this.calRightMatrix.jumpToGivenMonth(a);this.toggleMonthGui();this.debugExit()},showOnlyOutboundCal:function(a){b.stopEvent(a);b.publish(lh.topics.calendar.ROUNDTRIP_AS_ONEWAY)},toggleMonthGui:function(){var a=this.calLeftMatrix.getDisplayedMonth(),c=this.calRightMatrix.getDisplayedMonth();0<b.date.compare(a,this.startMonthDate,"date")?b.style(this.prevNode,{display:"block"}):b.style(this.prevNode,{display:"none"});0>b.date.compare(c,this.endMonthDate,"date")?b.style(this.nextNode,
{display:"block"}):b.style(this.nextNode,{display:"none"});var e=b.date.stamp.toISOString(a,{selector:"date"});b.forEach(this.directMonthSelectList.options,b.hitch(this,function(a,b,c){a.value==e&&(this.directMonthSelectList.selectedIndex=b)}));b.publish(lh.topics.calendar.ADJUST_WIDGET_POS)},adjustSelectList:function(){var a=this.calRightMatrix.getDisplayedMonth(),c=b.date.stamp.toISOString(a,{selector:"date"});b.forEach(this.directMonthSelectList.options,b.hitch(this,function(a,b,k){a.value==c&&
(this.directMonthSelectList.selectedIndex=b)}))},newStartDate:function(a){this.debugEnter("newStartDate");this.startDate=a;this.startMonthDate=new Date(a);this.startMonthDate.setDate(1);this.calLeftMatrix.getDisplayedMonth();this.updateSelectList();this.reDrawMatrices();this.debugExit()},newEndDate:function(a){this.debugEnter("newEndDate");this.endDate=a;this.endMonthDate=new Date(a);this.endMonthDate.setDate(1);this.calRightMatrix.getDisplayedMonth();this.updateSelectList();this.reDrawMatrices();
this.debugExit()},reDrawMatrices:function(){this.calLeftMatrix.renderMatrix();this.calRightMatrix.renderMatrix();this.toggleMonthGui()},destroy:function(){this.debugEnter("destroy");for(var a=0;a<=this.subscriptionList.length-1;a++)b.unsubscribe(this.subscriptionList[a]);this.calLeftMatrix&&(this.calLeftMatrix.destroy(),delete this.calLeftMatrix);this.calRightMatrix&&(this.calRightMatrix.destroy(),delete this.calRightMatrix);this.inherited(arguments);this.debugExit()}})})(c)})},"lh/widget/AirportTypeAhead":function(){define(["dojo",
"dijit","dojox","dojo/require!lh/util/logger,lh/widget/TypeAhead,lh/helper/gui"],function(c,g,l){c.provide("lh.widget.AirportTypeAhead");c.require("lh.util.logger");c.require("lh.widget.TypeAhead");c.require("lh.helper.gui");c.declare("lh.widget.AirportTypeAhead",[lh.util.logger,lh.widget.TypeAhead],{debug:!1,jsClassName:"lh.widget.AirportTypeAhead",MIN_QUERY_LENGTH:3,resultListLength:10,idHiddenCode:"",objHiddenCode:null,highlightSearchTerm:!0,isUpperCaseHiddenVal:!1,queryExpr:"${0}",constructor:function(b){c.isArray(this.debug)&&
(this._debug=this.debug,this.debug=!1);this.debugEnter("constructor");lh.widget.TypeAhead.superclass.constructor.call(this);this.setActiveOnFocusHandler=c.connect(this.focusNode,"onfocus",this,"_setActive");""!=this.idHiddenCode&&(this.objHiddenCode=c.byId(this.idHiddenCode));this.oldInputValue="";this.airportCodeOnFocusHandler=c.connect(this.focusNode,"onfocus",this,"_prepareDeleteAirportCode");c.connect(this.focusNode,"onblur",this,"_checkToDeleteAirportCode");this.onBlurCopyNameAndCodeHandler=
c.connect(this.focusNode,"onblur",this,"_onBlurCopyNameAndCode");this.debugExit()},_setActive:function(){this.debugEnter("_setActive");this.isActive=!0;this.debugExit()},_selectOption:function(b){this.debugEnter("_selectOption");b&&b.target!=this._popupWidget.closeButton&&(this._setAirportCode(b.target.item.i[this.keyForCode]),this.onBlurCopyNameAndCodeHandler=c.connect(this.focusNode,"onblur",this,"_onBlurCopyNameAndCode"),this._announceOption(b.target));this._hideResultList();this._setCaretPos(this.focusNode,
this.focusNode.value.length);this.debugExit()},_onKeyPress:function(b){this.debugEnter("_onKeyPress");if(!(b.altKey||b.ctrlKey&&118!=b.charCode)){if(this._popupWidget){this.debugMsg("_popupWidget exists");var a=this._popupWidget.getHighlightedOption();if(b.keyCode==c.keys.ENTER&&a==this._popupWidget.closeButton)this._hideResultList(),c.stopEvent(b),this.onBlurCopyNameAndCodeHandler=c.connect(this.focusNode,"onblur",this,"_onBlurCopyNameAndCode");else if(b.keyCode==c.keys.DOWN_ARROW&&a==this._popupWidget.closeButton)c.stopEvent(b);
else if(b.keyCode==c.keys.DOWN_ARROW||b.keyCode==c.keys.UP_ARROW||b.keyCode==c.keys.PAGE_UP||b.keyCode==c.keys.PAGE_DOWN)this._isShowingNow||(doSearch=!0,searchFunction="_startSearchAll"),this._popupWidget.handleKey(b.keyCode),c.stopEvent(b);else if(b.keyCode!=c.keys.ENTER||this._isShowingNow)b.keyCode==c.keys.ENTER&&this._isShowingNow&&null!=a?(this._autoCompleteText(this.store.getValue(this._popupWidget.getHighlightedOption().item,this.searchAttr)),this._setAirportCode(this._popupWidget.getHighlightedOption().item.i[this.keyForCode]),
this._hideResultList(),c.stopEvent(b),this.onBlurCopyNameAndCodeHandler=c.connect(this.focusNode,"onblur",this,"_onBlurCopyNameAndCode")):b.keyCode==c.keys.TAB&&this._isShowingNow&&null!=a?(this._autoCompleteText(this.store.getValue(this._popupWidget.getHighlightedOption().item,this.searchAttr)),this._setAirportCode(this._popupWidget.getHighlightedOption().item.i[this.keyForCode]),this._hideResultList(),this.onBlurCopyNameAndCodeHandler=c.connect(this.focusNode,"onblur",this,"_onBlurCopyNameAndCode"),
lh.widget.ComboBox_stripped.prototype._onKeyPress.apply(this,arguments)):b.keyCode==c.keys.ESCAPE?(this._hideResultList(),c.stopEvent(b),this.onBlurCopyNameAndCodeHandler=c.connect(this.focusNode,"onblur",this,"_onBlurCopyNameAndCode")):b.keyCode==c.keys.ENTER?c.stopEvent(b):b.keyCode==c.keys.BACKSPACE&&this._isShowingNow&&null!=a?(this._hideResultList(),this._setListInactive(),this.isActive=!0,b.preventDefault()):b.keyCode!=c.keys.DOWN_ARROW||a?(b.keyCode!=c.keys.DOWN_ARROW&&b.keyCode!=c.keys.UP_ARROW&&
(b.keyCode==c.keys.TAB&&this._onBlurCopyNameAndCode(),this._hideResultList(),this._setListInactive(),this.isActive=!0),lh.widget.ComboBox_stripped.prototype._onKeyPress.apply(this,arguments)):this._popupWidget.highlightFirstOption()}else this.inherited(arguments);this.debugExit()}},_openResultList:function(){this._deleteAirportCode();this.inherited(arguments);this._popupWidget.handleKey(c.keys.DOWN_ARROW)},_prepareDeleteAirportCode:function(){this.debugEnter("_prepareDeleteAirportCode");this.airportCodeOnFocusHandler&&
c.disconnect(this.airportCodeOnFocusHandler);null!=this.objHiddenCode&&""!=this.objHiddenCode.value&&(this.oldInputValue=this.focusNode.value);this.debugExit()},_checkToDeleteAirportCode:function(){this.debugEnter("_checkToDeleteAirportCode");null!=this.focusNode&&""==this.focusNode.value&&this._deleteAirportCode();this.debugExit()},_setAirportCode:function(b){this.debugEnter("_setAirportCode");this.objHiddenCode&&(this.objHiddenCode.value=this.isUpperCaseHiddenVal?b.toUpperCase():b);this.oldInputValue=
this.focusNode.value;this.messageAirportSelected&&c.publish(this.messageAirportSelected,[]);this.debugExit()},_onBlurCopyNameAndCode:function(){this.debugEnter("_onBlurCopyNameAndCode");this.airportCodeOnFocusHandler=c.connect(this.focusNode,"onfocus",this,"_prepareDeleteAirportCode");if(this.idsCopyTo&&""!=this.focusNode.value)for(var b=0;b<this.idsCopyTo.length;b++)""==c.byId(this.idsCopyTo[b].name).value&&(c.byId(this.idsCopyTo[b].name).value=this.focusNode.value,c.byId(this.idsCopyTo[b].code).value=
this.objHiddenCode.value);c.disconnect(this.onBlurCopyNameAndCodeHandler);this.debugExit()},_deleteAirportCode:function(){this.debugEnter("_deleteAirportCode");this.objHiddenCode&&(this.objHiddenCode.value="");this.oldInputValue="";this.debugExit()}})})},"lh/widget/TypeAhead":function(){define(["dojo","dijit","dojox","dojo/require!lh/constants,lh/util/logger,lh/widget/_TypeAheadPopUp,lh/data/TypeAheadReadStore,dijit/_Widget,lh/helper/gui,dojo/NodeList-traverse,lh/widget/ComboBox_stripped,dijit/form/_FormWidget"],
function(c,g,l){c.provide("lh.widget.TypeAhead");c.require("lh.constants");c.require("lh.util.logger");c.require("lh.widget._TypeAheadPopUp");c.require("lh.data.TypeAheadReadStore");c.require("dijit._Widget");c.require("lh.helper.gui");c.require("dojo.NodeList-traverse");c.require("lh.widget.ComboBox_stripped");c.require("dijit.form._FormWidget");c.declare("lh.widget.TypeAhead",[lh.util.logger,g._Widget,lh.widget.ComboBox_stripped],{debug:!1,templateString:"",isActive:!0,highlightSearchTerm:!1,resultListLength:10,
labelType:"html",MIN_QUERY_LENGTH:3,requestMethod:"POST",constructor:function(b){this.debugEnter("constructor");c.mixin(this,b);this.searchAttr="result";this.textbox=this.comboNode=this.focusNode=this.domNode=c.byId(this.idSearchInput);this.store=new lh.data.TypeAheadReadStore({jsId:this.jsId,url:this.url,requestMethod:this.requestMethod,rep:this.rep,site:this.site,lang:this.lang,portal:this.portal,apptype:this.apptype},c.byId(this.storeId));c.connect(this.focusNode,"onkeypress",this,"_onKeyPress");
c.connect(this.focusNode,"onfocus",this,"onFocus");c.connect(this.focusNode,"compositionend",this,"compositionend");this.setInactiveOnBlurHandler=c.connect(this.focusNode,"onblur",this,"_setListInactive");this.debugExit()},onkeyup:function(b){this.debugEnter("onkeyup");this.onfocus(b);this.debugExit()},_onMouse:function(b){},_arrowPressed:function(){},_arrowIdle:function(){},displayMessage:function(){},getValue:function(){return this.focusNode.value},setValue:function(b){this.focusNode.value=b},getDisplayedValue:function(){return this.getValue()},
_hideResultList:function(){this.debugEnter("_hideResultList");c.publish(lh.topics.typeahead.STATE,["close"]);this.inherited(arguments);this.debugExit()},_startSearch:function(b){this.debugEnter("_startSearch");if(b.length>=this.MIN_QUERY_LENGTH&&this.isActive){this.debugMsg("Minimum length reached, firing search!");this._popupWidget||(this._popupWidget=new lh.widget._TypeAheadPopUp({onChange:c.hitch(this,this._selectOption),idAppendNode:this.idAppendNode,idCloseNode:this.idCloseNode,listLength:this.resultListLength,
dir:this.dir},c.byId(this.idAppendNode)));var a=c.clone(this.query);this._lastInput=b;this._lastQuery=a[this.searchAttr]=this._getQueryString(b);this.searchTimer=setTimeout(c.hitch(this,function(a,b){this.searchTimer=null;var f={queryOptions:{ignoreCase:this.ignoreCase,deep:!0},query:a,onBegin:c.hitch(this,"_setMaxOptions"),onComplete:c.hitch(this,"_openResultList"),onError:function(a){b._fetchHandle=null;this.debugError("dijit.form.ComboBox: "+a);c.hitch(b,"_hideResultList")()},start:0,count:0};
c.mixin(f,b.fetchProperties);this._fetchHandle=b.store.fetch(f);this._nextSearch=this._popupWidget.onPage=c.hitch(this,function(a,b){a.start+=a.count*b;a.direction=b;this._fetchHandle=this.store.fetch(a)},this._fetchHandle)},a,this),this.searchDelay)}this.debugExit()},_showResultList:function(){this.debugEnter("_showResultList");this._hideResultList();this.displayMessage("");c.style(this._popupWidget.domNode,{width:"",height:""});var b=this.open();if(this._popupWidget.scrollWrp){var a=b.w,d=lh.helper.gui.getScrollBarWidth(),
e=this._popupWidget.listLength*c.marginBox(this._popupWidget.scrollWrp.firstChild).h,f=c.marginBox(this._popupWidget.scrollWrp.firstChild).h;this._popupWidget.domNode.style.overflow="hidden";c.marginBox(this._popupWidget.domNode,{h:e+f+3,w:Math.max(a,this.domNode.offsetWidth)+d+3});c.style(this._popupWidget.scrollWrp,"overflow","auto");c.marginBox(this._popupWidget.scrollWrp,{h:e,w:Math.max(a,this.domNode.offsetWidth)+d});d=c.position(this.domNode,!0);b.y<d.y&&(this.debugMsg("Repositioning!"),g.placeOnScreenAroundNode(this._popupWidget.domNode.parentNode,
this.domNode,{BL:"TL",TL:"BL"}));isiOS&&(c.style(this._popupWidget.domNode.parentNode,"top",d.y+d.h+"px"),c.style(this._popupWidget.domNode.parentNode,"left",d.x+"px"))}else a=c.marginBox(this._popupWidget.domNode),this._popupWidget.domNode.style.overflow=b.h==a.h&&b.w==a.w?"hidden":"auto",a=b.w,b.h<this._popupWidget.domNode.scrollHeight&&(a+=17),c.marginBox(this._popupWidget.domNode,{h:b.h,w:Math.max(a,this.domNode.offsetWidth)});a<this.domNode.offsetWidth&&(this._popupWidget.domNode.parentNode.style.left=
c.position(this.domNode,!0).x+"px");c.publish(lh.topics.typeahead.STATE,["open"]);this.debugExit()},_autoCompleteText:function(b){this.debugEnter("_autoCompleteText");var a=this.focusNode;g.selectInputText(a,a.value.length,a.value.length);a.value=b;this.debugExit()},_setListInactive:function(){this.debugEnter("_setListInactive");this._popupWidget&&(this._popupWidget._highlighted_option=null);this.debugExit()},_setItemAttr:function(b,a,c){this.debugEnter("_setItemAttr");c||(c=this.labelFunc(b,this.store));
this.value=this._getValueField()!=this.searchAttr?this.store.getIdentity(b):c;this.item=b;this.set("value",this.value);this.debugExit()},labelFunc:function(b,a){this.debugEnter("labelFunc");if(this.highlightSearchTerm){var d=a.getValue(b,this.searchAttr).toString(),e=this._lastQuery.slice(0,this._lastQuery.length).split(" ");if("de"==this.lang){this._lastQueryAdd=this._lastQuery.replace(/oe/g,"\u00f6");this._lastQueryAdd=this._lastQueryAdd.replace(/Oe/g,"\u00d6");this._lastQueryAdd=this._lastQueryAdd.replace(/ae/g,
"\u00e4");this._lastQueryAdd=this._lastQueryAdd.replace(/Ae/g,"\u00c4");this._lastQueryAdd=this._lastQueryAdd.replace(/ue/g,"\u00fc");this._lastQueryAdd=this._lastQueryAdd.replace(/Ue/g,"\u00dc");this._lastQueryAdd=this._lastQueryAdd.replace(/ss/g,"\u00df");var f=this._lastQueryAdd.slice(0,this._lastQueryAdd.length).split(" "),e=e.concat(f)}c.forEach(e,function(a,b){if(""!=a&&"*"!=a){var f=d.match(RegExp("("+a+")","gi"));f&&c.forEach(f,function(a,b){tempRegSearch=RegExp("("+a+")","g");d=d.replace(tempRegSearch,
"\x3cb\x3e"+a+"\x3c/b\x3e")},this)}},this);this.debugExit();return d}this.debugExit();return a.getValue(b,this.searchAttr).toString()},_selectOption:function(b){this.debugEnter("_selectOption");b&&b.target!=this._popupWidget.closeButton&&this._announceOption(b.target);this._hideResultList();this._setCaretPos(this.focusNode,this.focusNode.value.length);this.debugExit()},_announceOption:function(b){this.debugEnter("_announceOption");if(b){var a;this._popupWidget&&b==this._popupWidget.closeButton?(a=
b.innerHTML,this.item=void 0,this.value=""):(a=this.store.getValue(b.item,this.searchAttr),this.set("item",b.item,!1,a));this.focusNode.value=this.focusNode.value.substring(0,this._getCaretPos(this.focusNode));this._autoCompleteText(a);c.publish("lh/widget/TypeAhead/"+this.id+"/ValueSelected",[a]);this.debugExit()}},_onKeyPress:function(b){this.debugEnter("_onKeyPress");if(!(b.shiftKey&&34!=b.charCode&&39!=b.charCode&&(65>b.charCode||90<b.charCode)||b.altKey||b.ctrlKey&&118!=b.charCode)){if(this._popupWidget){this.debugMsg("_popupWidget exists");
var a=this._popupWidget.getHighlightedOption();if(b.keyCode==c.keys.ENTER&&a==this._popupWidget.closeButton)this._hideResultList(),b.preventDefault();else if(b.keyCode==c.keys.DOWN_ARROW&&a==this._popupWidget.closeButton)c.stopEvent(b);else if(b.keyCode==c.keys.DOWN_ARROW||b.keyCode==c.keys.UP_ARROW||b.keyCode==c.keys.PAGE_UP||b.keyCode==c.keys.PAGE_DOWN)this._isShowingNow||(doSearch=!0,searchFunction="_startSearchAll"),this._popupWidget.handleKey(b.keyCode),c.stopEvent(b);else if(b.keyCode!=c.keys.ENTER||
this._isShowingNow)b.keyCode==c.keys.ENTER&&this._isShowingNow?(this._autoCompleteText(this.store.getValue(this._popupWidget.getHighlightedOption().item,this.searchAttr)),this._submitForm(),c.stopEvent(b)):b.keyCode==c.keys.ESCAPE?(this._hideResultList(),b.preventDefault()):b.keyCode==c.keys.BACKSPACE&&this._isShowingNow&&null!=a?(this._hideResultList(),this._setListInactive(),this.isActive=!0,b.preventDefault()):lh.widget.ComboBox_stripped.prototype._onKeyPress.apply(this,arguments);else{this._submitForm();
c.stopEvent(b);return}}else this.debugMsg("_popupWidget does not exist"),b.keyCode==c.keys.ENTER?(this._submitForm(),c.stopEvent(b)):lh.widget.ComboBox_stripped.prototype._onKeyPress.apply(this,arguments);this.debugExit()}},_submitForm:function(){this.debugEnter("_submitForm");(this.formNode=c.query("#"+this.domNode.id).parents("form")[0])?this.resultPopupName?(this.debugMsg("Submitting in popup window"),popupWin({framename:this.resultPopupName,url:"about:blank",predef_size:3,predef_navi:0,scrollbars:"yes",
resizable:"no"}),this.formNode.submit()):(this.debugMsg("Submitting Form"),g.byId(this.formNode.id)?g.byId(this.formNode.id).submit():this.formNode.submit()):this.debugWarn("No Form Node found to submit");this._hideResultList();this.isActive=!0;this.debugExit()}})})},"lh/widget/_TypeAheadPopUp":function(){define(["dojo","dijit","dojox","dojo/require!dijit/_Widget,lh/util/logger"],function(c,g,l){c.provide("lh.widget._TypeAheadPopUp");c.require("dijit._Widget");c.require("lh.util.logger");c.declare("lh.widget._TypeAheadPopUp",
[lh.util.logger,g._Widget],{debug:!1,jsClassName:"lh.widget._TypeAheadPopUp",scrollWrp:null,listLength:-1,constructor:function(b){this.debugEnter("constructor");c.mixin(this,b);this.domNode=this.menueNode=c.byId(this.idAppendNode);this.closeButton=c.byId(this.idCloseNode);c.connect(this.menueNode,"onmousedown",this,"_onMouseDown");c.connect(this.menueNode,"onmouseup",this,"_onMouseUp");c.connect(this.menueNode,"onmouseover",this,"_onMouseOver");c.connect(this.menueNode,"onmouseout",this,"_onMouseOut");
c.addClass(this.menueNode,"typeaheadMenu");this.debugExit()},clearResultList:function(){this.debugEnter("clearResultList");if(this.scrollWrp)c.destroy(this.scrollWrp),this.scrollWrp=null;else for(var b=c.query(this.domNode);1<b.children().length;)b[0].removeChild(b.children()[b.children().length-2]);this.debugExit()},_createOption:function(b,a){var d=a(b),e=c.doc.createElement("li");d.html?e.innerHTML=d.label:e.appendChild(c.doc.createTextNode(d.label));""==e.innerHTML&&(e.innerHTML="\x26nbsp;");
e.item=b;return e},createOptions:function(b,a,d){if(0<this.listLength&&b.length>this.listLength){var e=document.createElement("div");e.id="typeheadScrollWrp";c.forEach(b,function(a,b){var m=this._createOption(a,d);m.className="dijitMenuItem";c.attr(m,"id",this.id+b);e.appendChild(m)},this);this.domNode.insertBefore(e,this.closeButton);this.scrollWrp=e}else c.forEach(b,function(a,b){var e=this._createOption(a,d);e.className="dijitMenuItem";c.attr(e,"id",this.id+b);this.domNode.insertBefore(e,this.closeButton)},
this);return c.query(this.domNode).children()},getItems:function(){return c.query(this.domNode).children()},_highlightNextOption:function(){if(this.getHighlightedOption()){var b=this._highlighted_option.nextSibling;b&&"none"!=b.style.display?this._focusOptionNode(b):this.scrollWrp?this._highlighted_option==c.query(this.scrollWrp).children().last[0]&&this._focusOptionNode(this.closeButton):this.highlightFirstOption()}else b=c.query(this.domNode).children().first()[0],b==this.scrollWrp&&(b=c.query(this.scrollWrp).children().first()[0]),
this._focusOptionNode("none"==b.style.display?b.nextSibling:b);c.window.scrollIntoView(this._highlighted_option)},highlightFirstOption:function(){var b,a;b=this.scrollWrp?c.query(this.scrollWrp).children().first()[0]:c.query(this.domNode).children().first()[0];a=b.nextSibling;this._focusOptionNode("none"==a.style.display?b:a);c.window.scrollIntoView(this._highlighted_option)},highlightLastOption:function(){this._focusOptionNode(c.query(this.domNode).children().last()[0].previousSibling);c.window.scrollIntoView(this._highlighted_option)},
_highlightPrevOption:function(){if(this.getHighlightedOption())if(this.scrollWrp)this._highlighted_option==this.closeButton?this._focusOptionNode(c.query(this.scrollWrp).children().last()[0]):this._highlighted_option==c.query(this.scrollWrp).children().first()[0]?this._focusOptionNode(c.query(this.scrollWrp).children().first()[0]):(b=this._highlighted_option.previousSibling)&&"none"!=b.style.display?this._focusOptionNode(b):this.highlightLastOption();else{var b=this._highlighted_option.previousSibling;
b&&"none"!=b.style.display?this._focusOptionNode(b):this.highlightLastOption()}else b=c.query(this.domNode).children().last()[0],this._focusOptionNode("none"==b.style.display?b.previousSibling:b);c.window.scrollIntoView(this._highlighted_option)},_focusOptionNode:function(b){this.debugEnter("_focusOptionNode");this._highlighted_option!=b&&(this._blurOptionNode(),this._highlighted_option=b,c.isIE?8>c.isIE?c.addClass(this._highlighted_option,"dijitMenuItemHover"):c.style(this._highlighted_option,"backgroundColor",
"#dcdcdc"):c.addClass(this._highlighted_option,"dijitMenuItemHover"));this.debugExit()},_blurOptionNode:function(){this.debugEnter("_blurOptionNode");this._highlighted_option&&(c.isIE?8>c.isIE?c.removeClass(this._highlighted_option,"dijitMenuItemHover"):c.style(this._highlighted_option,"backgroundColor","#fff"):c.removeClass(this._highlighted_option,"dijitMenuItemHover"),this._highlighted_option=null);this.debugExit()},_page:function(b){var a=0,d=this.domNode.scrollTop,e=c.style(this.domNode,"height");
for(this.getHighlightedOption()||this._highlightNextOption();a<e;){if(b){if(!this.getHighlightedOption().previousSibling||"none"==this._highlighted_option.previousSibling.style.display)break;this._highlightPrevOption()}else{if(!this.getHighlightedOption().nextSibling||"none"==this._highlighted_option.nextSibling.style.display)break;this._highlightNextOption()}var f=this.domNode.scrollTop,a=a+(f-d)*(b?-1:1),d=f}},pageUp:function(){this._page(!0)},pageDown:function(){this._page(!1)},getHighlightedOption:function(){var b=
this._highlighted_option;return b&&b.parentNode?b:null},handleKey:function(b){switch(b){case c.keys.DOWN_ARROW:this._highlightNextOption();break;case c.keys.PAGE_DOWN:this.pageDown();break;case c.keys.UP_ARROW:this._highlightPrevOption();break;case c.keys.PAGE_UP:this.pageUp()}},_onMouseDown:function(b){this.debugEnter("_onMouseDown");c.stopEvent(b);this.debugExit()},_onMouseUp:function(b){this.debugEnter("_onMouseUp");c.isIE&&this._focusOptionNode(b.target);if(b.target!==this.domNode&&b.target!==
this.scrollWrp&&this._highlighted_option){b=b.target;if(b!=this.closeButton)for(;!b.item;)b=b.parentNode;this._setValueAttr({target:b},!0);this.debugExit()}},_onMouseOver:function(b){this.debugEnter("_onMouseOver");if(b.target!==this.domNode&&b.target!==this.scrollWrp){b=b.target;if(b!=this.closeButton)for(;!b.item;)b=b.parentNode;this._focusOptionNode(b);this.debugExit()}},_onMouseOut:function(b){this.debugEnter("_onMouseOut");b.target!==this.domNode&&b.target!==this.scrollWrp&&(this._blurOptionNode(),
this.debugExit())},_setValueAttr:function(b){this.debugEnter("_setValueAttr");this.value=b;this.onChange(b);this.debugExit()},setValue:function(b){this.debugEnter("setValue");this._setValueAttr(b);this.debugExit()}})})},"lh/data/TypeAheadReadStore":function(){define(["dojo","dijit","dojox","dojo/require!lh/util/logger,dojox/data/QueryReadStore"],function(c,g,l){c.provide("lh.data.TypeAheadReadStore");c.require("lh.util.logger");c.require("dojox.data.QueryReadStore");c.declare("lh.data.TypeAheadReadStore",
[lh.util.logger,l.data.QueryReadStore],{debug:!1,jsClassName:"lh.data.TypeAheadReadStore",fetch:function(b){this.debugEnter("fetch");b.serverQuery={query:b.query.result,rep:this.rep,site:this.site,lang:this.lang,portal:this.portal,apptype:this.apptype};this.debugExit();return this.inherited("fetch",arguments)}});c.declare("lh.TypeAheadReadStore",lh.data.TypeAheadReadStore,null)})},"dojox/data/QueryReadStore":function(){define(["dojo","dojox","dojo/data/util/sorter","dojo/string"],function(c,g){return c.declare("dojox.data.QueryReadStore",
null,{url:"",requestMethod:"get",_className:"dojox.data.QueryReadStore",_items:[],_lastServerQuery:null,_numRows:-1,lastRequestHash:null,doClientPaging:!1,doClientSorting:!1,_itemsByIdentity:null,_identifier:null,_features:{"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0},_labelAttr:"label",constructor:function(g){c.mixin(this,g)},getValue:function(g,b,a){this._assertIsItem(g);if(!c.isString(b))throw Error(this._className+".getValue(): Invalid attribute, string expected!");return!this.hasAttribute(g,
b)&&a?a:g.i[b]},getValues:function(c,b){this._assertIsItem(c);var a=[];this.hasAttribute(c,b)&&a.push(c.i[b]);return a},getAttributes:function(c){this._assertIsItem(c);var b=[],a;for(a in c.i)b.push(a);return b},hasAttribute:function(c,b){return this.isItem(c)&&"undefined"!=typeof c.i[b]},containsValue:function(c,b,a){c=this.getValues(c,b);b=c.length;for(var d=0;d<b;d++)if(c[d]==a)return!0;return!1},isItem:function(c){return c?"undefined"!=typeof c.r&&c.r==this:!1},isItemLoaded:function(c){return this.isItem(c)},
loadItem:function(c){this.isItemLoaded(c.item)},fetch:function(g){g=g||{};g.store||(g.store=this);var b=this;this._fetchItems(g,function(a,d,e){var f=d.abort||null,k=!1,m=d.start?d.start:0;!1==b.doClientPaging&&(m=0);var g=d.count?m+d.count:a.length;d.abort=function(){k=!0;f&&f.call(d)};var l=d.scope||c.global;d.store||(d.store=b);d.onBegin&&d.onBegin.call(l,e,d);d.sort&&b.doClientSorting&&a.sort(c.data.util.sorter.createSortFunction(d.sort,b));if(d.onItem)for(e=m;e<a.length&&e<g;++e){var n=a[e];
k||d.onItem.call(l,n,d)}d.onComplete&&!k&&(e=null,d.onItem||(e=a.slice(m,g)),d.onComplete.call(l,e,d))},function(a,b){b.onError&&b.onError.call(b.scope||c.global,a,b)});return g},getFeatures:function(){return this._features},close:function(c){},getLabel:function(c){if(this._labelAttr&&this.isItem(c))return this.getValue(c,this._labelAttr)},getLabelAttributes:function(c){return this._labelAttr?[this._labelAttr]:null},_xhrFetchHandler:function(g,b,a,d){g=this._filterResponse(g);g.label&&(this._labelAttr=
g.label);d=g.numRows||-1;this._items=[];c.forEach(g.items,function(a){this._items.push({i:a,r:this})},this);g=g.identifier;this._itemsByIdentity={};if(g){this._identifier=g;var e;for(e=0;e<this._items.length;++e){var f=this._items[e].i,k=f[g];if(this._itemsByIdentity[k])throw Error(this._className+":  The json data as specified by: ["+this.url+"] is malformed.  Items within the list have identifier: ["+g+"].  Value collided: ["+k+"]");this._itemsByIdentity[k]=f}}else for(this._identifier=Number,e=
0;e<this._items.length;++e)this._items[e].n=e;d=this._numRows=-1===d?this._items.length:d;a(this._items,b,d);this._numRows=d},_fetchItems:function(g,b,a){var d=g.serverQuery||g.query||{};this.doClientPaging||(d.start=g.start||0,g.count&&(d.count=g.count));if(!this.doClientSorting&&g.sort){var e=[];c.forEach(g.sort,function(a){a&&a.attribute&&e.push((a.descending?"-":"")+a.attribute)});d.sort=e.join(",")}if(this.doClientPaging&&null!==this._lastServerQuery&&c.toJson(d)==c.toJson(this._lastServerQuery))this._numRows=
-1===this._numRows?this._items.length:this._numRows,b(this._items,g,this._numRows);else{var f=("post"==this.requestMethod.toLowerCase()?c.xhrPost:c.xhrGet)({url:this.url,handleAs:"json-comment-optional",content:d,failOk:!0});g.abort=function(){f.cancel()};f.addCallback(c.hitch(this,function(c){this._xhrFetchHandler(c,g,b,a)}));f.addErrback(function(b){a(b,g)});this.lastRequestHash=(new Date).getTime()+"-"+String(Math.random()).substring(2);this._lastServerQuery=c.mixin({},d)}},_filterResponse:function(c){return c},
_assertIsItem:function(c){if(!this.isItem(c))throw Error(this._className+": Invalid item argument.");},_assertIsAttribute:function(c){if("string"!==typeof c)throw Error(this._className+": Invalid attribute argument ('"+c+"').");},fetchItemByIdentity:function(g){if(this._itemsByIdentity){var b=this._itemsByIdentity[g.identity];if(void 0!==b){g.onItem&&g.onItem.call(g.scope?g.scope:c.global,{i:b,r:this});return}}this._fetchItems({serverQuery:{id:g.identity}},function(a,b){var e=g.scope?g.scope:c.global;
try{var f=null;a&&1==a.length&&(f=a[0]);g.onItem&&g.onItem.call(e,f)}catch(k){g.onError&&g.onError.call(e,k)}},function(a,b){var e=g.scope?g.scope:c.global;g.onError&&g.onError.call(e,a)})},getIdentity:function(c){var b=null;return b=this._identifier===Number?c.n:c.i[this._identifier]},getIdentityAttributes:function(c){return[this._identifier]}})})},"dojo/data/util/sorter":function(){define(["../../_base/lang"],function(c){var g={};c.setObject("dojo.data.util.sorter",g);g.basicComparator=function(c,
b){var a=-1;null===c&&(c=void 0);null===b&&(b=void 0);if(c==b)a=0;else if(c>b||null==c)a=1;return a};g.createSortFunction=function(c,b){function a(a,b,c,d){return function(f,e){var k=d.getValue(f,a),m=d.getValue(e,a);return b*c(k,m)}}for(var d=[],e,f=b.comparatorMap,k=g.basicComparator,m=0;m<c.length;m++){e=c[m];var p=e.attribute;if(p){e=e.descending?-1:1;var q=k;f&&("string"!==typeof p&&"toString"in p&&(p=p.toString()),q=f[p]||k);d.push(a(p,e,q,b))}}return function(a,b){for(var c=0;c<d.length;){var f=
d[c++](a,b);if(0!==f)return f}return 0}};return g})},"lh/widget/ComboBox_stripped":function(){define(["dojo","dijit","dojox","dojo/require!dijit/form/ComboBox"],function(c,g,l){c.provide("lh.widget.ComboBox_stripped");c.require("dijit.form.ComboBox");c.declare("lh.widget.ComboBox_stripped",null,{item:null,pageSize:Infinity,store:null,fetchProperties:{},query:{},autoComplete:!0,highlightMatch:"first",searchDelay:100,searchAttr:"name",labelAttr:"",labelType:"text",queryExpr:"${0}*",ignoreCase:!0,hasDownArrow:!0,
baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{downArrowNode:"dijitDownArrowButton"},_getCaretPos:function(b){var a=0;if("number"==typeof b.selectionStart)a=b.selectionStart;else if(c.isIE){var d=c.doc.selection.createRange().duplicate();b=b.createTextRange();d.move("character",0);b.move("character",0);try{b.setEndPoint("EndToEnd",d),a=String(b.text).replace(/\r/g,"").length}catch(e){}}return a},_setCaretPos:function(b,a){a=parseInt(a);g.selectInputText(b,a,a)},_setDisabledAttr:function(b){this.inherited(arguments)},
_abortQuery:function(){this.searchTimer&&(clearTimeout(this.searchTimer),this.searchTimer=null);this._fetchHandle&&(this._fetchHandle.abort&&this._fetchHandle.abort(),this._fetchHandle=null)},_onInput:function(b){this.searchTimer||"paste"!=b.type&&"input"!=b.type||this._lastInput==this.textbox.value||(this.searchTimer=setTimeout(c.hitch(this,function(){this._onKeyPress({charOrCode:229})}),100));this.inherited(arguments)},_onKeyPress:function(b){var a=b.charOrCode;if(!(b.altKey||(b.ctrlKey||b.metaKey)&&
"x"!=a&&"v"!=a||a==c.keys.SHIFT)){var d=!1,e="_startSearchFromInput",f=this._popupWidget,k=c.keys,m=null;this._prev_key_backspace=!1;this._abortQuery();this._isShowingNow&&(f.handleKey(a),m=f.getHighlightedOption());switch(a){case k.PAGE_DOWN:case k.DOWN_ARROW:case k.PAGE_UP:case k.UP_ARROW:this._isShowingNow?this._announceOption(m):(d=!0,e="_startSearchAll");c.stopEvent(b);break;case k.ENTER:if(m)if(m==f.nextButton){this._nextSearch(1);c.stopEvent(b);break}else{if(m==f.previousButton){this._nextSearch(-1);
c.stopEvent(b);break}}else this._setBlurValue(),this._setCaretPos(this.focusNode,this.focusNode.value.length);b.preventDefault();case k.TAB:this.get("displayedValue");m&&this._selectOption();this._isShowingNow&&(this._lastQuery=null,this._hideResultList());break;case " ":m?(c.stopEvent(b),this._selectOption(),this._hideResultList()):d=!0;break;case k.ESCAPE:this._isShowingNow&&(c.stopEvent(b),this._hideResultList());break;case k.DELETE:case k.BACKSPACE:d=this._prev_key_backspace=!0;break;default:d=
"string"==typeof a||229==a}d&&(this.item=void 0,this.searchTimer=setTimeout(c.hitch(this,e),1))}},_autoCompleteText:function(b){var a=this.focusNode;g.selectInputText(a,a.value.length);var c=this.ignoreCase?"toLowerCase":"substr";0===b[c](0).indexOf(this.focusNode.value[c](0))?(c=this._getCaretPos(a),c+1>a.value.length&&(a.value=b,g.selectInputText(a,c))):(a.value=b,g.selectInputText(a))},_openResultList:function(b,a){this._fetchHandle=null;if(!this.disabled&&!this.readOnly&&a.query[this.searchAttr]==
this._lastQuery)if(this._popupWidget.clearResultList(),b.length||this._maxOptions){a._maxOptions=this._maxOptions;var d=this._popupWidget.createOptions(b,a,c.hitch(this,"_getMenuLabelFromItem"));this._showResultList();a.direction?(1==a.direction?this._popupWidget.highlightFirstOption():-1==a.direction&&this._popupWidget.highlightLastOption(),this._announceOption(this._popupWidget.getHighlightedOption())):!this.autoComplete||this._prev_key_backspace||/^[*]+$/.test(a.query[this.searchAttr])||this._announceOption(d[1])}else this._hideResultList()},
_showResultList:function(){this._hideResultList();this.displayMessage("");c.style(this._popupWidget.domNode,{width:"",height:""});var b=this.open(),a=c.marginBox(this._popupWidget.domNode);this._popupWidget.domNode.style.overflow=b.h==a.h&&b.w==a.w?"hidden":"auto";a=b.w;b.h<this._popupWidget.domNode.scrollHeight&&(a+=16);c.marginBox(this._popupWidget.domNode,{h:b.h,w:Math.max(a,this.domNode.offsetWidth)});a<this.domNode.offsetWidth&&(this._popupWidget.domNode.parentNode.style.left=c.position(this.domNode,
!0).x+"px")},_hideResultList:function(){this._abortQuery();this._isShowingNow&&(g.popup.close(this._popupWidget),this._isShowingNow=!1)},_setBlurValue:function(){var b=this.get("displayedValue");"undefined"==typeof this.item?(this.item=null,this.set("displayedValue",b)):(this.value!=this._lastValueReported&&g.form._FormValueWidget.prototype._setValueAttr.call(this,this.value,!0),this._refreshState())},_onBlur:function(){this._hideResultList();this.inherited(arguments)},_setItemAttr:function(b,a,c){c||
(c=this.labelFunc(b,this.store));this.value=this._getValueField()!=this.searchAttr?this.store.getIdentity(b):c;this.item=b;g.form.ComboBox.superclass._setValueAttr.call(this,this.value,a,c)},_announceOption:function(b){if(b){var a;b==this._popupWidget.nextButton||b==this._popupWidget.previousButton?(a=b.innerHTML,this.item=void 0,this.value=""):(a=this.labelFunc(b.item,this.store),this.set("item",b.item,!1,a));this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this._autoCompleteText(a)}},
_selectOption:function(b){b&&this._announceOption(b.target);this._hideResultList();this._setCaretPos(this.focusNode,this.focusNode.value.length);g.form._FormValueWidget.prototype._setValueAttr.call(this,this.value,!0)},_onArrowMouseDown:function(b){this.disabled||this.readOnly||(c.stopEvent(b),this.focus(),this._isShowingNow?this._hideResultList():this._startSearchAll())},_startSearchAll:function(){this._startSearch("")},_startSearchFromInput:function(){null!=this.focusNode&&this._startSearch(this.focusNode.value.replace(/([\\\*\?])/g,
"\\$1"))},_getQueryString:function(b){return c.string.substitute(this.queryExpr,[b])},_setMaxOptions:function(b,a){this._maxOptions=b},_getValueField:function(){return this.searchAttr},compositionend:function(b){this._onKeyPress({charOrCode:229})},constructor:function(){this.query={};this.fetchProperties={}},postMixInProperties:function(){if(!(this.store||(this.store=new g.form._ComboBoxDataStore(this.srcNodeRef),"value"in this.params))){var b=this.store.fetchSelectedItem();if(b){var a=this._getValueField();
this.value=a!=this.searchAttr?this.store.getValue(b,a):this.labelFunc(b,this.store)}}this.inherited(arguments)},uninitialize:function(){this._popupWidget&&!this._popupWidget._destroyed&&(this._hideResultList(),this._popupWidget.destroy());this.inherited(arguments)},_getMenuLabelFromItem:function(b){b=this.labelAttr?this.store.getValue(b,this.labelAttr):this.labelFunc(b,this.store);var a=this.labelType;"none"!=this.highlightMatch&&"text"==this.labelType&&this._lastInput&&(b=this.doHighlight(b,this._escapeHtml(this._lastInput)),
a="html");return{html:"html"==a,label:b}},doHighlight:function(b,a){var d="i"+("all"==this.highlightMatch?"g":""),e=this._escapeHtml(b);a=c.regexp.escapeString(a);return e.replace(RegExp("(^|\\s)("+a+")",d),'$1\x3cspan class\x3d"dijitComboBoxHighlightMatch"\x3e$2\x3c/span\x3e')},_escapeHtml:function(b){return b=String(b).replace(/&/gm,"\x26amp;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").replace(/"/gm,"\x26quot;")},open:function(){this._isShowingNow=!0;return g.popup.open({popup:this._popupWidget,
around:this.domNode,parent:this})},reset:function(){this.item=null;this.inherited(arguments)}})})},"dijit/form/ComboBox":function(){define(["dojo/_base/declare","./ValidationTextBox","./ComboBoxMixin"],function(c,g,l){return c("dijit.form.ComboBox",[g,l],{})})},"dijit/form/ValidationTextBox":function(){define("dojo/_base/declare dojo/_base/kernel dojo/i18n ./TextBox ../Tooltip dojo/text!./templates/ValidationTextBox.html dojo/i18n!./nls/validate".split(" "),function(c,g,l,b,a,d){var e;return e=c("dijit.form.ValidationTextBox",
b,{templateString:d,required:!1,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(a,b){b!=e.prototype[a]&&(g.deprecated("ValidationTextBox id\x3d"+this.id+", set('"+a+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),this.set("pattern",b))},_setRegExpGenAttr:function(a){this._deprecateRegExp("regExpGen",a);this._set("regExpGen",this._computeRegexp)},
_setRegExpAttr:function(a){this._deprecateRegExp("regExp",a)},_setValueAttr:function(){this.inherited(arguments);this._refreshState()},validator:function(a,b){return RegExp("^(?:"+this._computeRegexp(b)+")"+(this.required?"":"?")+"$").test(a)&&(!this.required||!this._isEmpty(a))&&(this._isEmpty(a)||void 0!==this.parse(a,b))},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)},isValid:function(){return this.validator(this.textbox.value,this.get("constraints"))},_isEmpty:function(a){return(this.trim?
/^\s*$/:/^$/).test(a)},getErrorMessage:function(){var a="$_unset_$"==this.invalidMessage?this.messages.invalidMessage:this.invalidMessage?this.invalidMessage:this.promptMessage,b="$_unset_$"==this.missingMessage?this.messages.missingMessage:this.missingMessage?this.missingMessage:a;return this.required&&this._isEmpty(this.textbox.value)?b:a},getPromptMessage:function(){return this.promptMessage},_maskValidSubsetError:!0,validate:function(a){var b="",c=this.disabled||this.isValid(a);c&&(this._maskValidSubsetError=
!0);var d=this._isEmpty(this.textbox.value),e=!c&&a&&this._isValidSubset();this._set("state",c?"":((!this._hasBeenBlurred||a)&&d||e)&&(this._maskValidSubsetError||e&&!this._hasBeenBlurred&&a)?"Incomplete":"Error");this.focusNode.setAttribute("aria-invalid","Error"==this.state?"true":"false");"Error"==this.state?(this._maskValidSubsetError=a&&e,b=this.getErrorMessage(a)):"Incomplete"==this.state?(b=this.getPromptMessage(a),this._maskValidSubsetError=!this._hasBeenBlurred||a):d&&(b=this.getPromptMessage(a));
this.set("message",b);return c},displayMessage:function(b){b&&this.focused?a.show(b,this.domNode,this.tooltipPosition,!this.isLeftToRight()):a.hide(this.domNode)},_refreshState:function(){this._created&&this.validate(this.focused);this.inherited(arguments)},constructor:function(a){this.constraints={};this.baseClass+=" dijitValidationTextBox"},startup:function(){this.inherited(arguments);this._refreshState()},_setConstraintsAttr:function(a){!a.locale&&this.lang&&(a.locale=this.lang);this._set("constraints",
a);this._refreshState()},_setPatternAttr:function(a){this._set("pattern",a);this._refreshState()},_computeRegexp:function(a){var b=this.pattern;"function"==typeof b&&(b=b.call(this,a));if(b!=this._lastRegExp){var c="";this._lastRegExp=b;".*"!=b&&b.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(a){switch(a.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":c+=a;break;case ")":c+="|$)";break;default:c+="(?:"+a+"|$)"}});try{"".search(c)}catch(d){c=this.pattern}this._partialre=
"^(?:"+c+")$"}return b},postMixInProperties:function(){this.inherited(arguments);this.messages=l.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints)},_setDisabledAttr:function(a){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(a){this._set("required",a);this.focusNode.setAttribute("aria-required",a);this._refreshState()},_setMessageAttr:function(a){this._set("message",a);this.displayMessage(a)},reset:function(){this._maskValidSubsetError=
!0;this.inherited(arguments)},_onBlur:function(){this.displayMessage("");this.inherited(arguments)}})})},"dijit/form/TextBox":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-style dojo/_base/kernel dojo/_base/lang dojo/on dojo/sniff ./_FormValueWidget ./_TextBoxMixin dojo/text!./templates/TextBox.html ../main".split(" "),function(c,g,l,b,a,d,e,f,k,m,p){f=c("dijit.form.TextBox"+(e("dojo-bidi")?"_NoBidi":""),[f,k],{templateString:m,_singleNodeTemplate:'\x3cinput class\x3d"dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point\x3d"textbox,focusNode" autocomplete\x3d"off" type\x3d"${type}" ${!nameAttrSetting} /\x3e',
_buttonInputDisabled:e("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var a=this.type.toLowerCase();if(this.templateString&&"input"==this.templateString.toLowerCase()||("hidden"==a||"file"==a)&&this.templateString==this.constructor.prototype.templateString)this.templateString=this._singleNodeTemplate;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);9>e("ie")&&this.defer(function(){try{var a=l.getComputedStyle(this.domNode);if(a){var b=a.fontFamily;
if(b){var c=this.domNode.getElementsByTagName("INPUT");if(c)for(a=0;a<c.length;a++)c[a].style.fontFamily=b}}}catch(d){}})},_setPlaceHolderAttr:function(b){this._set("placeHolder",b);this._phspan||(this._attachPoints.push("_phspan"),this._phspan=g.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after"),this.own(d(this._phspan,"mousedown",function(a){a.preventDefault()}),d(this._phspan,"touchend, pointerup, MSPointerUp",a.hitch(this,function(){this.focus()}))));this._phspan.innerHTML=
"";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(b));this._updatePlaceHolder()},_onInput:function(a){this.inherited(arguments);this._updatePlaceHolder()},_updatePlaceHolder:function(){this._phspan&&(this._phspan.style.display=this.placeHolder&&!this.textbox.value?"":"none")},_setValueAttr:function(a,b,c){this.inherited(arguments);this._updatePlaceHolder()},getDisplayedValue:function(){b.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.",
"","2.0");return this.get("displayedValue")},setDisplayedValue:function(a){b.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",a)},_onBlur:function(a){this.disabled||(this.inherited(arguments),this._updatePlaceHolder(),e("mozilla")&&this.selectOnClick&&(this.textbox.selectionStart=this.textbox.selectionEnd=void 0))},_onFocus:function(a){this.disabled||this.readOnly||(this.inherited(arguments),this._updatePlaceHolder())}});
9>e("ie")&&(f.prototype._isTextSelected=function(){var a=this.ownerDocument.selection.createRange();return a.parentElement()==this.textbox&&0<a.text.length},p._setSelectionRange=k._setSelectionRange=function(a,b,c){a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),a.moveStart("character",-99999),a.moveStart("character",b),a.moveEnd("character",c-b),a.select())});e("dojo-bidi")&&(f=c("dijit.form.TextBox",f,{_setPlaceHolderAttr:function(a){this.inherited(arguments);this.applyTextDir(this._phspan)}}));
return f})},"dijit/form/_TextBoxMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/has dojo/keys dojo/_base/lang dojo/on ../main".split(" "),function(c,g,l,b,a,d,e,f){var k=g("dijit.form._TextBoxMixin"+(b("dojo-bidi")?"_NoBidi":""),null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(a,b,c){var d;void 0!==a&&(d=this.filter(a),
"string"!=typeof c&&(c=null===d||"number"==typeof d&&isNaN(d)?"":this.filter(this.format(d,this.constraints))));null==c||"number"==typeof c&&isNaN(c)||this.textbox.value==c||(this.textbox.value=c,this._set("displayedValue",this.get("displayedValue")));this.inherited(arguments,[d,b])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(a){null==a?a="":"string"!=typeof a&&(a=String(a));this.textbox.value=a;this._setValueAttr(this.get("value"),
void 0);this._set("displayedValue",this.get("displayedValue"))},format:function(a){return null==a?"":a.toString?a.toString():a},parse:function(a){return a},_refreshState:function(){},onInput:function(){},__skipInputEvent:!1,_onInput:function(a){this._processInput(a);this.intermediateChanges&&this.defer(function(){this._handleOnChange(this.get("value"),!1)})},_processInput:function(a){this._refreshState();this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",
this.textbox.value);this.inherited(arguments);this.own(e(this.textbox,"keydown, keypress, paste, cut, input, compositionend",d.hitch(this,function(b){var c;if("keydown"==b.type){c=b.keyCode;switch(c){case a.SHIFT:case a.ALT:case a.CTRL:case a.META:case a.CAPS_LOCK:case a.NUM_LOCK:case a.SCROLL_LOCK:return}if(!b.ctrlKey&&!b.metaKey&&!b.altKey){switch(c){case a.NUMPAD_0:case a.NUMPAD_1:case a.NUMPAD_2:case a.NUMPAD_3:case a.NUMPAD_4:case a.NUMPAD_5:case a.NUMPAD_6:case a.NUMPAD_7:case a.NUMPAD_8:case a.NUMPAD_9:case a.NUMPAD_MULTIPLY:case a.NUMPAD_PLUS:case a.NUMPAD_ENTER:case a.NUMPAD_MINUS:case a.NUMPAD_PERIOD:case a.NUMPAD_DIVIDE:return}if(65<=
c&&90>=c||48<=c&&57>=c||c==a.SPACE)return;c=!1;for(var e in a)if(a[e]===b.keyCode){c=!0;break}if(!c)return}}(c=32<=b.charCode?String.fromCharCode(b.charCode):b.charCode)||(c=65<=b.keyCode&&90>=b.keyCode||48<=b.keyCode&&57>=b.keyCode||b.keyCode==a.SPACE?String.fromCharCode(b.keyCode):b.keyCode);c||(c=229);if("keypress"==b.type){if("string"!=typeof c)return;if("a"<=c&&"z">=c||"A"<=c&&"Z">=c||"0"<=c&&"9">=c||" "===c)if(b.ctrlKey||b.metaKey||b.altKey)return}if("input"==b.type){if(this.__skipInputEvent){this.__skipInputEvent=
!1;return}}else this.__skipInputEvent=!0;var f={faux:!0},k;for(k in b)/^(layer[XY]|returnValue|keyLocation)$/.test(k)||(e=b[k],"function"!=typeof e&&"undefined"!=typeof e&&(f[k]=e));d.mixin(f,{charOrCode:c,_wasConsumed:!1,preventDefault:function(){f._wasConsumed=!0;b.preventDefault()},stopPropagation:function(){b.stopPropagation()}});!1===this.onInput(f)&&(f.preventDefault(),f.stopPropagation());f._wasConsumed||this.defer(function(){this._onInput(f)})})),e(this.domNode,"keypress",function(a){a.stopPropagation()}))},
_blankValue:"",filter:function(a){if(null===a)return this._blankValue;if("string"!=typeof a)return a;this.trim&&(a=d.trim(a));this.uppercase&&(a=a.toUpperCase());this.lowercase&&(a=a.toLowerCase());this.propercase&&(a=a.replace(/[^\s]+/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}));return a},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(a){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=
this.textbox.selectionEnd},_onFocus:function(a){this.disabled||this.readOnly||(this.selectOnClick&&"mouse"==a&&(this._selectOnClickHandle=e.once(this.domNode,"mouseup, touchend",d.hitch(this,function(a){this._isTextSelected()||k.selectInputText(this.textbox)})),this.own(this._selectOnClickHandle),this.defer(function(){this._selectOnClickHandle&&(this._selectOnClickHandle.remove(),this._selectOnClickHandle=null)},500)),this.inherited(arguments),this._refreshState())},reset:function(){this.textbox.value=
"";this.inherited(arguments)}});b("dojo-bidi")&&(k=g("dijit.form._TextBoxMixin",k,{_setValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode)},_setDisplayedValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode)},_onInput:function(){this.applyTextDir(this.focusNode);this.inherited(arguments)}}));k._setSelectionRange=f._setSelectionRange=function(a,b,c){a.setSelectionRange&&a.setSelectionRange(b,c)};k.selectInputText=f.selectInputText=function(a,b,
c){a=l.byId(a);isNaN(b)&&(b=0);isNaN(c)&&(c=a.value?a.value.length:0);try{a.focus(),k._setSelectionRange(a,b,c)}catch(d){}};return k})},"dijit/form/ComboBoxMixin":function(){define("dojo/_base/declare dojo/Deferred dojo/_base/kernel dojo/_base/lang dojo/store/util/QueryResults ./_AutoCompleterMixin ./_ComboBoxMenu ../_HasDropDown dojo/text!./templates/DropDownBox.html".split(" "),function(c,g,l,b,a,d,e,f,k){return c("dijit.form.ComboBoxMixin",[f,d],{dropDownClass:e,hasDownArrow:!0,templateString:k,
baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_setHasDownArrowAttr:function(a){this._set("hasDownArrow",a);this._buttonNode.style.display=a?"":"none"},_showResultList:function(){this.displayMessage("");this.inherited(arguments)},_setStoreAttr:function(c){c.get||b.mixin(c,{_oldAPI:!0,get:function(a){var b=new g;this.fetchItemByIdentity({identity:a,onItem:function(a){b.resolve(a)},onError:function(a){b.reject(a)}});return b.promise},query:function(c,d){var e=
new g(function(){f.abort&&f.abort()});e.total=new g;var f=this.fetch(b.mixin({query:c,onBegin:function(a){e.total.resolve(a)},onComplete:function(a){e.resolve(a)},onError:function(a){e.reject(a)}},d));return a(e)}});this._set("store",c)},postMixInProperties:function(){var a=this.params.store||this.store;a&&this._setStoreAttr(a);this.inherited(arguments);if(!this.params.store&&!this.store._oldAPI){var c=this.declaredClass;b.mixin(this.store,{getValue:function(a,b){l.deprecated(c+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly",
"","2.0");return a[b]},getLabel:function(a){l.deprecated(c+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0");return a.name},fetch:function(a){l.deprecated(c+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");require(["dojo/data/ObjectStore"],b.hitch(this,function(b){(new b({objectStore:this})).fetch(a)}))}})}}})})},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(c,g,
l){var b=function(a){function d(d){a[d]=function(){var k=arguments,g=l(a,function(a){Array.prototype.unshift.call(k,a);return b(c[d].apply(c,k))});if("forEach"!==d||e)return g}}if(!a)return a;var e=!!a.then;e&&(a=g.delegate(a));d("forEach");d("filter");d("map");null==a.total&&(a.total=l(a,function(a){return a.length}));return a};g.setObject("dojo.store.util.QueryResults",b);return b})},"dijit/form/_AutoCompleterMixin":function(){define("dojo/aspect dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/query dojo/regexp dojo/sniff ./DataList ./_TextBoxMixin ./_SearchMixin".split(" "),
function(c,g,l,b,a,d,e,f,k,m,p){g=g("dijit.form._AutoCompleterMixin",p,{item:null,autoComplete:!0,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:!1,_getCaretPos:function(a){var b=0;if("number"==typeof a.selectionStart)b=a.selectionStart;else if(f("ie")){var c=a.ownerDocument.selection.createRange().duplicate();a=a.createTextRange();c.move("character",0);a.move("character",0);try{a.setEndPoint("EndToEnd",c),b=String(a.text).replace(/\r/g,"").length}catch(d){}}return b},
_setCaretPos:function(a,b){b=parseInt(b);m.selectInputText(a,b,b)},_setDisabledAttr:function(a){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",a?"true":"false")},_onKey:function(a){if(!(32<=a.charCode)){var c=a.charCode||a.keyCode;if(c!=b.ALT&&c!=b.CTRL&&c!=b.META&&c!=b.SHIFT){var d=this.dropDown,e=null;this._abortQuery();this.inherited(arguments);if(!(a.altKey||a.ctrlKey||a.metaKey))switch(this._opened&&(e=d.getHighlightedOption()),c){case b.PAGE_DOWN:case b.DOWN_ARROW:case b.PAGE_UP:case b.UP_ARROW:this._opened&&
this._announceOption(e);a.stopPropagation();a.preventDefault();break;case b.ENTER:if(e){if(e==d.nextButton){this._nextSearch(1);a.stopPropagation();a.preventDefault();break}else if(e==d.previousButton){this._nextSearch(-1);a.stopPropagation();a.preventDefault();break}a.stopPropagation();a.preventDefault()}else this._setBlurValue(),this._setCaretPos(this.focusNode,this.focusNode.value.length);case b.TAB:c=this.get("displayedValue");if(d&&(c==d._messages.previousMessage||c==d._messages.nextMessage))break;
e&&this._selectOption(e);case b.ESCAPE:this._opened&&(this._lastQuery=null,this.closeDropDown())}}}},_autoCompleteText:function(a){var b=this.focusNode;m.selectInputText(b,b.value.length);var c=this.ignoreCase?"toLowerCase":"substr";0==a[c](0).indexOf(this.focusNode.value[c](0))?(c=this.autoComplete?this._getCaretPos(b):b.value.length,c+1>b.value.length&&(b.value=a,m.selectInputText(b,c))):(b.value=a,m.selectInputText(b))},_openResultList:function(b,c,d){var e=this.dropDown.getHighlightedOption();
this.dropDown.clearResultList();b.length||0!=d.start?(this._nextSearch=this.dropDown.onPage=a.hitch(this,function(a){b.nextPage(-1!==a);this.focus()}),this.dropDown.createOptions(b,d,a.hitch(this,"_getMenuLabelFromItem")),this._showResultList(),"direction"in d?(d.direction?this.dropDown.highlightFirstOption():d.direction||this.dropDown.highlightLastOption(),e&&this._announceOption(this.dropDown.getHighlightedOption())):!this.autoComplete||this._prev_key_backspace||/^[*]+$/.test(c[this.searchAttr].toString())||
this._announceOption(this.dropDown.containerNode.firstChild.nextSibling)):this.closeDropDown()},_showResultList:function(){this.closeDropDown(!0);this.openDropDown();this.domNode.setAttribute("aria-expanded","true")},loadDropDown:function(){this._startSearchAll()},isLoaded:function(){return!1},closeDropDown:function(){this._abortQuery();this._opened&&(this.inherited(arguments),this.domNode.setAttribute("aria-expanded","false"))},_setBlurValue:function(){var a=this.get("displayedValue"),b=this.dropDown;
!b||a!=b._messages.previousMessage&&a!=b._messages.nextMessage?"undefined"==typeof this.item?(this.item=null,this.set("displayedValue",a)):(this.value!=this._lastValueReported&&this._handleOnChange(this.value,!0),this._refreshState()):this._setValueAttr(this._lastValueReported,!0);this.focusNode.removeAttribute("aria-activedescendant")},_setItemAttr:function(a,b,c){var d="";a&&(c||(c=this.store._oldAPI?this.store.getValue(a,this.searchAttr):a[this.searchAttr]),d=this._getValueField()!=this.searchAttr?
this.store.getIdentity(a):c);this.set("value",d,b,c,a)},_announceOption:function(a){if(a){var b;if(a==this.dropDown.nextButton||a==this.dropDown.previousButton)b=a.innerHTML,this.item=void 0,this.value="";else{var c=this.dropDown.items[a.getAttribute("item")];b=(this.store._oldAPI?this.store.getValue(c,this.searchAttr):c[this.searchAttr]).toString();this.set("item",c,!1,b)}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",
l.get(a,"id"));this._autoCompleteText(b)}},_selectOption:function(a){this.closeDropDown();a&&this._announceOption(a);this._setCaretPos(this.focusNode,this.focusNode.value.length);this._handleOnChange(this.value,!0);this.focusNode.removeAttribute("aria-activedescendant")},_startSearchAll:function(){this._startSearch("")},_startSearchFromInput:function(){this.item=void 0;this.inherited(arguments)},_startSearch:function(b){if(!this.dropDown){var c=this.id+"_popup";this.dropDown=new (a.isString(this.dropDownClass)?
a.getObject(this.dropDownClass,!1):this.dropDownClass)({onChange:a.hitch(this,this._selectOption),id:c,dir:this.dir,textDir:this.textDir})}this._lastInput=b;this.inherited(arguments)},_getValueField:function(){return this.searchAttr},postMixInProperties:function(){this.inherited(arguments);if(!(this.store||(this.store=new k({},this.srcNodeRef),"value"in this.params))){var a=this.item=this.store.fetchSelectedItem();if(a){var b=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(a,
b):a[b]}}},postCreate:function(){var b=d('label[for\x3d"'+this.id+'"]');b.length&&(b[0].id||(b[0].id=this.id+"_label"),this.domNode.setAttribute("aria-labelledby",b[0].id));this.inherited(arguments);c.after(this,"onSearch",a.hitch(this,"_openResultList"),!0)},_getMenuLabelFromItem:function(a){a=this.labelFunc(a,this.store);var b=this.labelType;"none"!=this.highlightMatch&&"text"==this.labelType&&this._lastInput&&(a=this.doHighlight(a,this._lastInput),b="html");return{html:"html"==b,label:a}},doHighlight:function(a,
b){var c=(this.ignoreCase?"i":"")+("all"==this.highlightMatch?"g":""),d=this.queryExpr.indexOf("${0}");b=e.escapeString(b);return this._escapeHtml(a.replace(RegExp((0==d?"^":"")+"("+b+")"+(d==this.queryExpr.length-4?"$":""),c),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,'\x3cspan class\x3d"dijitComboBoxHighlightMatch"\x3e$1\x3c/span\x3e')},_escapeHtml:function(a){return a=String(a).replace(/&/gm,"\x26amp;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").replace(/"/gm,"\x26quot;")},reset:function(){this.item=
null;this.inherited(arguments)},labelFunc:function(a,b){return(b._oldAPI?b.getValue(a,this.labelAttr||this.searchAttr):a[this.labelAttr||this.searchAttr]).toString()},_setValueAttr:function(a,b,c,d){this._set("item",d||null);null==a&&(a="");this.inherited(arguments)}});f("dojo-bidi")&&g.extend({_setTextDirAttr:function(a){this.inherited(arguments);this.dropDown&&this.dropDown._set("textDir",a)}});return g})},"dijit/form/DataList":function(){define("dojo/_base/declare dojo/dom dojo/_base/lang dojo/query dojo/store/Memory ../registry".split(" "),
function(c,g,l,b,a,d){function e(a){return{id:a.value,value:a.value,name:l.trim(a.innerText||a.textContent||"")}}return c("dijit.form.DataList",a,{constructor:function(a,c){this.domNode=g.byId(c);l.mixin(this,a);this.id&&d.add(this);this.domNode.style.display="none";this.inherited(arguments,[{data:b("option",this.domNode).map(e)}])},destroy:function(){d.remove(this.id)},fetchSelectedItem:function(){var a=b("\x3e option[selected]",this.domNode)[0]||b("\x3e option",this.domNode)[0];return a&&e(a)}})})},
"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(c,g,l){return c("dojo.store.Memory",null,{constructor:function(b){for(var a in b)this[a]=b[a];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:l,get:function(b){return this.data[this.index[b]]},getIdentity:function(b){return b[this.idProperty]},put:function(b,a){var c=this.data,e=this.index,f=this.idProperty,f=b[f]=a&&"id"in a?a.id:f in b?b[f]:Math.random();
if(f in e){if(a&&!1===a.overwrite)throw Error("Object already exists");c[e[f]]=b}else e[f]=c.push(b)-1;return f},add:function(b,a){(a=a||{}).overwrite=!1;return this.put(b,a)},remove:function(b){var a=this.index,c=this.data;if(b in a)return c.splice(a[b],1),this.setData(c),!0},query:function(b,a){return g(this.queryEngine(b,a)(this.data))},setData:function(b){b.items?(this.idProperty=b.identifier||this.idProperty,b=this.data=b.items):this.data=b;this.index={};for(var a=0,c=b.length;a<c;a++)this.index[b[a][this.idProperty]]=
a}})})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(c){return function(g,l){function b(a){a=c.filter(a,g);var b=l&&l.sort;b&&a.sort("function"==typeof b?b:function(a,c){for(var d,f=0;d=b[f];f++){var g=a[d.attribute],l=c[d.attribute],g=null!=g?g.valueOf():g,l=null!=l?l.valueOf():l;if(g!=l)return!!d.descending==(null==g||g>l)?-1:1}return 0});if(l&&(l.start||l.count)){var f=a.length;a=a.slice(l.start||0,(l.start||0)+(l.count||Infinity));a.total=f}return a}switch(typeof g){default:throw Error("Can not query with a "+
typeof g);case "object":case "undefined":var a=g;g=function(b){for(var c in a){var f=a[c];if(f&&f.test){if(!f.test(b[c],b))return!1}else if(f!=b[c])return!1}return!0};break;case "string":if(!this[g])throw Error("No filter function "+g+" was found in store");g=this[g];case "function":}b.matches=g;return b}})},"dijit/form/_SearchMixin":function(){define("dojo/_base/declare dojo/keys dojo/_base/lang dojo/query dojo/string dojo/when ../registry".split(" "),function(c,g,l,b,a,d,e){return c("dijit.form._SearchMixin",
null,{pageSize:Infinity,store:null,fetchProperties:{},query:{},list:"",_setListAttr:function(a){this._set("list",a)},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:!0,_patternToRegExp:function(a){return RegExp("^"+a.replace(/(\\.)|(\*)|(\?)|\W/g,function(a,b,c,d){return c?".*":d?".":b?b:"\\"+a})+"$",this.ignoreCase?"mi":"m")},_abortQuery:function(){this.searchTimer&&(this.searchTimer=this.searchTimer.remove());this._queryDeferHandle&&(this._queryDeferHandle=this._queryDeferHandle.remove());
this._fetchHandle&&(this._fetchHandle.abort&&(this._cancelingQuery=!0,this._fetchHandle.abort(),this._cancelingQuery=!1),this._fetchHandle.cancel&&(this._cancelingQuery=!0,this._fetchHandle.cancel(),this._cancelingQuery=!1),this._fetchHandle=null)},_processInput:function(a){if(!this.disabled&&!this.readOnly){var b=a.charOrCode;if(!("type"in a&&"key"==a.type.substring(0,3)&&(a.altKey||(a.ctrlKey||a.metaKey)&&"x"!=b&&"v"!=b||b==g.SHIFT))){this._prev_key_backspace=a=!1;switch(b){case g.DELETE:case g.BACKSPACE:a=
this._maskValidSubsetError=this._prev_key_backspace=!0;break;default:a="string"==typeof b||229==b}if(a)if(this.store)this.searchTimer=this.defer("_startSearchFromInput",1);else this.onSearch()}}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value)},_startSearch:function(b){this._abortQuery();var c=this,e=l.clone(this.query),g={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:!0}},q=a.substitute(this.queryExpr,[b.replace(/([\\\*\?])/g,
"\\$1")]),n,r=function(){var a=c._fetchHandle=c.store.query(e,g);c.disabled||c.readOnly||n!==c._lastQuery||d(a,function(b){c._fetchHandle=null;c.disabled||c.readOnly||n!==c._lastQuery||d(a.total,function(a){b.total=a;var d=c.pageSize;if(isNaN(d)||d>b.total)d=b.total;b.nextPage=function(a){g.direction=a=!1!==a;g.count=d;a?(g.start+=b.length,g.start>=b.total&&(g.count=0)):(g.start-=d,0>g.start&&(g.count=Math.max(d+g.start,0),g.start=0));0>=g.count?(b.length=0,c.onSearch(b,e,g)):r()};c.onSearch(b,e,
g)})},function(a){c._fetchHandle=null})};l.mixin(g,this.fetchProperties);this.store._oldAPI?n=q:(n=this._patternToRegExp(q),n.toString=function(){return q});this._lastQuery=e[this.searchAttr]=n;this._queryDeferHandle=this.defer(r,this.searchDelay)},constructor:function(){this.query={};this.fetchProperties={}},postMixInProperties:function(){if(!this.store){var a=this.list;a&&(this.store=e.byId(a))}this.inherited(arguments)}})})},"dijit/form/_ComboBoxMenu":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-style dojo/keys ../_WidgetBase ../_TemplatedMixin ./_ComboBoxMenuMixin ./_ListMouseMixin".split(" "),
function(c,g,l,b,a,d,e,f){return c("dijit.form._ComboBoxMenu",[a,d,f,e],{templateString:"\x3cdiv class\x3d'dijitReset dijitMenu' data-dojo-attach-point\x3d'containerNode' style\x3d'overflow: auto; overflow-x: hidden;' role\x3d'listbox'\x3e\x3cdiv class\x3d'dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point\x3d'previousButton' role\x3d'option'\x3e\x3c/div\x3e\x3cdiv class\x3d'dijitMenuItem dijitMenuNextButton' data-dojo-attach-point\x3d'nextButton' role\x3d'option'\x3e\x3c/div\x3e\x3c/div\x3e",
baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments);this.isLeftToRight()||(g.add(this.previousButton,"dijitMenuItemRtl"),g.add(this.nextButton,"dijitMenuItemRtl"));this.containerNode.setAttribute("role","listbox")},_createMenuItem:function(){var a=this.ownerDocument.createElement("div");a.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");a.setAttribute("role","option");return a},onHover:function(a){g.add(a,"dijitMenuItemHover")},onUnhover:function(a){g.remove(a,
"dijitMenuItemHover")},onSelect:function(a){g.add(a,"dijitMenuItemSelected")},onDeselect:function(a){g.remove(a,"dijitMenuItemSelected")},_page:function(a){var b=0,c=this.domNode.scrollTop,d=l.get(this.domNode,"height");for(this.getHighlightedOption()||this.selectNextNode();b<d;){var e=this.getHighlightedOption();if(a){if(!e.previousSibling||"none"==e.previousSibling.style.display)break;this.selectPreviousNode()}else{if(!e.nextSibling||"none"==e.nextSibling.style.display)break;this.selectNextNode()}e=
this.domNode.scrollTop;b+=(e-c)*(a?-1:1);c=e}},handleKey:function(a){switch(a.keyCode){case b.DOWN_ARROW:return this.selectNextNode(),!1;case b.PAGE_DOWN:return this._page(!1),!1;case b.UP_ARROW:return this.selectPreviousNode(),!1;case b.PAGE_UP:return this._page(!0),!1;default:return!0}}})})},"dijit/form/_ComboBoxMenuMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/has dojo/i18n dojo/i18n!./nls/ComboBox".split(" "),function(c,g,l,b,a){var d=g("dijit.form._ComboBoxMenuMixin"+
(b("dojo-bidi")?"_NoBidi":""),null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);this._messages=a.getLocalization("dijit.form","ComboBox",this.lang)},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages.previousMessage;this.nextButton.innerHTML=this._messages.nextMessage},_setValueAttr:function(a){this._set("value",a);this.onChange(a)},onClick:function(a){if(a==this.previousButton)this._setSelectedAttr(null),this.onPage(-1);else if(a==
this.nextButton)this._setSelectedAttr(null),this.onPage(1);else this.onChange(a)},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null)},_createOption:function(a,b){var c=this._createMenuItem(),d=b(a);d.html?c.innerHTML=d.label:c.appendChild(c.ownerDocument.createTextNode(d.label));""==c.innerHTML&&(c.innerHTML="\x26#160;");return c},createOptions:function(a,b,d){this.items=a;this.previousButton.style.display=0==b.start?"none":"";l.set(this.previousButton,"id",this.id+
"_prev");c.forEach(a,function(a,b){var c=this._createOption(a,d);c.setAttribute("item",b);l.set(c,"id",this.id+b);this.nextButton.parentNode.insertBefore(c,this.nextButton)},this);var g=!1;a.total&&!a.total.then&&-1!=a.total?b.start+b.count<a.total?g=!0:b.start+b.count>a.total&&b.count==a.length&&(g=!0):b.count==a.length&&(g=!0);this.nextButton.style.display=g?"":"none";l.set(this.nextButton,"id",this.id+"_next")},clearResultList:function(){for(var a=this.containerNode;2<a.childNodes.length;)a.removeChild(a.childNodes[a.childNodes.length-
2]);this._setSelectedAttr(null)},highlightFirstOption:function(){this.selectFirstNode()},highlightLastOption:function(){this.selectLastNode()},selectFirstNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.previousButton&&this.selectNextNode()},selectLastNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.nextButton&&this.selectPreviousNode()},getHighlightedOption:function(){return this.selected}});b("dojo-bidi")&&(d=g("dijit.form._ComboBoxMenuMixin",
d,{_createOption:function(){var a=this.inherited(arguments);this.applyTextDir(a);return a}}));return d})},"dijit/form/_ListMouseMixin":function(){define(["dojo/_base/declare","dojo/on","dojo/touch","./_ListBase"],function(c,g,l,b){return c("dijit.form._ListMouseMixin",b,{postCreate:function(){this.inherited(arguments);this.domNode.dojoClick=!0;this._listConnect("click","_onClick");this._listConnect("mousedown","_onMouseDown");this._listConnect("mouseup","_onMouseUp");this._listConnect("mouseover",
"_onMouseOver");this._listConnect("mouseout","_onMouseOut")},_onClick:function(a,b){this._setSelectedAttr(b,!1);this._deferredClick&&this._deferredClick.remove();this._deferredClick=this.defer(function(){this._deferredClick=null;this.onClick(b)})},_onMouseDown:function(a,b){this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=null);this._isDragging=!0;this._setSelectedAttr(b,!1)},_onMouseUp:function(a,b){this._isDragging=!1;var c=this.selected,f=this._hoveredNode;c&&b==c?this.defer(function(){this._onClick(a,
c)}):f&&this.defer(function(){this._onClick(a,f)})},_onMouseOut:function(a,b){this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=null);this._isDragging&&(this._cancelDrag=(new Date).getTime()+1E3)},_onMouseOver:function(a,b){this._cancelDrag&&((new Date).getTime()>this._cancelDrag&&(this._isDragging=!1),this._cancelDrag=null);this._hoveredNode=b;this.onHover(b);this._isDragging&&this._setSelectedAttr(b,!1)}})})},"dijit/form/_ListBase":function(){define(["dojo/_base/declare","dojo/on",
"dojo/window"],function(c,g,l){return c("dijit.form._ListBase",null,{selected:null,_listConnect:function(b,a){var c=this;return c.own(g(c.containerNode,g.selector(function(a,b,c){return a.parentNode==c},b),function(b){c[a](b,this)}))},selectFirstNode:function(){for(var b=this.containerNode.firstChild;b&&"none"==b.style.display;)b=b.nextSibling;this._setSelectedAttr(b,!0)},selectLastNode:function(){for(var b=this.containerNode.lastChild;b&&"none"==b.style.display;)b=b.previousSibling;this._setSelectedAttr(b,
!0)},selectNextNode:function(){var b=this.selected;if(b){for(b=b.nextSibling;b&&"none"==b.style.display;)b=b.nextSibling;b?this._setSelectedAttr(b,!0):this.selectFirstNode()}else this.selectFirstNode()},selectPreviousNode:function(){var b=this.selected;if(b){for(b=b.previousSibling;b&&"none"==b.style.display;)b=b.previousSibling;b?this._setSelectedAttr(b,!0):this.selectLastNode()}else this.selectLastNode()},_setSelectedAttr:function(b,a){if(this.selected!=b){var c=this.selected;if(c)this.onDeselect(c);
b&&(a&&l.scrollIntoView(b),this.onSelect(b));this._set("selected",b)}else if(b)this.onSelect(b)}})})},"dijit/_HasDropDown":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on dojo/touch ./registry ./focus ./popup ./_FocusMixin".split(" "),function(c,g,l,b,a,d,e,f,k,m,p,q,n,r,t,s){return c("dijit._HasDropDown",s,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,
dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(a){this.disabled||this.readOnly||("MSPointerDown"!=a.type&&"pointerdown"!=a.type&&a.preventDefault(),this.own(p.once(this.ownerDocument,q.release,m.hitch(this,"_onDropDownMouseUp"))),this.toggleDropDown())},_onDropDownMouseUp:function(b){var c=this.dropDown,e=!1;if(b&&this._opened){var f=d.position(this._buttonNode,!0);if(!(b.pageX>=f.x&&b.pageX<=f.x+f.w&&b.pageY>=
f.y&&b.pageY<=f.y+f.h)){for(f=b.target;f&&!e;)a.contains(f,"dijitPopup")?e=!0:f=f.parentNode;if(e){f=b.target;if(c.onItemClick){for(var g;f&&!(g=n.byNode(f));)f=f.parentNode;if(g&&g.onClick&&g.getParent)g.getParent().onItemClick(g,b)}return}}}this._opened?c.focus&&(!1!==c.autoFocus||"mouseup"==b.type&&!this.hovering)&&(this._focusDropDownTimer=this.defer(function(){c.focus();delete this._focusDropDownTimer})):this.focus&&this.defer("focus")},_onDropDownClick:function(a){this._stopClickEvents&&(a.stopPropagation(),
a.preventDefault())},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var b={after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",left:"Left",right:"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";a.add(this._arrowWrapperNode||this._buttonNode,"dijit"+b+"ArrowButton")},postCreate:function(){this.inherited(arguments);
var a=this.focusNode||this.domNode;this.own(p(this._buttonNode,q.press,m.hitch(this,"_onDropDownMouseDown")),p(this._buttonNode,"click",m.hitch(this,"_onDropDownClick")),p(a,"keydown",m.hitch(this,"_onKey")),p(a,"keyup",m.hitch(this,"_onKeyUp")))},destroy:function(){this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroyRecursive(),delete this.dropDown);this.inherited(arguments)},_onKey:function(a){if(!this.disabled&&!this.readOnly){var b=this.dropDown,c=a.target;b&&this._opened&&b.handleKey&&
!1===b.handleKey(a)?(a.stopPropagation(),a.preventDefault()):b&&this._opened&&a.keyCode==k.ESCAPE?(this.closeDropDown(),a.stopPropagation(),a.preventDefault()):!this._opened&&(a.keyCode==k.DOWN_ARROW||(a.keyCode==k.ENTER||a.keyCode==k.SPACE&&(!this._searchTimer||a.ctrlKey||a.altKey||a.metaKey))&&("input"!==(c.tagName||"").toLowerCase()||c.type&&"text"!==c.type.toLowerCase()))&&(this._toggleOnKeyUp=!0,a.stopPropagation(),a.preventDefault())}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;
this.toggleDropDown();var a=this.dropDown;a&&a.focus&&this.defer(m.hitch(a,"focus"),1)}},_onBlur:function(){this.closeDropDown(!1);this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(a){a()},loadAndOpenDropDown:function(){var a=new g,b=m.hitch(this,function(){this.openDropDown();a.resolve(this.dropDown)});this.isLoaded()?b():this.loadDropDown(b);return a},toggleDropDown:function(){this.disabled||this.readOnly||(this._opened?this.closeDropDown(!0):this.loadAndOpenDropDown())},
openDropDown:function(){var c=this.dropDown,e=c.domNode,f=this._aroundNode||this.domNode,g=this,k=t.open({parent:this,popup:c,around:f,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){g.closeDropDown(!0)},onCancel:function(){g.closeDropDown(!0)},onClose:function(){b.set(g._popupStateNode,"popupActive",!1);a.remove(g._popupStateNode,"dijitHasDropDownOpen");g._set("_opened",!1)}});if(this.forceWidth||this.autoWidth&&f.offsetWidth>c._popupWrapper.offsetWidth){var f=f.offsetWidth-
c._popupWrapper.offsetWidth,l={w:c.domNode.offsetWidth+f};m.isFunction(c.resize)?c.resize(l):d.setMarginBox(e,l);"R"==k.corner[1]&&(c._popupWrapper.style.left=c._popupWrapper.style.left.replace("px","")-f+"px")}b.set(this._popupStateNode,"popupActive","true");a.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",!0);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",c.id);"presentation"===e.getAttribute("role")||e.getAttribute("aria-labelledby")||
e.setAttribute("aria-labelledby",this.id);return k},closeDropDown:function(a){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);this._opened&&(this._popupStateNode.setAttribute("aria-expanded","false"),a&&this.focus(),t.close(this.dropDown),this._opened=!1)}})})},"lh/widget/Button":function(){define(["dojo","dijit","dojox","dojo/require!dijit/_Templated,dijit/_Widget,dijit/_CssStateMixin,dojo/cookie,lh/util/logger,lh/helper/PopupHelper,dojo/NodeList-traverse"],
function(c,g,l){c.provide("lh.widget.Button");c.require("dijit._Templated");c.require("dijit._Widget");c.require("dijit._CssStateMixin");c.require("dojo.cookie");c.require("lh.util.logger");c.require("lh.helper.PopupHelper");c.require("dojo.NodeList-traverse");c.declare("lh.widget.Button",[lh.util.logger,g._Widget,g._Templated,g._CssStateMixin],{debug:!1,action:"back",cssclass:null,cssClass:"lnk-btn",cssClassDisabled:"lnk-btn-fb-disabled",disabled:!1,disableAfterClick:!1,disableAfterSubmit:!1,func:null,
valFunc:null,validationFunc:null,url:"#",label:"",setHidden:null,hiddenFieldId:"",setHiddenVal:null,hiddenFieldValue:"",fillhidden:null,hiddenFieldsFillValue:null,nocookieurl:null,noCookieUrl:"",setFormId:null,formId:"",setFormAction:null,formAction:"",submitId:"",trackFunc:null,templateString:"\x3ca href\x3d'#' waiRole\x3d'button' dojoAttachPoint\x3d'containerNode' dojoAttachEvent\x3d'onclick:_onClick'\x3e\x3c/a\x3e",baseClass:"lhButton",attributeMap:c.delegate(g._Widget.prototype.attributeMap,{cssClass:{node:"containerNode",
type:"class"},label:{node:"containerNode",type:"innerHTML"},tabindex:{node:"containerNode",type:"attribute"},url:{node:"containerNode",type:"attribute",attribute:"href"},disabled:{node:"containerNode",type:"attribute"}}),constructor:function(b){this.debugEnter("constructor");c.mixin(this,b);this.debugExit()},postMixInProperties:function(){this.debugEnter("postMixInProperties");null!=this.cssclass&&(this.cssClass=this.cssclass);null!=this.valFunc&&(this.validationFunc=this.valFunc);null!=this.setHidden&&
(this.hiddenFieldId=this.setHidden);null!=this.setHiddenVal&&(this.hiddenFieldValue=this.setHiddenVal);null!=this.fillhidden&&(this.hiddenFieldsFillValue=this.fillhidden);null!=this.nocookieurl&&(this.noCookieUrl=this.nocookieurl);null!=this.setFormId&&(this.formId=this.setFormId);null!=this.setFormAction&&(this.formAction=this.setFormAction);this.srcNodeRef&&""!=this.srcNodeRef.value&&""==this.label&&(this.label=this.srcNodeRef.value);this.formNode=c.byId(this.formId)||g.byId(this.formId);this.debugMsg("Source Node: "+
this.srcNodeRef);this.debugExit()},postCreate:function(){this.debugEnter("postCreate");""==this.noCookieUrl||c.cookie.isSupported()||this._modifyNoCookieForm();this.debugMsg("Source Node: "+this.srcNodeRef);this.debugExit()},_modifyNoCookieForm:function(){this.debugEnter("_modifyNoCookieForm");null==this.formNode&&this._findForm();null!=this.formNode?this.formNode.domNode?this.formNode.set("action",this.noCookieUrl):c.attr(this.formNode,"action",this.noCookieUrl):this.debugWarn("Parent Form Node not found - couldn't execute noCookie Form Action Modification");
this.debugExit()},_findForm:function(){this.debugEnter("_findForm");this.formNode=c.query("#"+this.id).parents("form")[0];g.byId(this.formNode.id)&&(this.formNode=g.byId(this.formNode.id));this.debugExit()},_onClick:function(b){this.debugEnter("_onClick");b.preventDefault();!this.disabled&&this._validate()?(this.hiddenFieldId&&(this.debugMsg("Setting hidden field"),this.debugMsg(this.hiddenFieldId),""!=this.hiddenFieldId&&c.attr(this.hiddenFieldId,"value",this.hiddenFieldValue)),this.hiddenFieldsFillValue&&
(this.debugMsg("Setting multiple hidden fields"),c.forEach(this.hiddenFieldsFillValue,function(a){this.debugMsg("Setting field with ID "+a.id+" to '"+a.value+"'");var b=c.byId(a.id);b&&c.attr(b,"value",a.value)},this)),this.formAction&&this.formNode&&(this.debugMsg("Setting action of form Node"),this.formNode.domNode?this.formNode.set("action",this.formAction):c.attr(this.formNode,"action",this.formAction)),this._trackClick(),this._actionFunc(),"back"==this.action?(this.debugMsg("Button Action: back"),
this._actionBack()):"link"==this.action?(this.debugMsg("Button Action: link"),this._actionLink()):"close"==this.action?(this.debugMsg("Button Action: close"),this._actionClose()):"popup"==this.action?(this.debugMsg("Button Action: popup"),this._actionPopup()):"print"==this.action?(this.debugMsg("Button Action: print"),this._actionPrint()):"func"==this.action?this.debugMsg("Button Action: func"):"submit"==this.action?(this.debugMsg("Button Action: submit"),this._actionSubmit()):"reset"==this.action?
(this.debugMsg("Button Action: reset"),this._actionReset()):this.debugWarn("Unknown Button action specified!")):this.debugMsg("Button Disabled - No Action performed");this.debugExit()},_actionBack:function(){this.debugEnter("_actionBack");history.back(-1);this.debugExit()},_actionLink:function(){this.debugEnter("_actionLink");this.url&&""!=this.url&&(window.location.href=this.url);this.debugExit()},_actionClose:function(){this.debugEnter("_actionClose");window.close();this.debugExit()},_actionPopup:function(){this.debugEnter("_actionPopup");
this.debugExit()},_actionPrint:function(){this.debugEnter("_actionPrint");window.print();this.debugExit()},_actionFunc:function(){this.debugEnter("_actionFunc");null!=this.func&&"string"==typeof this.func&&eval(this.func);this.debugExit()},_actionSubmit:function(){this.debugEnter("_actionSubmit");this.formNode||""!=this.submitId||this._findForm();(this.formNode||""!=this.submitId)&&this._submitForm();this.debugExit()},_actionReset:function(){this.debugEnter("_actionReset");this.formNode||""!=this.submitId||
this._findForm();(this.formNode||""!=this.submitId)&&this._resetForm();this.debugExit()},_setDisabledAttr:function(b){this.debugEnter("_setDisabledAttr");!0==b?(""!=this.cssClass&&c.removeClass(this.containerNode,this.cssClass),c.addClass(this.containerNode,this.cssClassDisabled),this.disabled=!0):!1==b&&(c.removeClass(this.containerNode,this.cssClassDisabled),""!=this.cssClass&&c.addClass(this.containerNode,this.cssClass),this.disabled=!1);this.debugExit()},_validate:function(){this.debugEnter("_validate");
if(null!=this.validationFunc&&"string"==typeof this.validationFunc)return-1===this.validationFunc.search(/\([^)]*\)/i)&&(this.debugMsg("Added closing function bracets to this.validationFunc",this.validationFunc),this.validationFunc+="()"),this.debugMsg("_validate: Run Val Fuction"),this.debugExit(),eval(this.validationFunc);this.debugWarn("_validate: No function to validate, taking a function name as STRING only!");this.debugExit();return!0},_submitForm:function(){this.debugEnter("_submitForm");if(""!=
this.submitId)if(g.byId(this.submitId)){var b=g.byId(this.submitId);this.debugEnter("Submitting Dijit Form");b.validate?b.validate()&&(this.disableAfterSubmit&&this.set("disabled",!0),b.submit()):(this.disableAfterSubmit&&this.set("disabled",!0),b.submit())}else c.byId(this.submitId)&&(this.debugEnter("Submitting Plain HTML Form"),this.disableAfterSubmit&&this.set("disabled",!0),c.byId(this.submitId).submit());else this.formNode&&this.formNode.submit();this.debugExit()},_resetForm:function(){this.debugEnter("_resetForm");
""!=this.submitId?g.byId(this.submitId)?g.byId(this.submitId).reset():c.byId(this.submitId)&&c.byId(this.submitId).reset():this.formNode&&this.formNode.reset();this.debugExit()},_trackClick:function(){this.debugEnter("_trackClick");this.debugMsg(this.trackFunc);null!=this.trackFunc&&"string"==typeof this.trackFunc&&(eval(this.trackFunc),this.debugMsg("Track Function executed"));this.debugExit()}})})},"dijit/_Templated":function(){define("./_WidgetBase ./_TemplatedMixin ./_WidgetsInTemplateMixin dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/_base/kernel".split(" "),
function(c,g,l,b,a,d,e){d.extend(c,{waiRole:"",waiState:""});return a("dijit._Templated",[g,l],{widgetsInTemplate:!1,constructor:function(){e.deprecated(this.declaredClass+": dijit._Templated deprecated, use dijit._TemplatedMixin and if necessary dijit._WidgetsInTemplateMixin","","2.0")},_processNode:function(a,c){var d=this.inherited(arguments),e=c(a,"waiRole");e&&a.setAttribute("role",e);(e=c(a,"waiState"))&&b.forEach(e.split(/\s*,\s*/),function(b){-1!=b.indexOf("-")&&(b=b.split("-"),a.setAttribute("aria-"+
b[0],b[1]))});return d}})})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(c,g,l,b,a){return l("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,widgetsInTemplate:!0,contextRequire:null,_beforeFillContent:function(){if(this.widgetsInTemplate){var c=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=!0);a.parse(c,{noStart:!this._earlyTemplatedStartup,
template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(b.hitch(this,function(a){this._startupWidgets=a;for(var b=0;b<a.length;b++)this._processTemplateNode(a[b],function(a,b){return a[b]},function(a,b,c){return b in a?a.connect(a,b,c):a.on(b,c,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");
}},_processTemplateNode:function(a,b,c){return b(a,"dojoType")||b(a,"data-dojo-type")?!0:this.inherited(arguments)},startup:function(){c.forEach(this._startupWidgets,function(a){a&&!a._started&&a.startup&&a.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"lh/helper/PopupHelper":function(){define(["dojo","dijit","dojox"],function(c,g,l){c.provide("lh.helper.PopupHelper");popupWin=function(b){if("object"==typeof b){var a=b.debug?!0:!1,d=b.url?b.url:"",e=b.nocookieurl?b.nocookieurl:
"",f=b.predef_size?b.predef_size:100,g=b.width?b.width:624,m=b.height?b.height:493,l=b.predef_navi?b.predef_navi:100,q=b.toolbar?b.toolbar:"",n=b.location?b.location:"",r=b.directories?b.directories:"",t=b.status?b.status:"",s=b.menubar?b.menubar:"",u=b.predef_resize?b.predef_resize:100,v=b.scrollbars?b.scrollbars:"",x=b.resizable?b.resizable:"",w=b.dependent?b.dependent:"",A=b.anchorId?b.anchorId:"",z=b.pxoffset?b.pxoffset:0,y=b.pyoffset?b.pyoffset:0,B=b.px?b.px:"",D=b.py?b.py:"",C=b.framename?b.framename:
"",E=b.fullscreen?b.fullscreen:"",I=b.focus?b.focus:"yes";b=b.objectreturn?b.objectreturn:"";-1==e.indexOf("http")&&(e="")}else return alert("JS-function 'popupWin': No Parameter!"),!1;if(""==d)return alert("JS-function 'popupWin': No URL!"),!1;""!=e&&(c.cookie.isSupported()||(d=e));switch(parseInt(f)){case 1:g=390;m=393;break;case 2:g=546;m=493;break;case 3:g=624;m=493;break;case 4:g=1024,m=768}switch(parseInt(l)){case 0:s=t=r=n=q="no";break;case 1:s=t=r=n=q="yes"}switch(parseInt(u)){case 0:x=v=
"no";break;case 1:x=v="yes"}"yes"==v&&(g+=16);if(""!=A)try{var M=document.getElementById(A),B=findPosX(M)+z,D=findPosY(M)+y;document.getElementById?isNaN(window.screenX)?(B=B-document.body.scrollLeft+window.screenLeft,D=D-document.body.scrollTop+window.screenTop):(B=B+window.screenX+(window.outerWidth-window.innerWidth)-window.pageXOffset,D=D+window.screenY+(window.outerHeight-24-window.innerHeight)-window.pageYOffset):document.all&&(B=B-document.body.scrollLeft+window.screenLeft,D=D-document.body.scrollTop+
window.screenTop);screen.availWidth<B+g&&(B+=screen.availWidth-(B+g));screen.availHeight<D+m&&(D+=screen.availHeight-(D+m))}catch(P){D=B=100}strAttr="width\x3d"+g+",height\x3d"+m;""!=q&&(strAttr=strAttr+",toolbar\x3d"+q);""!=n&&(strAttr=strAttr+",location\x3d"+n);""!=r&&(strAttr=strAttr+",directories\x3d"+r);""!=t&&(strAttr=strAttr+",status\x3d"+t);""!=s&&(strAttr=strAttr+",menubar\x3d"+s);""!=v&&(strAttr=strAttr+",scrollbars\x3d"+v);""!=x&&(strAttr=strAttr+",resizable\x3d"+x);""!=w&&(strAttr=strAttr+
",dependent\x3d"+w);""!=B&&(strAttr=strAttr+",left\x3d"+B);""!=D&&(strAttr=strAttr+",top\x3d"+D);a&&alert(strAttr);""==C&&(objNow=new Date,C="newPopupWin"+objNow.getHours()+objNow.getMinutes()+objNow.getSeconds());""!=d&&"undefined"!=typeof ed_wt_global&&(a=ed_wt_global(d),"undefined"!=typeof a&&""!=a&&0>d.indexOf("blank")&&(d=-1<d.indexOf("?")?d+"\x26"+a:d+"?"+a));strNewCmd="yes"==E?C+"\x3d window.open('"+d+"', '"+C+"');":C+"\x3d window.open('"+d+"','"+C+"', '"+strAttr+"');";eval(strNewCmd);try{return"yes"==
E&&(eval(C+".resizeTo(screen.availWidth,screen.availHeight)"),eval(C+".moveTo(0,0)")),"yes"==I&&eval(C+".focus()"),"yes"==b?eval(C):!1}catch(G){return!1}};openPopup=function(b,a,c,e,f,g,m,l,q,n){showPopup=!0;5!=q.indexOf("_")&&(null==getCookie(q)?""!=n&&(-1==n?setCookie(q,"TRUE",""):setCookie(q,"TRUE",n)):showPopup=!1);showPopup&&popupExtWinText(b,a,c,e,f,g,m,"")};findPosX=function(b){var a=0;if(b.offsetParent)for(;b.offsetParent;)a+=b.offsetLeft,b=b.offsetParent;else b.x&&(a+=b.x);return a};findPosY=
function(b){var a=0;if(b.offsetParent)for(;b.offsetParent;)a+=b.offsetTop,b=b.offsetParent;else b.y&&(a+=b.y);return a};lnkToParentWin=function(b){try{if(!window.opener)throw"error";if(window.opener.closed)throw"error";window.opener.location.href=b}catch(a){window.opener=eval("popupWin({url:'"+b+"',fullscreen:'yes',focus:'no',objectreturn:'yes'})")}window.focus();return!1}})},"lh/widget/form/KeySelect":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/form/Select","lh/util/logger"],
function(c,g,l,b){return c("lh.widget.form.KeySelect",[l,b],{debug:!1,constructor:function(a){this.debugEnter("constructor");g.mixin(this,a);this.debugExit()}})})},"dijit/form/Select":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/i18n dojo/_base/lang dojo/on dojo/sniff ./_FormSelectWidget ../_HasDropDown ../DropDownMenu ../MenuItem ../MenuSeparator ../Tooltip ../_KeyNavMixin ../registry dojo/text!./templates/Select.html dojo/i18n!./nls/validate".split(" "),
function(c,g,l,b,a,d,e,f,k,m,p,q,n,r,t,s,u,v){function x(a){return function(b){this._isLoaded?this.inherited(a,arguments):this.loadDropDown(e.hitch(this,a,b))}}var w=g("dijit.form._SelectMenu",q,{autoFocus:!0,buildRendering:function(){this.inherited(arguments);this.domNode.setAttribute("role","listbox")},postCreate:function(){this.inherited(arguments);this.own(f(this.domNode,"selectstart",function(a){a.preventDefault();a.stopPropagation()}))},focus:function(){var a=!1,b=this.parentWidget.value;e.isArray(b)&&
(b=b[b.length-1]);b&&c.forEach(this.parentWidget._getChildren(),function(c){c.option&&b===c.option.value&&(a=!0,this.focusChild(c,!1))},this);a||this.inherited(arguments)}});a=g("dijit.form.Select"+(k("dojo-bidi")?"_NoBidi":""),[m,p,s],{baseClass:"dijitSelect dijitValidationTextBox",templateString:v,_buttonInputDisabled:k("ie")?"disabled":"",required:!1,state:"",message:"",tooltipPosition:[],emptyLabel:"\x26#160;",_isLoaded:!1,_childrenLoaded:!1,_fillContent:function(){this.inherited(arguments);if(this.options.length&&
!this.value&&this.srcNodeRef){var a=this.srcNodeRef.selectedIndex||0;this._set("value",this.options[0<=a?a:0].value)}this.dropDown=new w({id:this.id+"_menu",parentWidget:this});b.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "))},_getMenuItemForOption:function(a){if(a.value||a.label){var b=e.hitch(this,"_setValueAttr",a);a=new n({option:a,label:a.label||this.emptyLabel,onClick:b,ownerDocument:this.ownerDocument,dir:this.dir,textDir:this.textDir,disabled:a.disabled||!1});a.focusNode.setAttribute("role",
"option");return a}return new r({ownerDocument:this.ownerDocument})},_addOptionItem:function(a){this.dropDown&&this.dropDown.addChild(this._getMenuItemForOption(a))},_getChildren:function(){return this.dropDown?this.dropDown.getChildren():[]},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},focusChild:function(a){a&&this.set("value",a.option)},_getFirst:function(){var a=this._getChildren();return a.length?a[0]:null},_getLast:function(){var a=this._getChildren();
return a.length?a[a.length-1]:null},childSelector:function(a){return(a=u.byNode(a))&&a.getParent()==this.dropDown},onKeyboardSearch:function(a,b,c,d){a&&this.focusChild(a)},_loadChildren:function(a){if(!0===a)if(this.dropDown&&(delete this.dropDown.focusedChild,this.focusedChild=null),this.options.length)this.inherited(arguments);else{c.forEach(this._getChildren(),function(a){a.destroyRecursive()});var b=new n({ownerDocument:this.ownerDocument,label:this.emptyLabel});this.dropDown.addChild(b)}else this._updateSelection();
this._isLoaded=!1;this._childrenLoaded=!0;this._loadingStore||this._setValueAttr(this.value,!1)},_refreshState:function(){this._started&&this.validate(this.focused)},startup:function(){this.inherited(arguments);this._refreshState()},_setValueAttr:function(a){this.inherited(arguments);l.set(this.valueNode,"value",this.get("value"));this._refreshState()},_setNameAttr:"valueNode",_setDisabledAttr:function(a){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(a){this._set("required",
a);this.focusNode.setAttribute("aria-required",a);this._refreshState()},_setOptionsAttr:function(a){this._isLoaded=!1;this._set("options",a)},_setDisplay:function(a){a=a||this.emptyLabel;this.containerNode.innerHTML='\x3cspan role\x3d"option" class\x3d"dijitReset dijitInline '+this.baseClass.replace(/\s+|$/g,"Label ")+'"\x3e'+a+"\x3c/span\x3e"},validate:function(a){a=this.disabled||this.isValid(a);this._set("state",a?"":this._hasBeenBlurred?"Error":"Incomplete");this.focusNode.setAttribute("aria-invalid",
a?"false":"true");var b=a?"":this._missingMsg;b&&this.focused&&this._hasBeenBlurred?t.show(b,this.domNode,this.tooltipPosition,!this.isLeftToRight()):t.hide(this.domNode);this._set("message",b);return a},isValid:function(){return!this.required||0===this.value||!/^\s*$/.test(this.value||"")},reset:function(){this.inherited(arguments);t.hide(this.domNode);this._refreshState()},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=d.getLocalization("dijit.form","validate",this.lang).missingMessage},
postCreate:function(){this.inherited(arguments);this.own(f(this.domNode,"selectstart",function(a){a.preventDefault();a.stopPropagation()}));this.domNode.setAttribute("aria-expanded","false")},_setStyleAttr:function(a){this.inherited(arguments);b.toggle(this.domNode,this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width)},isLoaded:function(){return this._isLoaded},loadDropDown:function(a){this._loadChildren(!0);this._isLoaded=!0;a()},destroy:function(a){this.dropDown&&!this.dropDown._destroyed&&
(this.dropDown.destroyRecursive(a),delete this.dropDown);this.inherited(arguments)},_onFocus:function(){this.validate(!0)},_onBlur:function(){t.hide(this.domNode);this.inherited(arguments);this.validate(!1)}});k("dojo-bidi")&&(a=g("dijit.form.Select",a,{_setDisplay:function(a){this.inherited(arguments);this.applyTextDir(this.containerNode)}}));a._Menu=w;a.prototype._onContainerKeydown=x("_onContainerKeydown");a.prototype._onContainerKeypress=x("_onContainerKeypress");return a})},"dijit/form/_FormSelectWidget":function(){define("dojo/_base/array dojo/_base/Deferred dojo/aspect dojo/data/util/sorter dojo/_base/declare dojo/dom dojo/dom-class dojo/_base/kernel dojo/_base/lang dojo/query dojo/when dojo/store/util/QueryResults ./_FormValueWidget".split(" "),
function(c,g,l,b,a,d,e,f,k,m,p,q,n){return a("dijit.form._FormSelectWidget",n,{multiple:!1,options:null,store:null,query:null,queryOptions:null,labelAttr:"",onFetch:null,sortByLabel:!0,loadChildrenOnOpen:!1,onLoadDeferred:null,getOptions:function(a){var b=this.options||[];if(null==a)return b;if(k.isArray(a))return c.map(a,"return this.getOptions(item);",this);k.isString(a)&&(a={value:a});k.isObject(a)&&(c.some(b,function(b,c){for(var d in a)if(!(d in b)||b[d]!=a[d])return!1;a=c;return!0})||(a=-1));
return 0<=a&&a<b.length?b[a]:null},addOption:function(a){c.forEach(k.isArray(a)?a:[a],function(a){a&&k.isObject(a)&&this.options.push(a)},this);this._loadChildren()},removeOption:function(a){a=this.getOptions(k.isArray(a)?a:[a]);c.forEach(a,function(a){a&&(this.options=c.filter(this.options,function(b){return b.value!==a.value||b.label!==a.label}),this._removeOptionItem(a))},this);this._loadChildren()},updateOption:function(a){c.forEach(k.isArray(a)?a:[a],function(a){var b=this.getOptions({value:a.value}),
c;if(b)for(c in a)b[c]=a[c]},this);this._loadChildren()},setStore:function(a,d,e){var f=this.store;e=e||{};if(f!==a){for(var m;m=this._notifyConnections.pop();)m.remove();a.get||(k.mixin(a,{_oldAPI:!0,get:function(a){var b=new g;this.fetchItemByIdentity({identity:a,onItem:function(a){b.resolve(a)},onError:function(a){b.reject(a)}});return b.promise},query:function(a,b){var c=new g(function(){d.abort&&d.abort()});c.total=new g;var d=this.fetch(k.mixin({query:a,onBegin:function(a){c.total.resolve(a)},
onComplete:function(a){c.resolve(a)},onError:function(a){c.reject(a)}},b));return new q(c)}}),a.getFeatures()["dojo.data.api.Notification"]&&(this._notifyConnections=[l.after(a,"onNew",k.hitch(this,"_onNewItem"),!0),l.after(a,"onDelete",k.hitch(this,"_onDeleteItem"),!0),l.after(a,"onSet",k.hitch(this,"_onSetItem"),!0)]));this._set("store",a)}this.options&&this.options.length&&this.removeOption(this.options);this._queryRes&&this._queryRes.close&&this._queryRes.close();this._observeHandle&&this._observeHandle.remove&&
(this._observeHandle.remove(),this._observeHandle=null);e.query&&(this._set("query",e.query),this._set("queryOptions",e.queryOptions));a&&(this._loadingStore=!0,this.onLoadDeferred=new g,this._queryRes=a.query(this.query,this.queryOptions),p(this._queryRes,k.hitch(this,function(f){if(this.sortByLabel&&!e.sort&&f.length)if(a.getValue)f.sort(b.createSortFunction([{attribute:a.getLabelAttributes(f[0])[0]}],a));else{var g=this.labelAttr;f.sort(function(a,b){return a[g]>b[g]?1:b[g]>a[g]?-1:0})}e.onFetch&&
(f=e.onFetch.call(this,f,e));c.forEach(f,function(a){this._addOptionForItem(a)},this);this._queryRes.observe&&(this._observeHandle=this._queryRes.observe(k.hitch(this,function(a,b,c){b==c?this._onSetItem(a):(-1!=b&&this._onDeleteItem(a),-1!=c&&this._onNewItem(a))}),!0));this._loadingStore=!1;this.set("value","_pendingValue"in this?this._pendingValue:d);delete this._pendingValue;this.loadChildrenOnOpen?this._pseudoLoadChildren(f):this._loadChildren();this.onLoadDeferred.resolve(!0);this.onSetStore()}),
function(a){this.onLoadDeferred.reject(a)}));return f},_setValueAttr:function(a,b){this._onChangeActive||(b=null);if(this._loadingStore)this._pendingValue=a;else if(null!=a){a=k.isArray(a)?c.map(a,function(a){return k.isObject(a)?a:{value:a}}):k.isObject(a)?[a]:[{value:a}];a=c.filter(this.getOptions(a),function(a){return a&&a.value});var d=this.getOptions()||[];this.multiple||a[0]&&a[0].value||!d.length||(a[0]=d[0]);c.forEach(d,function(b){b.selected=c.some(a,function(a){return a.value===b.value})});
d=c.map(a,function(a){return a.value});if("undefined"!=typeof d&&"undefined"!=typeof d[0]){var e=c.map(a,function(a){return a.label});this._setDisplay(this.multiple?e:e[0]);this.inherited(arguments,[this.multiple?d:d[0],b]);this._updateSelection()}}},_getDisplayedValueAttr:function(){var a=c.map([].concat(this.get("selectedOptions")),function(a){return a&&"label"in a?a.label:a?a.value:null},this);return this.multiple?a:a[0]},_setDisplayedValueAttr:function(a){this.set("value",this.getOptions("string"==
typeof a?{label:a}:a))},_loadChildren:function(){this._loadingStore||(c.forEach(this._getChildren(),function(a){a.destroyRecursive()}),c.forEach(this.options,this._addOptionItem,this),this._updateSelection())},_updateSelection:function(){this.focusedChild=null;this._set("value",this._getValueFromOpts());var a=[].concat(this.value);if(a&&a[0]){var b=this;c.forEach(this._getChildren(),function(d){var f=c.some(a,function(a){return d.option&&a===d.option.value});f&&!b.multiple&&(b.focusedChild=d);e.toggle(d.domNode,
this.baseClass.replace(/\s+|$/g,"SelectedOption "),f);d.domNode.setAttribute("aria-selected",f?"true":"false")},this)}},_getValueFromOpts:function(){var a=this.getOptions()||[];if(!this.multiple&&a.length){var b=c.filter(a,function(a){return a.selected})[0];if(b&&b.value)return b.value;a[0].selected=!0;return a[0].value}return this.multiple?c.map(c.filter(a,function(a){return a.selected}),function(a){return a.value})||[]:""},_onNewItem:function(a,b){b&&b.parent||this._addOptionForItem(a)},_onDeleteItem:function(a){this.removeOption({value:this.store.getIdentity(a)})},
_onSetItem:function(a){this.updateOption(this._getOptionObjForItem(a))},_getOptionObjForItem:function(a){var b=this.store,c=this.labelAttr&&this.labelAttr in a?a[this.labelAttr]:b.getLabel(a);return{value:c?b.getIdentity(a):null,label:c,item:a}},_addOptionForItem:function(a){var b=this.store;b.isItemLoaded&&!b.isItemLoaded(a)?b.loadItem({item:a,onItem:function(a){this._addOptionForItem(a)},scope:this}):(a=this._getOptionObjForItem(a),this.addOption(a))},constructor:function(a){this._oValue=(a||{}).value||
null;this._notifyConnections=[]},buildRendering:function(){this.inherited(arguments);d.setSelectable(this.focusNode,!1)},_fillContent:function(){this.options||(this.options=this.srcNodeRef?m("\x3e *",this.srcNodeRef).map(function(a){return"separator"===a.getAttribute("type")?{value:"",label:"",selected:!1,disabled:!1}:{value:a.getAttribute("data-"+f._scopeName+"-value")||a.getAttribute("value"),label:String(a.innerHTML),selected:a.getAttribute("selected")||!1,disabled:a.getAttribute("disabled")||
!1}},this):[]);this.value?this.multiple&&"string"==typeof this.value&&this._set("value",this.value.split(",")):this._set("value",this._getValueFromOpts())},postCreate:function(){this.inherited(arguments);l.after(this,"onChange",k.hitch(this,"_updateSelection"));var a=this.store;a&&(a.getIdentity||a.getFeatures()["dojo.data.api.Identity"])&&(this.store=null,this.setStore(a,this._oValue))},startup:function(){this._loadChildren();this.inherited(arguments)},destroy:function(){for(var a;a=this._notifyConnections.pop();)a.remove();
this._queryRes&&this._queryRes.close&&this._queryRes.close();this._observeHandle&&this._observeHandle.remove&&(this._observeHandle.remove(),this._observeHandle=null);this.inherited(arguments)},_addOptionItem:function(){},_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return[]},_getSelectedOptionsAttr:function(){return this.getOptions({selected:!0})},_pseudoLoadChildren:function(){},onSetStore:function(){}})})},"dijit/DropDownMenu":function(){define(["dojo/_base/declare",
"dojo/keys","dojo/text!./templates/Menu.html","./_OnDijitClickMixin","./_MenuBase"],function(c,g,l,b,a){return c("dijit.DropDownMenu",[a,b],{templateString:l,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev()},_onDownArrow:function(){this.focusNext()},_onRightArrow:function(a){this._moveToPopup(a);a.stopPropagation();a.preventDefault()},_onLeftArrow:function(a){if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);else a.stopPropagation(),a.preventDefault()}})})},
"dijit/_MenuBase":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/lang dojo/mouse dojo/on dojo/window ./a11yclick ./registry ./_Widget ./_CssStateMixin ./_KeyNavContainer ./_TemplatedMixin".split(" "),function(c,g,l,b,a,d,e,f,k,m,p,q,n,r,t){return g("dijit._MenuBase",[q,t,r,n],{selected:null,_setSelectedAttr:function(a){this.selected!=a&&(this.selected&&(this.selected._setSelected(!1),this._onChildDeselect(this.selected)),a&&a._setSelected(!0),
this._set("selected",a))},activated:!1,_setActivatedAttr:function(b){a.toggle(this.domNode,"dijitMenuActive",b);a.toggle(this.domNode,"dijitMenuPassive",!b);this._set("activated",b)},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:!1,childSelector:function(a){var b=p.byNode(a);return a.parentNode==this.containerNode&&b&&b.focus},postCreate:function(){var a=this,b="string"==typeof this.childSelector?this.childSelector:d.hitch(this,"childSelector");this.own(f(this.containerNode,
f.selector(b,e.enter),function(){a.onItemHover(p.byNode(this))}),f(this.containerNode,f.selector(b,e.leave),function(){a.onItemUnhover(p.byNode(this))}),f(this.containerNode,f.selector(b,m),function(b){a.onItemClick(p.byNode(this),b);b.stopPropagation();b.preventDefault()}));this.inherited(arguments)},onKeyboardSearch:function(a,b,c,d){this.inherited(arguments);if(a&&(-1==d||a.popup&&1==d))this.onItemClick(a,b)},_keyboardSearchCompare:function(a,b){return a.shortcutKey?b==a.shortcutKey.toLowerCase()?
-1:0:this.inherited(arguments)?1:0},onExecute:function(){},onCancel:function(){},_moveToPopup:function(a){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,a);else(a=this._getTopMenu())&&a._isMenuBar&&a.focusNext()},_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer()},onItemHover:function(a){this.activated?(this.set("selected",a),!a.popup||a.disabled||this.hover_timer||(this.hover_timer=this.defer(function(){this._openItemPopup(a)},
this.popupDelay))):Infinity>this.passivePopupDelay&&(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.passive_hover_timer=this.defer(function(){this.onItemClick(a,{type:"click"})},this.passivePopupDelay));this._hoveredChild=a;a._set("hovering",!0)},_onChildDeselect:function(a){this._stopPopupTimer();this.currentPopupItem==a&&(this._stopPendingCloseTimer(),this._pendingClose_timer=this.defer(function(){this.currentPopupItem=this._pendingClose_timer=null;a._closePopup()},this.popupDelay))},
onItemUnhover:function(a){this._hoveredChild==a&&(this._hoveredChild=null);this.passive_hover_timer&&(this.passive_hover_timer.remove(),this.passive_hover_timer=null);a._set("hovering",!1)},_stopPopupTimer:function(){this.hover_timer&&(this.hover_timer=this.hover_timer.remove())},_stopPendingCloseTimer:function(){this._pendingClose_timer&&(this._pendingClose_timer=this._pendingClose_timer.remove())},_getTopMenu:function(){for(var a=this;a.parentMenu;a=a.parentMenu);return a},onItemClick:function(a,
b){this.passive_hover_timer&&this.passive_hover_timer.remove();this.focusChild(a);if(a.disabled)return!1;if(a.popup){this.set("selected",a);this.set("activated",!0);var c=/^key/.test(b._origType||b.type)||0==b.clientX&&0==b.clientY;this._openItemPopup(a,c)}else this.onExecute(),a._onClick?a._onClick(b):a.onClick(b)},_openItemPopup:function(a,b){if(a!=this.currentPopupItem){this.currentPopupItem&&(this._stopPendingCloseTimer(),this.currentPopupItem._closePopup());this._stopPopupTimer();var c=a.popup;
c.parentMenu=this;this.own(this._mouseoverHandle=f.once(c.domNode,"mouseover",d.hitch(this,"_onPopupHover")));var e=this;a._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){b&&e.focusChild(a);e._cleanUp()},onExecute:d.hitch(this,"_cleanUp",!0),onClose:function(){e._mouseoverHandle&&(e._mouseoverHandle.remove(),delete e._mouseoverHandle)}},b);this.currentPopupItem=a}},onOpen:function(){this.isShowingNow=!0;this.set("activated",!0)},onClose:function(){this.set("activated",
!1);this.set("selected",null);this.isShowingNow=!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();this.currentPopupItem&&(this.focused&&(b.set(this.selected.focusNode,"tabIndex",this.tabIndex),this.selected.focusNode.focus()),this.currentPopupItem._closePopup(),this.currentPopupItem=null)},_onItemFocus:function(a){if(this._hoveredChild&&this._hoveredChild!=a)this.onItemUnhover(this._hoveredChild);this.set("selected",a)},_onBlur:function(){this._cleanUp(!0);this.inherited(arguments)},
_cleanUp:function(a){this._closeChild();"undefined"==typeof this.isShowingNow&&this.set("activated",!1);a&&this.set("selected",null)}})})},"dijit/_KeyNavContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/kernel dojo/keys dojo/_base/lang ./registry ./_Container ./_FocusMixin ./_KeyNavMixin".split(" "),function(c,g,l,b,a,d,e,f,k,m){return g("dijit._KeyNavContainer",[k,m,f],{connectKeyNavHandlers:function(b,e){var f=this._keyNavCodes={},g=d.hitch(this,"focusPrev"),
k=d.hitch(this,"focusNext");c.forEach(b,function(a){f[a]=g});c.forEach(e,function(a){f[a]=k});f[a.HOME]=d.hitch(this,"focusFirstChild");f[a.END]=d.hitch(this,"focusLastChild")},startupKeyNavChildren:function(){b.deprecated("startupKeyNavChildren() call no longer needed","","2.0")},startup:function(){this.inherited(arguments);c.forEach(this.getChildren(),d.hitch(this,"_startupChild"))},addChild:function(a,b){this.inherited(arguments);this._startupChild(a)},_startupChild:function(a){a.set("tabIndex",
"-1")},_getFirst:function(){var a=this.getChildren();return a.length?a[0]:null},_getLast:function(){var a=this.getChildren();return a.length?a[a.length-1]:null},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1))},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),!0)},childSelector:function(a){return(a=e.byNode(a))&&a.getParent()==this}})})},"dijit/_KeyNavMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dijit/registry dijit/_FocusMixin".split(" "),
function(c,g,l,b,a,d,e,f){return g("dijit._KeyNavMixin",f,{tabIndex:"0",childSelector:null,postCreate:function(){this.inherited(arguments);l.set(this.domNode,"tabIndex",this.tabIndex);if(!this._keyNavCodes){var c=this._keyNavCodes={};c[b.HOME]=a.hitch(this,"focusFirstChild");c[b.END]=a.hitch(this,"focusLastChild");c[this.isLeftToRight()?b.LEFT_ARROW:b.RIGHT_ARROW]=a.hitch(this,"_onLeftArrow");c[this.isLeftToRight()?b.RIGHT_ARROW:b.LEFT_ARROW]=a.hitch(this,"_onRightArrow");c[b.UP_ARROW]=a.hitch(this,
"_onUpArrow");c[b.DOWN_ARROW]=a.hitch(this,"_onDownArrow")}var f=this,c="string"==typeof this.childSelector?this.childSelector:a.hitch(this,"childSelector");this.own(d(this.domNode,"keypress",a.hitch(this,"_onContainerKeypress")),d(this.domNode,"keydown",a.hitch(this,"_onContainerKeydown")),d(this.domNode,"focus",a.hitch(this,"_onContainerFocus")),d(this.containerNode,d.selector(c,"focusin"),function(a){f._onChildFocus(e.getEnclosingWidget(this),a)}))},_onLeftArrow:function(){},_onRightArrow:function(){},
_onUpArrow:function(){},_onDownArrow:function(){},focus:function(){this.focusFirstChild()},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1)},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1)},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild())},focusLastChild:function(){this.focusChild(this._getLastFocusableChild())},focusChild:function(a,b){a&&(this.focusedChild&&a!==this.focusedChild&&this._onChildBlur(this.focusedChild),
a.set("tabIndex",this.tabIndex),a.focus(b?"end":"start"))},_onContainerFocus:function(a){a.target!==this.domNode||this.focusedChild||this.focus()},_onFocus:function(){l.set(this.domNode,"tabIndex","-1");this.inherited(arguments)},_onBlur:function(a){l.set(this.domNode,"tabIndex",this.tabIndex);this.focusedChild&&(this.focusedChild.set("tabIndex","-1"),this.lastFocusedChild=this.focusedChild,this._set("focusedChild",null));this.inherited(arguments)},_onChildFocus:function(a){a&&a!=this.focusedChild&&
(this.focusedChild&&!this.focusedChild._destroyed&&this.focusedChild.set("tabIndex","-1"),a.set("tabIndex",this.tabIndex),this.lastFocused=a,this._set("focusedChild",a))},_searchString:"",multiCharSearchDuration:1E3,onKeyboardSearch:function(a,b,c,d){a&&this.focusChild(a)},_keyboardSearchCompare:function(a,b){var c=a.domNode,c=(a.label||(c.focusNode?c.focusNode.label:"")||c.innerText||c.textContent||"").replace(/^\s+/,"").substr(0,b.length).toLowerCase();return b.length&&c==b?-1:0},_onContainerKeydown:function(a){var c=
this._keyNavCodes[a.keyCode];c?(c(a,this.focusedChild),a.stopPropagation(),a.preventDefault(),this._searchString=""):a.keyCode!=b.SPACE||!this._searchTimer||a.ctrlKey||a.altKey||a.metaKey||(a.stopImmediatePropagation(),a.preventDefault(),this._keyboardSearch(a," "))},_onContainerKeypress:function(a){a.charCode<=b.SPACE||a.ctrlKey||a.altKey||a.metaKey||(a.preventDefault(),a.stopPropagation(),this._keyboardSearch(a,String.fromCharCode(a.charCode).toLowerCase()))},_keyboardSearch:function(b,c){var d=
null,e,f=0;a.hitch(this,function(){this._searchTimer&&this._searchTimer.remove();this._searchString+=c;var a=/^(.)\1*$/.test(this._searchString)?1:this._searchString.length;e=this._searchString.substr(0,a);this._searchTimer=this.defer(function(){this._searchTimer=null;this._searchString=""},this.multiCharSearchDuration);var b=this.focusedChild||null;if(1==a||!b)if(b=this._getNextFocusableChild(b,1),!b)return;a=b;do{var g=this._keyboardSearchCompare(b,e);g&&0==f++&&(d=b);if(-1==g){f=-1;break}b=this._getNextFocusableChild(b,
1)}while(b!=a)})();this.onKeyboardSearch(d,b,e,f)},_onChildBlur:function(){},_getNextFocusableChild:function(a,b){var c=a;do{if(a)a=this._getNext(a,b);else if(a=this[0<b?"_getFirst":"_getLast"](),!a)break;if(null!=a&&a!=c&&a.isFocusable())return a}while(a!=c);return null},_getFirst:function(){return null},_getLast:function(){return null},_getNext:function(a,b){if(a)for(a=a.domNode;a;)if((a=a[0>b?"previousSibling":"nextSibling"])&&"getAttribute"in a){var c=e.byNode(a);if(c)return c}return null}})})},
"dijit/MenuItem":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/kernel dojo/sniff dojo/_base/lang ./_Widget ./_TemplatedMixin ./_Contained ./_CssStateMixin dojo/text!./templates/MenuItem.html".split(" "),function(c,g,l,b,a,d,e,f,k,m,p,q){e=c("dijit.MenuItem"+(d("dojo-bidi")?"_NoBidi":""),[f,k,m,p],{templateString:q,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(a){this._set("label",a);var b="",c;c=a.search(/{\S}/);if(0<=c){var b=a.charAt(c+1),d=a.substr(0,
c);a=a.substr(c+3);c=d+b+a;a=d+'\x3cspan class\x3d"dijitMenuItemShortcutKey"\x3e'+b+"\x3c/span\x3e"+a}else c=a;this.domNode.setAttribute("aria-label",c+" "+this.accelKey);this.containerNode.innerHTML=a;this._set("shortcutKey",b)},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:!1,_fillContent:function(a){!a||"label"in this.params||this._set("label",a.innerHTML)},buildRendering:function(){this.inherited(arguments);l.set(this.containerNode,"id",this.id+
"_text");this.accelKeyNode&&l.set(this.accelKeyNode,"id",this.id+"_accel");g.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==d("ie")&&this.containerNode.focus(),this.focusNode.focus()}catch(a){}},_onFocus:function(){this.getParent()._onItemFocus(this);this.inherited(arguments)},_setSelected:function(a){b.toggle(this.domNode,"dijitMenuItemSelected",a)},setLabel:function(b){a.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");
this.set("label",b)},setDisabled:function(b){a.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",b)},_setDisabledAttr:function(a){this.focusNode.setAttribute("aria-disabled",a?"true":"false");this._set("disabled",a)},_setAccelKeyAttr:function(a){this.accelKeyNode&&(this.accelKeyNode.style.display=a?"":"none",this.accelKeyNode.innerHTML=a,l.set(this.containerNode,"colSpan",a?"1":"2"));this._set("accelKey",a)}});d("dojo-bidi")&&(e=
c("dijit.MenuItem",e,{_setLabelAttr:function(a){this.inherited(arguments);"auto"===this.textDir&&this.applyTextDir(this.textDirNode)}}));return e})},"dijit/MenuSeparator":function(){define("dojo/_base/declare dojo/dom ./_WidgetBase ./_TemplatedMixin ./_Contained dojo/text!./templates/MenuSeparator.html".split(" "),function(c,g,l,b,a,d){return c("dijit.MenuSeparator",[l,b,a],{templateString:d,buildRendering:function(){this.inherited(arguments);g.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}})})},
"lh/helper/PopupHelperGeneral":function(){define(["dojo","dijit","dojox"],function(c,g,l){c.provide("lh.helper.PopupHelperGeneral");open_app_pu_2=function(b,a,c,e,f){objPos=calculatePopupPosition(f,c,e);g&&g.close();var g=window.open(b,a,"width\x3d"+e+",height\x3d"+c+",left\x3d"+objPos.x+",top\x3d"+objPos.y+",resizable");g.focus()};getAnchorPosition=function(b){var a={},c=0,e=0,f=e=c=!1;document.getElementById?c=!0:document.all?e=!0:document.layers&&(f=!0);if(c&&document.all)c=AnchorPosition_getPageOffsetLeft(document.all[b]),
e=AnchorPosition_getPageOffsetTop(document.all[b]);else if(c)b=document.getElementById(b),c=AnchorPosition_getPageOffsetLeft(b),e=AnchorPosition_getPageOffsetTop(b);else if(e)c=AnchorPosition_getPageOffsetLeft(document.all[b]),e=AnchorPosition_getPageOffsetTop(document.all[b]);else if(f){for(e=c=0;e<document.anchors.length;e++)if(document.anchors[e].name==b){c=1;break}if(0==c)return a.x=0,a.y=0,a;c=document.anchors[e].x;e=document.anchors[e].y}else return a.x=0,a.y=0,a;a.x=c;a.y=e;return a};getAnchorWindowPosition=
function(b){b=getAnchorPosition(b);var a=0,c=0;document.getElementById?isNaN(window.screenX)?(a=b.x-document.body.scrollLeft+window.screenLeft,c=b.y-document.body.scrollTop+window.screenTop):(a=b.x+window.screenX+(window.outerWidth-window.innerWidth)-window.pageXOffset,c=b.y+window.screenY+(window.outerHeight-24-window.innerHeight)-window.pageYOffset):document.all?(a=b.x-document.body.scrollLeft+window.screenLeft,c=b.y-document.body.scrollTop+window.screenTop):document.layers&&(a=b.x+window.screenX+
(window.outerWidth-window.innerWidth)-window.pageXOffset,c=b.y+window.screenY+(window.outerHeight-24-window.innerHeight)-window.pageYOffset);b.x=a;b.y=c;return b};AnchorPosition_getPageOffsetLeft=function(b){for(var a=b.offsetLeft;null!=(b=b.offsetParent);)a+=b.offsetLeft;return a};AnchorPosition_getWindowOffsetLeft=function(b){return AnchorPosition_getPageOffsetLeft(b)-document.body.scrollLeft};AnchorPosition_getPageOffsetTop=function(b){for(var a=b.offsetTop;null!=(b=b.offsetParent);)a+=b.offsetTop;
return a};AnchorPosition_getWindowOffsetTop=function(b){return AnchorPosition_getPageOffsetTop(b)-document.body.scrollTop};calculatePopupPosition=function(b,a,d){var e={},f=0;e.x=100;e.y=100;try{var g=getAnchorWindowPosition(b),m=g.x,l=g.y;c.isIE&&(f=30);screen.availHeight<l+a+f&&(l+=screen.availHeight-(l+a+f));screen.availWidth<m+d+f&&(m+=screen.availWidth-(m+d+f))}catch(q){}e.x=m;e.y=l;e.h=a;e.w=d;return e};open_app_pu_fsubmit=function(b,a,d,e,f,g){objForm=c.byId(b);sOldAction=objForm.action;sOldTarget=
objForm.target;objForm.action=a;objPos=calculatePopupPosition(g,e,f);m&&m.close();var m=window.open("",d,"width\x3d"+f+",height\x3d"+e+",left\x3d"+objPos.x+",top\x3d"+objPos.y+",resizable");m.moveTo(objPos.x,objPos.y);m.focus();objForm.target=d;objForm.submit();objForm.action=sOldAction;objForm.target=sOldTarget};open_app_pu=function(b,a,c,e,f){(5>arguments.length?window.open(b,a,"width\x3d"+e+",height\x3d"+c+",left\x3d200,top\x3d200,resizable\x3dyes"):f?window.open(b,a,"width\x3d"+e+",height\x3d"+
c+",left\x3d200,top\x3d200,resizable\x3dyes,scrollbars\x3dyes"):window.open(b,a,"width\x3d"+e+",height\x3d"+c+",left\x3d200,top\x3d200,resizable\x3dyes")).focus()}})},"lh/helper/PopupHelperExtended":function(){define(["dojo","dijit","dojox"],function(c,g,l){c.provide("lh.helper.PopupHelperExtended");popupExtWin=function(b,a,d,e,f,g){d=new String(d);a=0==f?"toolbar\x3dno,location\x3dno,directories\x3dno,status\x3dno,menubar\x3dno,":"toolbar\x3dyes,menubar\x3dyes,location\x3dyes,status\x3dyes,directories\x3dyes,";
0==e?(a+="scrollbars\x3dno,resizable\x3dno,",widthOffSet=0):(a+="scrollbars\x3dyes,resizable\x3dyes,",widthOffSet=16);newWinSize=d.charAt(0);switch(parseInt(newWinSize)){case 0:theFirst=d.indexOf("-");theSecond=d.lastIndexOf("-");winWidth=d.slice(theFirst+1,theSecond);winHeight=d.slice(theSecond+1);break;case 1:winWidth=390;winHeight=393;break;case 2:winWidth=546;winHeight=493;break;case 3:winWidth=624;winHeight=493;break;case 4:winWidth=1024;winHeight=768;break;default:winWidth=624,winHeight=493}a=
a+"width\x3d"+(parseInt(winWidth)+parseInt(widthOffSet))+",height\x3d"+winHeight;jetzt=new Date;windowName="newExtPopupWin"+jetzt.getHours()+jetzt.getMinutes()+jetzt.getSeconds();wurllist=b.split("?");newwurlback="";for(i=2;i<wurllist.length;)newwurlback=newwurlback+"?"+wurllist[i],i++;newwurlback=escape(newwurlback);b=wurllist[0];1<wurllist.length&&(b=b+"?"+wurllist[1]);b+=newwurlback;try{if(""!=b){var m=ed_wt_global(b);"undefined"!=typeof m&&""!=m&&0>b.indexOf("blank")&&(b=-1<b.indexOf("?")?b+"\x26"+
m:b+"?"+m)}}catch(l){}b=b.replace(/'/g,"%27");newCmd=windowName+"\x3d window.open('"+b+"', '"+windowName+"', '"+a+"');";eval(newCmd);g&&c.stopEvent(g);return!1}})},"lh/helper/keepAlive":function(){define(["dojo","dijit","dojox","dojo/require!lh/util/logger"],function(c,g,l){c.provide("lh.helper.keepAlive");c.require("lh.util.logger");c.declare("lh.helper.keepAlive",lh.util.logger,{debug:!1,jsClassName:"lh.helper.keepAlive",url:"",method:"get",constructor:function(b){this.debugEnter("constructor");
c.mixin(this,b);this.debugExit()},sendKeepAlive:function(b){this.debugEnter("sendKeepAlive");""!=this.url&&("get"==this.method?c.xhrGet({url:this.url,content:b,load:this.handleResponse,error:this.handleResponse}):"post"==this.method&&c.xhrPost({url:this.url,content:b,load:this.handleResponse,error:this.handleResponse}));this.debugExit()},handleResponse:function(b,a){}})})},"pi/headerLayer":function(){define(["dojo","dijit","dojox","dojo/require!dojo/NodeList-traverse"],function(c,g,l){c.provide("pi.headerLayer");
c.require("dojo.NodeList-traverse");c.addOnLoad(function(){7!=c.isIE&&8!=c.isIE||c.query(".meta_navigation .pagelink a").forEach(function(b){c.hasAttr(b,"onclick")&&(c.attr(b,"href","#"),c.attr(b,"target",""))})})})},"pi/footerLayer":function(){define(["dojo","dijit","dojox","dojo/require!dojo/NodeList-traverse"],function(c,g,l){c.provide("pi.footerLayer");c.require("dojo.NodeList-traverse");c.addOnLoad(function(){var b=c.query(".li-ft-expand \x3e a").forEach(function(b,g,m){c.connect(b,"onclick",
function(m){m.preventDefault();m=c.query(b).parent()[0];var l=c.hasClass(m,"current");d();var n=c.query(".footerContent",m)[0];null==n&&(n=c.query(".footernav .footerContent")[g]);if(l)a(n,!1);else{var r=c.connect(document.body,"click",function(a){a=a.target;var e=c.query(".li-ft-expand.current"),g=c.query(".footerContent[aria-expanded\x3d'true']"),e=c.isDescendant(a,e[0]),g=c.isDescendant(a,g[0]);e||g||b==a||(d(),c.disconnect(r))});t&&c.disconnect(t);var t=c.connect(b,"keypress",function(a){40===
a.keyCode&&(a=c.query(".li-ft-expand.current a"),1<a.length&&a[1].focus())}),s=c.connect(document.body,"keypress",function(a){27===a.keyCode&&(a=c.query(".li-ft-expand.current"),d(),c.disconnect(s),a=$("a",a),0<a.length&&a[0].focus())});c.addClass(m,"current");e(b);c.style(n,"display","block");a(n,!0);c.attr(n,"aria-expanded","true")}})});c.query(".footernav .singleline \x3eul \x3eli\x3ea").forEach(function(a,b,e){var g=!1;c.connect(a,"mousedown",function(a){g=!0});c.connect(a,"focus",function(a){a=
document.activeElement;var b=c.query(".footernav"),e=c.query(".li-ft-expand.current"),b=c.isDescendant(a,b[0]);if(0<e.length){if(c.query(a).parent[0]==e[0])var f=!0;b||f||g||d()}g=!1})});var a=function(a,b){var d=c.query(a).parents(".footernav")[0],e=c.query(a).parents(".singleline")[0],d=c.getMarginBox(d);c.style(a,"width",d.w-40+"px");b?(d=c.getMarginBox(a),c.style(e,"paddingBottom",d.h-20+"px")):c.style(e,"paddingBottom","0")},d=function(){var a=c.query(".li-ft-expand.current");if(0<a.length){a.removeClass("current");
e(a[0]);var d=c.attr(c.query("a.ft-expand",a[0])[0],"aria-controls");if(null==d){var g=0;0<a.length&&c.query(".li-ft-expand").forEach(function(b,c){b===a[0]&&(g=c)});d=c.query(".footerContent")[g]}else d=c.byId(d);c.style(d,"display","none");c.attr(d,"aria-expanded","false");d=c.query(b).parents(".singleline")[0];c.style(d,"paddingBottom","0")}},e=function(a){c.query(".sr-only[aria-hidden]",a).forEach(function(a){"false"===c.attr(a,"aria-hidden")?c.attr(a,"aria-hidden","true"):c.attr(a,"aria-hidden",
"false")})}})})},"pi/labelFunctions":function(){define(["dojo","dijit","dojox"],function(c,g,l){function b(b,c,g){if(b){var m=document.createElement("input");m.type=c;b.size&&(m.size=b.size);b.label&&(m.label=b.label);b.value&&(m.value=b.value);b.name&&(m.name=b.name);b.id&&(m.id=b.id);b.className&&(m.className=b.className);b.parentNode.replaceChild(m,b);!0!==g&&setTimeout(function(){m.focus()},10);setTimeout(function(){a(m)},20);setTimeout(function(){d(m,!1)},20);return m}}function a(a,d){!1!==d&&
(d=!0);c.connect(a,"onfocus",function(a){this.value==this.label&&(this.value="");c.hasClass(this,"input_password")&&!0===d&&"password"!=this.type&&(c.isIE?b(this,"password"):this.type="password")})}function d(a,d){!1!==d&&(d=!0);c.connect(a,"onblur",function(a){a=this.value;var e=this.label;!e||a&&0!==a.length||(c.hasClass(this,"input_password")&&(c.isIE?(this.value="",b(this,"text",!0).value=e):!0===d&&(this.type="text")),setTimeout(c.hitch(this,function(){""==this.value&&(this.value=e)}),50))})}
c.provide("pi.labelFunctions");addLabel=function(e,f){var g=c.byId(e);g&&(-1!=f.indexOf("\x26quot;")&&(f=f.replace("\x26quot;",'"')),-1!=f.indexOf("\x26prime;")&&(f=f.replace("\x26prime;","'")),g.label=f,g.value!=g.label&&c.hasClass(g,"input_password")&&(c.isIE?b(g,"password"):this.type="password"),"password"!=g.type&&(g.value=f),a(g),d(g))}})},"lh/handler/LayerHandler":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-class dojo/on dojo/query dojo/topic dojo/dom-attr lh/util/logger".split(" "),
function(c,g,l,b,a,d,e,f,k){return c("lh/handler/LayerHandler",k,{debug:!1,button_id:"",hidden_layer_sel:"",is_open:!1,open_layer_param:"",is_secure:!1,react_to_nav_flyout:!0,react_to_escape:!0,_nav_flyout_handle:null,_active_class:"active",_hover_class:"hover",_hidden_class:"x-hidden",_stage_overlay_id:"stage-overlay",_button:null,_button_link:null,_hidden_layer:null,constructor:function(b){this.debugEnter("constructor");c.safeMixin(this,b);this._button=l.byId(this.button_id);this._hidden_layer=
d(this.hidden_layer_sel);this._stage_overlay=l.byId(this._stage_overlay_id);this._button&&0<this._hidden_layer.length&&(this._button_link=d("a#"+this.button_id+", #"+this.button_id+" a"));0<this._button_link.length&&(this._button_link=this._button_link[0]);a(this._button,"mouseenter",g.hitch(this,this._hover_button));a(this._button,"mouseleave",g.hitch(this,this._unhover_button));a(this._button,"focus",g.hitch(this,this._hover_button));a(this._button,"blur",g.hitch(this,this._unhover_button));a(this._button,
"click",g.hitch(this,this._click_button));this.react_to_nav_flyout&&(this._nav_flyout_handle=e.subscribe("lh/navigation/flyout/open",g.hitch(this,function(a){a&&this.is_open&&this._hide_layer()})));if(this.react_to_escape){var f=this;a(document.body,"keypress",function(a){f.is_open&&27===(a.keyCode||a.which)&&(f._hide_layer(),f._button.focus())})}""!==this.open_layer_param&&-1!==window.location.href.indexOf(this.open_layer_param)&&(this.is_open=!0);this.is_open&&this._click_button();this.debugExit()},
_click_button:function(a){this.debugEnter("_click_button");a&&(a.stopPropagation(),a.preventDefault());"http:"===window.location.protocol&&this.is_secure&&!this.is_local?(this.debugMsg("Redirecting to HTTPS"),a=window.location.href,a=-1!==a.indexOf(this.open_layer_param)?window.location.href:-1!==a.indexOf("?")?window.location.href+"\x26"+this.open_layer_param:window.location.href+"?"+this.open_layer_param,this.debugMsg("Target: "+a),window.location.href=a.replace("http://","https://")):b.contains(this._hidden_layer[0],
this._hidden_class)?this._show_layer():this._hide_layer();this.debugExit()},_hover_button:function(){this.debugEnter("_hover_button");b.add(this._button,this._hover_class);this.debugExit()},_unhover_button:function(){this.debugEnter("_unhover_button");b.remove(this._button,this._hover_class);this.debugExit()},_activate_button:function(){this.debugEnter("_activate_button");b.add(this._button,this._active_class);this.debugExit()},_deactivate_button:function(){this.debugEnter("_deactivate_button");b.remove(this._button,
this._active_class);this.debugExit()},_show_layer:function(){this.debugEnter("_show_layer");this._activate_button();this.is_open=!0;this._hidden_layer.removeClass(this._hidden_class);this._stage_overlay&&b.remove(this._stage_overlay,this._hidden_class);a(this._hidden_layer,"click",function(a){return a.stopPropagation()});a.once(d("html"),"click",g.hitch(this,function(){this._hide_layer()}));f.set(this._button,"aria-expanded","true");f.set(this._hidden_layer[0],"aria-hidden","false");this.debugExit()},
_hide_layer:function(){this.debugEnter("_hide_layer");this._deactivate_button();this.is_open=!1;this._hidden_layer.addClass(this._hidden_class);this._stage_overlay&&b.add(this._stage_overlay,this._hidden_class);f.set(this._button,"aria-expanded","false");f.set(this._hidden_layer[0],"aria-hidden","true");this.debugExit()}})})},"lh/widget/flightmanagerStoredFlightSelect":function(){define(["dojo","dijit","dojox","dojo/require!lh/util/logger,dojo/cookie,dojo/date,dojo/topic,dojo/date/locale,dojo/date/stamp,dijit/Menu,dijit/MenuItem,dijit/form/DropDownButton"],
function(c,g,l){c.provide("lh.widget.flightmanagerStoredFlightSelect");c.require("lh.util.logger");c.require("dojo.cookie");c.require("dojo.date");c.require("dojo.topic");c.require("dojo.date.locale");c.require("dojo.date.stamp");c.require("dijit.Menu");c.require("dijit.MenuItem");c.require("dijit.form.DropDownButton");(function(b){b.declare("lh.widget.flightmanagerStoredFlightSelect",[lh.util.logger,g.form.DropDownButton],{debug:!1,popupOrientation:{BR:"TR"},baseClass:"previousFlightSelect",maxEntries:10,
_maxEntriesLimit:50,entryLocationMaxNameLength:5,currentEntries:0,flightSearchFormId:"",outboundAirportFieldId:"",outboundAirportCodeFieldId:"",inboundAirportFieldId:"",inboundAirportCodeFieldId:"",outboundDateFieldId:"",outboundHiddenDateFieldId:"",inboundDateFieldId:"",inboundHiddenDateFieldId:"",selectBoxShowDate:!0,cookieName:null,cookieNameOld:"previousFlightSearchCookie",cookieNameNewUI:"searchFlightHistory",newUIDateFormat:"yyyyMMdd",savedFlightsText:"Recent Searches (%d)",saveOnlyMode:!1,
postMixInProperties:function(){this.debugEnter("postMixInProperties");this.dropDown=new g.Menu({id:this.id+"Menu",className:"previousFlightsSelectMenu"});this.debugMsg("Create Menu / DropDown with id "+this.dropDown.id);this.maxEntries>this._maxEntriesLimit&&(this.debugWarn("maxEntries Parameter will be ignored as the maximum technical possible entries was superceeded. Setting limit to "+this._maxEntriesLimit),this.maxEntries=this._maxEntriesLimit);if(b.cookie.isSupported())if(0<this.maxEntries&&
!this.saveOnlyMode){if(this.formNode=g.byId(this.flightSearchFormId)||b.byId(this.flightSearchFormId))this.outboundAirportFieldNode=b.byId(this.outboundAirportFieldId),this.outboundAirportCodeFieldNode=b.byId(this.outboundAirportCodeFieldId),this.inboundAirportFieldNode=b.byId(this.inboundAirportFieldId),this.inboundAirportCodeFieldNode=b.byId(this.inboundAirportCodeFieldId),this.outboundDateFieldNode=g.byId(this.outboundDateFieldId),this.outboundHiddenDateFieldNode=b.byId(this.outboundHiddenDateFieldId),
this.inboundDateFieldNode=g.byId(this.inboundDateFieldId),this.inboundHiddenDateFieldNode=b.byId(this.inboundHiddenDateFieldId),this.outboundDateFieldNode&&(this.dateFormat=this.outboundDateFieldNode.backendDateFormat);b.cookie(this.cookieNameNewUI)?(this.debugMsg("Deleting old Recent Flights Cookie..."),b.cookie(this.cookieNameOld,null,{expires:-1,path:"/"}),this.cookieName=this.cookieNameNewUI):this.cookieName=this.cookieNameOld;b.cookie(this.cookieName)?(this.debugMsg("Cookie exists, setting storedFlights array from cookie value and triggering prefill"),
this.dateFormat?(this.storedFlights=b.cookie(this.cookieName),"["==this.storedFlights.charAt(0)?this.storedFlights=b.fromJson(this.storedFlights):this.storedFlights=this._cookieStringToArray(b.cookie(this.cookieName)),"object"==typeof this.storedFlights&&(this.debugMsg("Cookie value to Object conversion -\x3e Done, starting prefill"),this._correctPastDates(),this._prefillSelect())):this.debugWarn("_t.dateFormat is not set. Can't create select box.")):(this.debugMsg("Cookie '"+this.cookieName+"' does not exist, initialize empty array for new value and hide selectbox"),
this.storedFlights=[])}else{if(b.cookie(this.cookieNameNewUI))return this.debugErr("This page shouldn't be called with new booking UI, as cookie will be set on Amadeus page."),b.cookie(this.cookieNameOld,null,{expires:-1,path:"/"}),this.cookieName=this.cookieNameNewUI,this.debugExit(),!1;this.cookieName=this.cookieNameOld;this.domNode&&b.empty(this.domNode);this.debugMsg("Save only mode or GUI disabled, no GUI Creation!");b.cookie(this.cookieName)?(this.storedFlights=b.cookie(this.cookieName),"["==
this.storedFlights.charAt(0)?this.storedFlights=b.fromJson(this.storedFlights):this.storedFlights=this._cookieStringToArray(b.cookie(this.cookieName))):(this.debugMsg("Cookie '"+this.cookieName+"' does not exist, initialize empty array for new value and hide selectbox"),this.storedFlights=[])}else this.debugWarn("Cookies are not supported in the current Browser - The previousFlightSelection Widget will not be shown nor running as cookies are required!");this.inherited(arguments);this.debugExit()},
_prefillSelect:function(){var a=this;a.debugEnter("_prefillSelect");var d=new g.MenuItem({label:a.savedFlightsText,baseClass:this.baseClass+"-header",focus:function(){}});a.dropDown.addChild(d);d=a.storedFlights.length-a.maxEntries;if(0<d){for(var e=0;e<d;e++)a.storedFlights.shift();a._store()}var f=a._isNewUIFormat(a.storedFlights),k,m,l,q;b.forEach(a.storedFlights,function(d,e){if(e<a.maxEntries){f?(l=d.from.split(",")[0],q=d.to.split(",")[0],k=b.date.locale.parse(d.departureDate.split(",")[0],
{datePattern:a.newUIDateFormat,selector:"date"}),m=b.date.locale.parse(d.departureDate.split(",")[1],{datePattern:a.newUIDateFormat,selector:"date"})):(l=d.from.length<=a.entryLocationMaxNameLength?d.from:d.from.slice(0,a.entryLocationMaxNameLength-1)+"...",q=d.to.length<=a.entryLocationMaxNameLength?d.to:d.to.slice(0,a.entryLocationMaxNameLength-1)+"...",k=b.date.stamp.fromISOString(d.outboundDate),m=b.date.stamp.fromISOString(d.inboundDate));var t=new g.MenuItem({label:'\x3cspan class\x3d"'+this.baseClass+
'-fromto"\x3e'+l+"-"+q+'\x3c/span\x3e\x3cspan class\x3d"'+this.baseClass+'-date"\x3e'+(a.selectBoxShowDate?b.date.locale.format(k,a.dateFormat):"")+(a.selectBoxShowDate&&m?"-"+b.date.locale.format(m,a.dateFormat):"")+"\x3c/span\x3e",onClick:function(b){c.stopEvent(b);a._fillFormFields(e)},focus:function(a){}});a.dropDown.addChild(t);a.dropDown._stopClickEvents=!1;a.dropDown.refocus=!1;a.currentEntries=e}},a);a.label=a.savedFlightsText.replace(/%d/g,a.currentEntries+1);a.debugExit()},postCreate:function(){this.debugEnter("postCreate");
if(this.storedFlights&&0<this.storedFlights.length)if(c.hasClass(c.query(this.domNode).parent()[0],"fieldwrapper")){if(this.focusNodeNew=c.byId(this.outboundAirportFieldId))c.connect(this.focusNodeNew,"onkeypress",this,"_show"),c.connect(this.focusNodeNew,"onfocus",this,"_show"),c.connect(this.focusNodeNew,"onblur",this,"_hide");b.style(this.domNode,"display","none");this.focusNodeNew&&(this.debugMsg("unselectable off"),this.focusNodeNew.setAttribute("unselectable","off"))}else this.debugMsg("Displaying DropDown"),
b.style(this.domNode,"visibility","visible"),b.style(this.domNode,"display","block");else b.style(this.domNode,"display","none");this.focusNodeNew&&this.focusNodeNew.setAttribute("unselectable","off");this.debugExit();this.inherited(arguments)},_onMouseUp:function(a){c.stopEvent(a)},_show:function(a){_t=this;this.debugEnter("_show");null!=_t.focusNodeNew&&(2>_t.focusNodeNew.value.length?(this.debugMsg("showing stored flights."),this.popupDropdown=g.popup.open({popup:this.dropDown,around:this.focusNodeNew,
onCancel:function(){_t._hide()},orient:["below-alt","below"]}),c.setSelectable(_t.focusNodeNew,!0),c.connect(this.dropDown.domNode,"onmousedown",this,"_onMouseUp"),c.connect(this.dropDown.domNode,"onmouseup",this,"_onMouseUp")):_t._hide());this.debugExit()},_hide:function(a){this.debugEnter("_hide");this.popupDropdown&&void 0!=this.popupDropdown&&null!=this.popupDropdown&&(this.popupDropdown.focus||g.popup.close(this.dropDown));this.debugExit()},_correctPastDates:function(){var a=this;a.debugEnter("_correctPastDates");
date=new Date;var c=a._isNewUIFormat(a.storedFlights),e,f,g;b.forEach(a.storedFlights,function(m,l){c?(a.debugMsg("Correcting Amadeus dates..."),e=b.date.locale.parse(m.departureDate.split(",")[0],{datePattern:a.newUIDateFormat,selector:"date"}),f=b.date.locale.parse(m.departureDate.split(",")[1],{datePattern:a.newUIDateFormat,selector:"date"})):(e=b.date.stamp.fromISOString(m.outboundDate),f=b.date.stamp.fromISOString(m.inboundDate));0<=b.date.compare(date,e,"date")&&(a.debugMsg("Correcting entry #"+
l+" from "+e),f&&(g=b.date.difference(e,f,"day"),c?f=b.date.locale.format(b.date.add(date,"day",g),{datePattern:a.newUIDateFormat,selector:"date"}):m.inboundDate=b.date.stamp.toISOString(b.date.add(date,"day",g),{selector:"date"})),c?(m.departureDate=f?b.date.locale.format(date,{datePattern:a.newUIDateFormat,selector:"date"})+","+f:b.date.locale.format(date,{datePattern:a.newUIDateFormat,selector:"date"}),a.debugMsg("to "+m.departureDate)):(m.outboundDate=b.date.stamp.toISOString(date,{selector:"date"}),
a.debugMsg("to "+m.outboundDate)),a.storedFlights[l]=m)},a);a.debugExit()},storeFlightData:function(a,b,c,f){this.debugEnter("_storeFlightData");a!=b?(0<this.storedFlights.length&&this._cleanUpStoredDataBeforeSave(a,b),this.debugMsg(f),this.debugMsg(c),this.storedFlights.push({from:a,to:b,inboundDate:f,outboundDate:c}),this.debugMsg("Storing the data"),this._store()):this.debugWarn("Origin and Destination are equal or form is invalid - Did not save!");this.debugExit()},_cleanUpStoredDataBeforeSave:function(a,
c){this.debugEnter("_cleanUpStoredDataBeforeSave");tempStoredFlights=this.storedFlights;this.storedFlights=[];b.forEach(tempStoredFlights,function(b,f){b.from==a&&b.to==c||this.storedFlights.push(b)},this);this.debugExit()},_store:function(){this.debugEnter("_store");if(this.storedFlights&&this._isNewUIFormat(this.storedFlights))return this.debugWarn("No storing of Amadeus cookie..."),this.debugExit(),!1;this.storedFlights&&0<this.storedFlights.length?b.cookie(this.cookieName,this._arrayToCookieString(this.storedFlights),
{expires:365,path:"/"}):b.cookie(this.cookieName,null,{expires:-1});this.debugExit()},_fillFormFields:function(a){this.debugEnter("_fillFormFields");this.debugMsg("Selected Value:",a);this._hide();0<=a?(this.debugMsg("Entry #"+a+" selected, loading values"),selectedStoreObject=this.storedFlights[a],this._isNewUIFormat(this.storedFlights)&&(selectedStoreObject.from=selectedStoreObject.from.split(",")[0],selectedStoreObject.to=selectedStoreObject.to.split(",")[0],a=selectedStoreObject.departureDate.split(","),
selectedStoreObject.outboundDate=b.date.locale.parse(a[0],{datePattern:this.newUIDateFormat,selector:"date"}),selectedStoreObject.outboundDate=b.date.stamp.toISOString(selectedStoreObject.outboundDate),1<a.length&&(selectedStoreObject.inboundDate=b.date.locale.parse(a[1],{datePattern:this.newUIDateFormat,selector:"date"}),selectedStoreObject.inboundDate=b.date.stamp.toISOString(selectedStoreObject.inboundDate))),this.outboundAirportFieldNode&&selectedStoreObject.from&&(b.attr(this.outboundAirportFieldNode,
"value",selectedStoreObject.from),b.attr(this.outboundAirportCodeFieldNode,"value",selectedStoreObject.from),b.topic.publish(lh.topics.typeahead.RECENT_FLIGHT_SELECTED,this.outboundAirportFieldNode,selectedStoreObject.from)),this.inboundAirportFieldNode&&selectedStoreObject.to&&(b.attr(this.inboundAirportFieldNode,"value",selectedStoreObject.to),b.attr(this.inboundAirportCodeFieldNode,"value",selectedStoreObject.to),b.topic.publish(lh.topics.typeahead.RECENT_FLIGHT_SELECTED,this.inboundAirportFieldNode,
selectedStoreObject.to)),this.outboundDateFieldNode&&selectedStoreObject.outboundDate&&this.outboundDateFieldNode.set("date",b.date.stamp.fromISOString(selectedStoreObject.outboundDate)),this.inboundDateFieldNode&&selectedStoreObject.inboundDate?this.inboundDateFieldNode.set("date",b.date.stamp.fromISOString(selectedStoreObject.inboundDate)):b.attr(this.inboundDateFieldNode.domNode,"value","")):this.debugMsg("Info Text clicked, do nothing");this.debugExit()},_cookieStringToArray:function(a){this.debugEnter("_cookieStringToArray");
a=a.split(",");var b,c,f=[],g=[];b=0;for(c=a.length;b<c;b+=4)f=a.slice(b,b+4),f={from:f[0],to:f[1],outboundDate:f[2],inboundDate:f[3]},g.push(f);this.debugExit();return g},_arrayToCookieString:function(a){this.debugEnter("_arrayToCookieString");var b=[],e="";c.forEach(a,function(a){b.push([a.from,a.to,a.outboundDate,a.inboundDate])});a=b[0];c.forEach(b,function(b,c){0<c&&(a=a.concat(b))});e=(a+"").replace(/\"/g,"");this.debugExit();return e},_isNewUIFormat:function(a){this.debugEnter("_isNewUIFormat");
var b=!1;0<a.length&&a[0].departureDate&&(b=!0);this.debugExit();return b}})})(c)})},"dijit/Menu":function(){define("require dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/_base/window dojo/window ./popup ./DropDownMenu dojo/ready".split(" "),function(c,g,l,b,a,d,e,f,k,m,p,q,n,r,t,s){p("dijit-legacy-requires")&&s(0,function(){c(["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"])});
return l("dijit.Menu",t,{constructor:function(){this._bindings=[]},targetNodeIds:[],selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):g.forEach(this.targetNodeIds,this.bindDomNode,this);this.inherited(arguments)},_iframeContentWindow:function(a){return n.get(this._iframeContentDocument(a))||this._iframeContentDocument(a).__parent__||a.name&&document.frames[a.name]||null},_iframeContentDocument:function(a){return a.contentDocument||
a.contentWindow&&a.contentWindow.document||a.name&&document.frames[a.name]&&document.frames[a.name].document||null},bindDomNode:function(c){c=b.byId(c,this.ownerDocument);var d;if("iframe"==c.tagName.toLowerCase()){var e=c;d=this._iframeContentWindow(e);d=q.body(d.document)}else d=c==q.body(this.ownerDocument)?this.ownerDocument.documentElement:c;var g={node:c,iframe:e};a.set(c,"_dijitMenu"+this.id,this._bindings.push(g));var l=k.hitch(this,function(a){var b=this.selector,c=b?function(a){return m.selector(b,
a)}:function(a){return a},d=this;return[m(a,c(this.leftClickToOpen?"click":"contextmenu"),function(a){a.stopPropagation();a.preventDefault();(new Date).getTime()<this._lastKeyDown+500||d._scheduleOpen(this,e,{x:a.pageX,y:a.pageY},a.target)}),m(a,c("keydown"),function(a){if(93==a.keyCode||a.shiftKey&&a.keyCode==f.F10||this.leftClickToOpen&&a.keyCode==f.SPACE)a.stopPropagation(),a.preventDefault(),d._scheduleOpen(this,e,null,a.target),this._lastKeyDown=(new Date).getTime()})]});g.connects=d?l(d):[];
e&&(g.onloadHandler=k.hitch(this,function(){var a=this._iframeContentWindow(e),a=q.body(a.document);g.connects=l(a)}),e.addEventListener?e.addEventListener("load",g.onloadHandler,!1):e.attachEvent("onload",g.onloadHandler))},unBindDomNode:function(c){var d;try{d=b.byId(c,this.ownerDocument)}catch(e){return}c="_dijitMenu"+this.id;if(d&&a.has(d,c)){for(var f=a.get(d,c)-1,g=this._bindings[f],k;k=g.connects.pop();)k.remove();(k=g.iframe)&&(k.removeEventListener?k.removeEventListener("load",g.onloadHandler,
!1):k.detachEvent("onload",g.onloadHandler));a.remove(d,c);delete this._bindings[f]}},_scheduleOpen:function(a,b,c,d){this._openTimer||(this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:d,delegatedTarget:a,iframe:b,coords:c})},1))},_openMyself:function(a){function c(){s.refocus&&t&&t.focus();r.close(s)}var f=a.target,g=a.iframe,k=a.coords,m=!k;this.currentTarget=a.delegatedTarget;if(k){if(g){a=d.position(g,!0);var f=this._iframeContentWindow(g),f=d.docScroll(f.document),
l=e.getComputedStyle(g),n=e.toPixelValue,q=(p("ie")&&p("quirks")?0:n(g,l.paddingLeft))+(p("ie")&&p("quirks")?n(g,l.borderLeftWidth):0),g=(p("ie")&&p("quirks")?0:n(g,l.paddingTop))+(p("ie")&&p("quirks")?n(g,l.borderTopWidth):0);k.x+=a.x+q-f.x;k.y+=a.y+g-f.y}}else k=d.position(f,!0),k.x+=10,k.y+=10;var s=this,g=this._focusManager.get("prevNode");a=this._focusManager.get("curNode");var t=!a||b.isDescendant(a,this.domNode)?g:a;r.open({popup:this,x:k.x,y:k.y,onExecute:c,onCancel:c,orient:this.isLeftToRight()?
"L":"R"});this.focus();m||this.defer(function(){this._cleanUp(!0)});this._onBlur=function(){this.inherited("_onBlur",arguments);r.close(this)}},destroy:function(){g.forEach(this._bindings,function(a){a&&this.unBindDomNode(a.node)},this);this.inherited(arguments)}})})},"dijit/form/DropDownButton":function(){define("dojo/_base/declare dojo/_base/lang dojo/query ../registry ../popup ./Button ../_Container ../_HasDropDown dojo/text!./templates/DropDownButton.html".split(" "),function(c,g,l,b,a,d,e,f,
k){return c("dijit.form.DropDownButton",[d,e,f],{baseClass:"dijitDropDownButton",templateString:k,_fillContent:function(){if(this.srcNodeRef){var a=l("*",this.srcNodeRef);this.inherited(arguments,[a[0]]);this.dropDownContainer=this.srcNodeRef}},startup:function(){if(!this._started){if(!this.dropDown&&this.dropDownContainer){var c=l("[widgetId]",this.dropDownContainer)[0];c&&(this.dropDown=b.byNode(c));delete this.dropDownContainer}this.dropDown&&a.hide(this.dropDown);this.inherited(arguments)}},isLoaded:function(){var a=
this.dropDown;return!!a&&(!a.href||a.isLoaded)},loadDropDown:function(a){var b=this.dropDown,c=b.on("load",g.hitch(this,function(){c.remove();a()}));b.refresh()},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown}})})},"dijit/form/Button":function(){define("require dojo/_base/declare dojo/dom-class dojo/has dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html".split(" "),function(c,g,l,b,a,d,e,f,k,m){b("dijit-legacy-requires")&&
e(0,function(){c(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])});e=g("dijit.form.Button"+(b("dojo-bidi")?"_NoBidi":""),[f,k],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:m,_setValueAttr:"valueNode",_setNameAttr:function(a){this.valueNode&&this.valueNode.setAttribute("name",a)},_fillContent:function(a){!a||this.params&&"label"in this.params||!(a=d.trim(a.innerHTML))||(this.label=a)},
_setShowLabelAttr:function(a){this.containerNode&&l.toggle(this.containerNode,"dijitDisplayNone",!a);this._set("showLabel",a)},setLabel:function(b){a.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",b)},_setLabelAttr:function(a){this.inherited(arguments);this.showLabel||"title"in this.params||(this.titleNode.title=d.trim(this.containerNode.innerText||this.containerNode.textContent||""))}});b("dojo-bidi")&&(e=g("dijit.form.Button",
e,{_setLabelAttr:function(a){this.inherited(arguments);this.titleNode.title&&this.applyTextDir(this.titleNode,this.titleNode.title)},_setTextDirAttr:function(a){this._created&&this.textDir!=a&&(this._set("textDir",a),this._setLabelAttr(this.label))}}));return e})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(c,g,l,b){var a=c("dijit.form._ButtonMixin"+(l("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(a){a.stopPropagation();
a.preventDefault();this.disabled||this.valueNode.click(a);return!1},_onClick:function(a){if(this.disabled)return a.stopPropagation(),a.preventDefault(),!1;!1===this.onClick(a)&&a.preventDefault();var c=a.defaultPrevented;if(!c&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var f=this.domNode;f.parentNode;f=f.parentNode){var g=b.byNode(f);if(g&&"function"==typeof g._onSubmit){g._onSubmit(a);a.preventDefault();c=!0;break}}return!c},postCreate:function(){this.inherited(arguments);g.setSelectable(this.focusNode,
!1)},onClick:function(){return!0},_setLabelAttr:function(a){this._set("label",a);(this.containerNode||this.focusNode).innerHTML=a}});l("dojo-bidi")&&(a=c("dijit.form._ButtonMixin",a,{_setLabelAttr:function(){this.inherited(arguments);this.applyTextDir(this.containerNode||this.focusNode)}}));return a})},"lh/handler/SessionTimeoutHandler":function(){define("dojo/_base/declare dojo/_base/lang dijit/Dialog dijit/form/Button dijit/form/Form dijit/layout/ContentPane lh/util/logger".split(" "),function(c,
g,l,b,a,d,e){return c("lh.handler.SessionTimeoutHandler",e,{debug:!1,session_timeout:18E5,title:"Session ended",message:"Your session has ended. Please click the button to restart it.",button_label:"OK",_dialog:{},_dialog_content_pane:{},_message_pane:{},_button:{},constructor:function(a){this.debugEnter("constructor");c.safeMixin(this,a);this._dialog_content_pane=new d;this._message_pane=(new d({content:this.message})).placeAt(this._dialog_content_pane.containerNode);this._button=(new b({label:this.button_label,
onClick:g.hitch(this,this._button_click)})).placeAt(this._dialog_content_pane.containerNode);this._dialog=new l({title:this.title,content:this._dialog_content_pane,closable:!1});this._dialog_content_pane.startup();setTimeout(g.hitch(this,this._show_dialog),this.session_timeout);this.debugExit()},_button_click:function(){return location.reload()},_show_dialog:function(){return this._dialog.show()}})})},"dijit/Dialog":function(){define("require dojo/_base/array dojo/aspect dojo/_base/declare dojo/Deferred dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/ready dojo/sniff dojo/window dojo/dnd/Moveable dojo/dnd/TimedMoveable ./focus ./_base/manager ./_Widget ./_TemplatedMixin ./_CssStateMixin ./form/_FormMixin ./_DialogMixin ./DialogUnderlay ./layout/ContentPane dojo/text!./templates/Dialog.html dojo/i18n!./nls/common".split(" "),
function(c,g,l,b,a,d,e,f,k,m,p,q,n,r,t,s,u,v,x,w,A,z,y,B,D,C,E,I,M){A=b("dijit._DialogBase"+(s("dojo-bidi")?"_NoBidi":""),[y,D,C,B],{templateString:M,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!1,duration:A.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,doLayout:!1,draggable:!0,_setDraggableAttr:function(a){this._set("draggable",a)},maxRatio:0.9,closable:!0,_setClosableAttr:function(a){this.closeButtonNode.style.display=
a?"":"none";this._set("closable",a)},postMixInProperties:function(){var a=p.getLocalization("dijit","common");n.mixin(this,a);this.inherited(arguments)},postCreate:function(){k.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);l.after(this,"onExecute",n.hitch(this,"hide"),!0);l.after(this,"onCancel",n.hitch(this,"hide"),!0);this._modalconnects=[]},onLoad:function(){this._size();this._position();this.autofocus&&G.isTop(this)&&
(this._getFocusItems(this.domNode),w.focus(this._firstFocusItem));this.inherited(arguments)},focus:function(){this._getFocusItems(this.domNode);w.focus(this._firstFocusItem)},_endDrag:function(){var a=f.position(this.domNode),b=u.getBox(this.ownerDocument);a.y=Math.min(Math.max(a.y,0),b.h-a.h);a.x=Math.min(Math.max(a.x,0),b.w-a.w);this._relativePosition=a;this._position()},_setup:function(){var a=this.domNode;this.titleBar&&this.draggable?(this._moveable=new (6==s("ie")?x:v)(a,{handle:this.titleBar}),
l.after(this._moveable,"onMoveStop",n.hitch(this,"_endDrag"),!0)):e.add(a,"dijitDialogFixed");this.underlayAttrs={dialogId:this.id,"class":g.map(this["class"].split(/\s/),function(a){return a+"_underlay"}).join(" "),_onKeyDown:n.hitch(this,"_onKey"),ownerDocument:this.ownerDocument}},_size:function(){this._checkIfSingleChild();this._singleChild?"undefined"!=typeof this._singleChildOriginalStyle&&(this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,delete this._singleChildOriginalStyle):
k.set(this.containerNode,{width:"auto",height:"auto"});var a=f.position(this.domNode),b=u.getBox(this.ownerDocument);b.w*=this.maxRatio;b.h*=this.maxRatio;if(a.w>=b.w||a.h>=b.h){var c=f.position(this.containerNode),d=Math.min(a.w,b.w)-(a.w-c.w),a=Math.min(a.h,b.h)-(a.h-c.h);this._singleChild&&this._singleChild.resize?("undefined"==typeof this._singleChildOriginalStyle&&(this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText),this._singleChild.resize({w:d,h:a})):k.set(this.containerNode,
{width:d+"px",height:a+"px",overflow:"auto",position:"relative"})}else this._singleChild&&this._singleChild.resize&&this._singleChild.resize()},_position:function(){if(!e.contains(this.ownerDocumentBody,"dojoMove")){var a=this.domNode,b=u.getBox(this.ownerDocument),c=this._relativePosition,d=c?null:f.position(a);k.set(a,{left:Math.floor(b.l+(c?c.x:(b.w-d.w)/2))+"px",top:Math.floor(b.t+(c?c.y:(b.h-d.h)/2))+"px"})}},_onKey:function(a){if(a.keyCode==q.TAB){this._getFocusItems(this.domNode);var b=a.target;
this._firstFocusItem==this._lastFocusItem?(a.stopPropagation(),a.preventDefault()):b==this._firstFocusItem&&a.shiftKey?(w.focus(this._lastFocusItem),a.stopPropagation(),a.preventDefault()):b!=this._lastFocusItem||a.shiftKey||(w.focus(this._firstFocusItem),a.stopPropagation(),a.preventDefault())}else this.closable&&a.keyCode==q.ESCAPE&&(this.onCancel(),a.stopPropagation(),a.preventDefault())},show:function(){if(!this.open){this._started||this.startup();this._alreadyInitialized||(this._setup(),this._alreadyInitialized=
!0);this._fadeOutDeferred&&(this._fadeOutDeferred.cancel(),G.hide(this));var b=u.get(this.ownerDocument);this._modalconnects.push(r(b,"scroll",n.hitch(this,"resize")));this._modalconnects.push(r(this.domNode,"keydown",n.hitch(this,"_onKey")));k.set(this.domNode,{opacity:0,display:""});this._set("open",!0);this._onShow();this._size();this._position();var c;this._fadeInDeferred=new a(n.hitch(this,function(){c.stop();delete this._fadeInDeferred}));b=this._fadeInDeferred.promise;c=m.fadeIn({node:this.domNode,
duration:this.duration,beforeBegin:n.hitch(this,function(){G.show(this,this.underlayAttrs)}),onEnd:n.hitch(this,function(){this.autofocus&&G.isTop(this)&&(this._getFocusItems(this.domNode),w.focus(this._firstFocusItem));this._fadeInDeferred.resolve(!0);delete this._fadeInDeferred})}).play();return b}},hide:function(){if(this._alreadyInitialized&&this.open){this._fadeInDeferred&&this._fadeInDeferred.cancel();var b;this._fadeOutDeferred=new a(n.hitch(this,function(){b.stop();delete this._fadeOutDeferred}));
this._fadeOutDeferred.then(n.hitch(this,"onHide"));var c=this._fadeOutDeferred.promise;b=m.fadeOut({node:this.domNode,duration:this.duration,onEnd:n.hitch(this,function(){this.domNode.style.display="none";G.hide(this);this._fadeOutDeferred.resolve(!0);delete this._fadeOutDeferred})}).play();this._scrollConnected&&(this._scrollConnected=!1);for(var d;d=this._modalconnects.pop();)d.remove();this._relativePosition&&delete this._relativePosition;this._set("open",!1);return c}},resize:function(){"none"!=
this.domNode.style.display&&(this._size(),s("touch")||this._position())},destroy:function(){this._fadeInDeferred&&this._fadeInDeferred.cancel();this._fadeOutDeferred&&this._fadeOutDeferred.cancel();this._moveable&&this._moveable.destroy();for(var a;a=this._modalconnects.pop();)a.remove();G.hide(this);this.inherited(arguments)}});s("dojo-bidi")&&(A=b("dijit._DialogBase",A,{_setTitleAttr:function(a){this._set("title",a);this.titleNode.innerHTML=a;this.applyTextDir(this.titleNode)},_setTextDirAttr:function(a){this._created&&
this.textDir!=a&&(this._set("textDir",a),this.set("title",this.title))}}));var P=b("dijit.Dialog",[I,A],{});P._DialogBase=A;var G=P._DialogLevelManager={_beginZIndex:950,show:function(a,b){F[F.length-1].focus=w.curNode;var c=F[F.length-1].dialog?F[F.length-1].zIndex+2:P._DialogLevelManager._beginZIndex;k.set(a.domNode,"zIndex",c);E.show(b,c-1);F.push({dialog:a,underlayAttrs:b,zIndex:c})},hide:function(a){if(F[F.length-1].dialog==a){F.pop();var b=F[F.length-1];1==F.length?E.hide():E.show(b.underlayAttrs,
b.zIndex-1);if(a.refocus&&(a=b.focus,!b.dialog||a&&d.isDescendant(a,b.dialog.domNode)||(b.dialog._getFocusItems(b.dialog.domNode),a=b.dialog._firstFocusItem),a))try{a.focus()}catch(c){}}else b=g.indexOf(g.map(F,function(a){return a.dialog}),a),-1!=b&&F.splice(b,1)},isTop:function(a){return F[F.length-1].dialog==a}},F=P._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];w.watch("curNode",function(a,b,c){a=F[F.length-1].dialog;if(c&&a&&!a._fadeOutDeferred&&c.ownerDocument==a.ownerDocument){do if(c==
a.domNode||e.contains(c,"dijitPopup"))return;while(c=c.parentNode);a.focus()}});s("dijit-legacy-requires")&&t(0,function(){c(["dijit/TooltipDialog"])});return P})},"dojo/dnd/Moveable":function(){define("../_base/array ../_base/declare ../_base/lang ../dom ../dom-class ../Evented ../on ../topic ../touch ./common ./Mover ../_base/window".split(" "),function(c,g,l,b,a,d,e,f,k,m,p,q){return g("dojo.dnd.Moveable",[d],{handle:"",delay:0,skip:!1,constructor:function(a,c){this.node=b.byId(a);c||(c={});this.handle=
c.handle?b.byId(c.handle):null;this.handle||(this.handle=this.node);this.delay=0<c.delay?c.delay:0;this.skip=c.skip;this.mover=c.mover?c.mover:p;this.events=[e(this.handle,k.press,l.hitch(this,"onMouseDown")),e(this.handle,"dragstart",l.hitch(this,"onSelectStart")),e(this.handle,"selectstart",l.hitch(this,"onSelectStart"))]},markupFactory:function(a,b,c){return new c(b,a)},destroy:function(){c.forEach(this.events,function(a){a.remove()});this.events=this.node=this.handle=null},onMouseDown:function(a){if(!this.skip||
!m.isFormElement(a)){if(this.delay)this.events.push(e(this.handle,k.move,l.hitch(this,"onMouseMove")),e(this.handle,k.release,l.hitch(this,"onMouseUp"))),this._lastX=a.pageX,this._lastY=a.pageY;else this.onDragDetected(a);a.stopPropagation();a.preventDefault()}},onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>this.delay)this.onMouseUp(a),this.onDragDetected(a);a.stopPropagation();a.preventDefault()},onMouseUp:function(a){for(var b=0;2>b;++b)this.events.pop().remove();
a.stopPropagation();a.preventDefault()},onSelectStart:function(a){this.skip&&m.isFormElement(a)||(a.stopPropagation(),a.preventDefault())},onDragDetected:function(a){new this.mover(this.node,a,this)},onMoveStart:function(b){f.publish("/dnd/move/start",b);a.add(q.body(),"dojoMove");a.add(this.node,"dojoMoveItem")},onMoveStop:function(b){f.publish("/dnd/move/stop",b);a.remove(q.body(),"dojoMove");a.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(a,b){this.onMoving(a,b);var c=
a.node.style;c.left=b.l+"px";c.top=b.t+"px";this.onMoved(a,b)},onMoving:function(){},onMoved:function(){}})})},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(c,g,l,b){var a=l.getObject("dojo.dnd",!0);a.getCopyKeyState=function(a){return a[c("mac")?"metaKey":"ctrlKey"]};a._uniqueId=0;a.getUniqueId=function(){var c;do c=g._scopeName+"Unique"+ ++a._uniqueId;while(b.byId(c));return c};a._empty={};a.isFormElement=function(a){a=a.target;3==a.nodeType&&
(a=a.parentNode);return 0<=" a button textarea input select option ".indexOf(" "+a.tagName.toLowerCase()+" ")};return a})},"dojo/dnd/Mover":function(){define("../_base/array ../_base/declare ../_base/lang ../sniff ../_base/window ../dom ../dom-geometry ../dom-style ../Evented ../on ../touch ./common ./autoscroll".split(" "),function(c,g,l,b,a,d,e,f,k,m,p,q,n){return g("dojo.dnd.Mover",[k],{constructor:function(a,b,c){function e(a){a.preventDefault();a.stopPropagation()}this.node=d.byId(a);this.marginBox=
{l:b.pageX,t:b.pageY};this.mouseButton=b.button;b=this.host=c;a=a.ownerDocument;this.events=[m(a,p.move,l.hitch(this,"onFirstMove")),m(a,p.move,l.hitch(this,"onMouseMove")),m(a,p.release,l.hitch(this,"onMouseUp")),m(a,"dragstart",e),m(a.body,"selectstart",e)];n.autoScrollStart(a);if(b&&b.onMoveStart)b.onMoveStart(this)},onMouseMove:function(a){n.autoScroll(a);var b=this.marginBox;this.host.onMove(this,{l:b.l+a.pageX,t:b.t+a.pageY},a);a.preventDefault();a.stopPropagation()},onMouseUp:function(a){(b("webkit")&&
b("mac")&&2==this.mouseButton?0==a.button:this.mouseButton==a.button)&&this.destroy();a.preventDefault();a.stopPropagation()},onFirstMove:function(b){var c=this.node.style,d,g=this.host;switch(c.position){case "relative":case "absolute":d=Math.round(parseFloat(c.left))||0;c=Math.round(parseFloat(c.top))||0;break;default:c.position="absolute";c=e.getMarginBox(this.node);d=a.doc.body;var k=f.getComputedStyle(d),m=e.getMarginBox(d,k),k=e.getContentBox(d,k);d=c.l-(k.l-m.l);c=c.t-(k.t-m.t)}this.marginBox.l=
d-this.marginBox.l;this.marginBox.t=c-this.marginBox.t;if(g&&g.onFirstMove)g.onFirstMove(this,b);this.events.shift().remove()},destroy:function(){c.forEach(this.events,function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=this.host=null}})})},"dojo/dnd/autoscroll":function(){define("../_base/lang ../sniff ../_base/window ../dom-geometry ../dom-style ../window".split(" "),function(c,g,l,b,a,d){var e={};c.setObject("dojo.dnd.autoscroll",e);e.getViewport=
d.getBox;e.V_TRIGGER_AUTOSCROLL=32;e.H_TRIGGER_AUTOSCROLL=32;e.V_AUTOSCROLL_VALUE=16;e.H_AUTOSCROLL_VALUE=16;var f,k=l.doc,m=Infinity,p=Infinity;e.autoScrollStart=function(a){k=a;f=d.getBox(k);a=l.body(k).parentNode;m=Math.max(a.scrollHeight-f.h,0);p=Math.max(a.scrollWidth-f.w,0)};e.autoScroll=function(a){var b=f||d.getBox(k),c=l.body(k).parentNode,g=0,s=0;a.clientX<e.H_TRIGGER_AUTOSCROLL?g=-e.H_AUTOSCROLL_VALUE:a.clientX>b.w-e.H_TRIGGER_AUTOSCROLL&&(g=Math.min(e.H_AUTOSCROLL_VALUE,p-c.scrollLeft));
a.clientY<e.V_TRIGGER_AUTOSCROLL?s=-e.V_AUTOSCROLL_VALUE:a.clientY>b.h-e.V_TRIGGER_AUTOSCROLL&&(s=Math.min(e.V_AUTOSCROLL_VALUE,m-c.scrollTop));window.scrollBy(g,s)};e._validNodes={div:1,p:1,td:1};e._validOverflow={auto:1,scroll:1};e.autoScrollNodes=function(c){for(var d,f,k,m,p,v,x=0,w=0,A=c.target;A;){if(1==A.nodeType&&A.tagName.toLowerCase()in e._validNodes){k=a.getComputedStyle(A);m=k.overflow.toLowerCase()in e._validOverflow;p=k.overflowX.toLowerCase()in e._validOverflow;v=k.overflowY.toLowerCase()in
e._validOverflow;if(m||p||v)d=b.getContentBox(A,k),f=b.position(A,!0);if(m||p){k=Math.min(e.H_TRIGGER_AUTOSCROLL,d.w/2);p=c.pageX-f.x;if(g("webkit")||g("opera"))p+=l.body().scrollLeft;x=0;0<p&&p<d.w&&(p<k?x=-k:p>d.w-k&&(x=k),A.scrollLeft+=x)}if(m||v){m=Math.min(e.V_TRIGGER_AUTOSCROLL,d.h/2);v=c.pageY-f.y;if(g("webkit")||g("opera"))v+=l.body().scrollTop;w=0;0<v&&v<d.h&&(v<m?w=-m:v>d.h-m&&(w=m),A.scrollTop+=w)}if(x||w)return}try{A=A.parentNode}catch(z){A=null}}e.autoScroll(c)};return e})},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare",
"./Moveable"],function(c,g){var l=g.prototype.onMove;return c("dojo.dnd.TimedMoveable",g,{timeout:40,constructor:function(b,a){a||(a={});a.timeout&&"number"==typeof a.timeout&&0<=a.timeout&&(this.timeout=a.timeout)},onMoveStop:function(b){b._timer&&(clearTimeout(b._timer),l.call(this,b,b._leftTop));g.prototype.onMoveStop.apply(this,arguments)},onMove:function(b,a){b._leftTop=a;if(!b._timer){var c=this;b._timer=setTimeout(function(){b._timer=null;l.call(c,b,b._leftTop)},this.timeout)}}})})},"dijit/_DialogMixin":function(){define(["dojo/_base/declare",
"./a11y"],function(c,g){return c("dijit._DialogMixin",null,{execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"))},_getFocusItems:function(){var c=g._getTabNavigable(this.containerNode);this._firstFocusItem=c.lowest||c.first||this.closeButtonNode||this.domNode;this._lastFocusItem=c.last||c.highest||this._firstFocusItem}})})},"dijit/DialogUnderlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-attr dojo/dom-style dojo/on dojo/window ./_Widget ./_TemplatedMixin ./BackgroundIframe ./Viewport ./main".split(" "),
function(c,g,l,b,a,d,e,f,k,m,p,q){var n=c("dijit.DialogUnderlay",[f,k],{templateString:"\x3cdiv class\x3d'dijitDialogUnderlayWrapper'\x3e\x3cdiv class\x3d'dijitDialogUnderlay' tabIndex\x3d'-1' data-dojo-attach-point\x3d'node'\x3e\x3c/div\x3e\x3c/div\x3e",dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(a){b.set(this.node,"id",a+"_underlay");this._set("dialogId",a)},_setClassAttr:function(a){this.node.className="dijitDialogUnderlay "+a;this._set("class",a)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);
this.own(d(this.domNode,"keydown",g.hitch(this,"_onKeyDown")));this.inherited(arguments)},layout:function(){var a=this.node.style,b=this.domNode.style;b.display="none";var c=e.getBox(this.ownerDocument);b.top=c.t+"px";b.left=c.l+"px";a.width=c.w+"px";a.height=c.h+"px";b.display="block"},show:function(){this.domNode.style.display="block";this.open=!0;this.layout();this.bgIframe=new m(this.domNode);var a=e.get(this.ownerDocument);this._modalConnects=[p.on("resize",g.hitch(this,"layout")),d(a,"scroll",
g.hitch(this,"layout"))]},hide:function(){this.bgIframe.destroy();delete this.bgIframe;for(this.domNode.style.display="none";this._modalConnects.length;)this._modalConnects.pop().remove();this.open=!1},destroy:function(){for(;this._modalConnects.length;)this._modalConnects.pop().remove();this.inherited(arguments)},_onKeyDown:function(){}});n.show=function(b,c){var d=n._singleton;!d||d._destroyed?d=q._underlay=n._singleton=new n(b):b&&d.set(b);a.set(d.domNode,"zIndex",c);d.open||d.show()};n.hide=function(){var a=
n._singleton;a&&!a._destroyed&&a.hide()};return n})},"lh/widget/AirportAtlas":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang lh/util/logger lh/constants dojo/aspect dojo/on dojo/dom dojo/query dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/request dojo/topic dijit/Dialog dijit/registry".split(" "),function(c,g,l,b,a,d,e,f,k,m,p,q,n,r,t,s,u){return g("lh.widget.AirportAtlas",b,{debug:!1,lightBox:null,buttonId:"",fieldId:"",hiddenFieldId:"",inWidgetId:"",
url:null,serviceUrl:null,app:"",language:"",_countrySelectClass:"aa-country",_citySelectClass:"aa-city",_airportSelectClass:"aa-airport",_submitButtonClass:"aa-submit",_errorBoxClass:"error",hiddenClass:"x-hidden",activeClass:"active",_cityType:"city",_countryType:"country",_airportType:"airport",constructor:function(a){this.debugEnter("constructor");l.mixin(this,a);""!=this.inWidgetId?d.after(u.byId(this.inWidgetId),"startup",l.hitch(this,this._init)):this._init();this.debugExit()},_init:function(){this.debugEnter("_init");
this.button=f.byId(this.id);this.field=f.byId(this.fieldId);this.hiddenField=f.byId(this.hiddenFieldId);this.button&&this.field&&this.hiddenField&&this.url&&this.serviceUrl?e(this.button,"click",l.hitch(this,this._callAirportAtlas)):(this.debugWarn("Parameters are missing..."),this.debugWarn("Button: "+this.button),this.debugWarn("Field: "+this.field),this.debugWarn("HiddenField: "+this.hiddenField),this.debugWarn("Airport Atlas URL: "+this.url),this.debugWarn("Service URL: "+this.serviceUrl));this.debugExit()},
_callAirportAtlas:function(a){this.debugEnter("_callAirportAtlas");a&&(a.stopPropagation(),a.preventDefault());if(null!=this.lightBox)""!=this.hiddenField.value&&this._prefilling(this.hiddenField.value),this.lightBox.show();else{this.lightBox=new s;var b=this,c=null,c=e(this.lightBox,"Load",function(){c.remove();b._initOverlayElements();""!=b.hiddenField.value&&b._prefilling(b.hiddenField.value)});this.lightBox.set("href",this.url);this.lightBox.show();e(document,"#"+this.lightBox.id+" ."+this._countrySelectClass+
" li:click",l.hitch(this,"_countrySelectClick"));e(document,"#"+this.lightBox.id+" ."+this._citySelectClass+" li:click",l.hitch(this,"_citySelectClick"));e(document,"#"+this.lightBox.id+" ."+this._airportSelectClass+" li:click",l.hitch(this,"_selectAirport"));e(document,"#"+this.lightBox.id+" ."+this._submitButtonClass+":click",l.hitch(this,"_submitButtonClick"))}this.debugExit()},_countrySelectClick:function(a){this.debugEnter("_selectClick");a=a.target;var b=m.get(a,"data-value");this.oldCountry!==
b&&(this.oldCountry=b,k("#"+this.lightBox.id+" ."+this._countrySelectClass+" ."+this.activeClass).removeClass(this.activeClass),p.add(a,this.activeClass),this._loadData(this._countryType,b));this.debugExit()},_citySelectClick:function(a){this.debugEnter("_citySelectClick");a=a.target;var b=m.get(a,"data-value");this.oldCity!==b&&(this.oldCity=b,k("#"+this.lightBox.id+" ."+this._citySelectClass+" ."+this.activeClass).removeClass(this.activeClass),p.add(a,this.activeClass),this._loadData(this._cityType,
b));this.debugExit()},_selectAirport:function(a){this.debugEnter("_selectAirport");a=a.target;k("#"+this.lightBox.id+" ."+this._airportSelectClass+" ."+this.activeClass).removeClass(this.activeClass);p.add(a,this.activeClass);this.field.value=a.innerHTML;this.hiddenField.value=m.get(a,"data-value");this.oldAirport=m.get(a,"data-value");p.add(this.errorBox,this.hiddenClass);this.lightBox.hide();t.publish(lh.topics.book.AIRPORTATLAS_SELECTED,this.field.value,this.hiddenField.value);this.debugExit()},
_loadData:function(a,b){this.debugEnter("_loadData");var d={};d.app=this.app;d.lang=this.language;d.type=a;d.selected=b;var e=this;r.get(this.serviceUrl,{query:d,handleAs:"json"}).then(function(a){e.debugMsg("getting response: "+a);a.type==e._countryType&&(q.empty(e.airportSelect),e._clearAndFillSelect(a.cityOptions,e.citySelect,e.activeClass));a.type==e._cityType&&e._clearAndFillSelect(a.airportOptions,e.airportSelect,e.activeClass);if(a.type==e._airportType){e._clearAndFillSelect(a.cityOptions,
e.citySelect,e.activeClass);e._clearAndFillSelect(a.airportOptions,e.airportSelect,e.activeClass);k("#"+e.lightBox.id+" ."+e._countrySelectClass+" ."+e.activeClass).removeClass(e.activeClass);var b=null;c.forEach(k(e.countrySelect).children(),function(c){m.get(c,"data-value")==a.selectedCountry&&(b=c,p.add(c,e.activeClass))});b&&e._scrollToElement(e.countrySelect,b);var d=e._getActiveElement(e.citySelect);d&&e._scrollToElement(e.citySelect,d)}});this.debugExit()},_submitButtonClick:function(a){this.debugEnter("_submitButtonClick");
a&&(a.stopPropagation(),a.preventDefault());a=k("#"+this.lightBox.id+" ."+this._airportSelectClass+" ."+this.activeClass);0<a.length?(this.field.value=a[0].innerHTML,this.hiddenField.value=m.get(a[0],"data-value"),this.oldAirport=m.get(a[0],"data-value"),p.add(this.errorBox,this.hiddenClass),this.lightBox.hide(),t.publish(lh.topics.book.AIRPORTATLAS_SELECTED,this.field.value,this.hiddenField.value)):p.remove(this.errorBox,this.hiddenClass);this.debugExit()},_clearAndFillSelect:function(a,b,d){this.debugEnter("_clearAndFillSelect");
q.empty(b);var e;c.forEach(a,function(a){e=q.create("li",{innerHTML:a.text,"data-value":a.value},b);a.selected&&p.add(e,d)});this.debugExit()},_initOverlayElements:function(){this.debugEnter("_initOverlayElements");this.countrySelect||this.citySelect||this.airportSelect||this.errorBox||this.submitButton?this.debugMsg("Nothing to do. All fields are initialized."):(this.countrySelect=k("#"+this.lightBox.id+" ."+this._countrySelectClass)[0],this.citySelect=k("#"+this.lightBox.id+" ."+this._citySelectClass)[0],
this.airportSelect=k("#"+this.lightBox.id+" ."+this._airportSelectClass)[0],this.errorBox=k("#"+this.lightBox.id+" ."+this._errorBoxClass)[0],this.submitButton=k("#"+this.lightBox.id+" ."+this._submitButtonClass)[0]);this.lightBox.set("title",k("#"+this.lightBox.id+" h1")[0].innerHTML);var a=this._getActiveElement(this.countrySelect);a&&this._scrollToElement(this.countrySelect,a);this.debugExit()},_prefilling:function(a){this.debugEnter("_prefilling");this.oldAirport===a||"---"===a?this.debugMsg("No prefilling."):
(this.debugMsg("Prefilling: "+a),this._loadData(this._airportType,a));this.debugExit()},_scrollToElement:function(a,b){this.debugEnter("_scrollToElement");var c=n.position(a),d=n.position(b);Math.abs(d.y-c.y)>c.h&&(a.scrollTop=0,c=n.position(a),d=n.position(b),a.scrollTop=d.y-c.y);this.debugExit()},_getActiveElement:function(a){this.debugEnter("_getActiveElement");a=k("."+this.activeClass,a);a=0<a.length?a[0]:null;this.debugExit();return a}})})},"lh/widget/AreaAirportTypeAhead":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/window lh/util/logger lh/constants lh/widget/AirportAtlas dojo/aspect dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/keys dojo/on dojo/query dojo/request dojo/topic dijit/_WidgetBase dijit/layout/ContentPane dijit/popup dijit/registry".split(" "),
function(c,g,l,b,a,d,e,f,k,m,p,q,n,r,t,s,u,v,x,w,A,z,y){return g("lh.widget.AreaAirportTypeAhead",[d,w],{debug:!1,widgetPrefix:"typeahead_",fieldId:"",hiddenFieldId:"",url:"",minQueryLength:3,highlightSearchTerm:!0,isUpperCaseHiddenVal:!1,rep:"",app:"",language:"",site:"",portal:"LH",hiddenClass:"x-hidden",hoverClass:"dijitMenuItemHover",activeClass:"active",_airportType:"airport",airportAtlasUrl:"",airportAtlasServiceUrl:"",airportAtlasLabel:"Airport Directory",inWidgetId:"",messageAirportSelected:lh.topics.typeahead.AIRPORT_SELECTED,
messageAirportChanged:lh.topics.search.AIRPORT_CHANGED,isPopupOpen:!1,closeLabel:"close",displayCountryInList:!0,displayCountryInField:!0,searchDelay:250,filterFieldId:"",prefilledValue:"",prefilledCode:"",copyToFields:[],constructor:function(a){this.debugEnter("constructor");b.mixin(this,a);this.fieldId=this.id;this.field=m.byId(this.fieldId);this.hiddenField=m.byId(this.hiddenFieldId);""!==this.inWidgetId?(a=y.byId(this.inWidgetId))&&k.after(a,"startup",b.hitch(this,this._init)):this._init();this.debugExit()},
_init:function(){this.debugEnter("_init");this.field&&this.hiddenField&&this.url?(this.keyUpHandler=s.pausable(this.field,"keyup",b.hitch(this,this._onKeyUp)),s(this.field,"keypress",b.hitch(this,this._onKeyPress)),s(this.field,"keydown",b.hitch(this,this._onKeyDown)),s(this.field,"focus",b.hitch(this,this._focusInput)),s(this.field,"blur",b.hitch(this,this._blurInput)),x.subscribe(lh.topics.typeahead.RECENT_FLIGHT_SELECTED,b.hitch(this,this._setOldValue)),x.subscribe(this.messageAirportSelected+
"_"+this.field.id,b.hitch(this,"_copyAirport")),x.subscribe(this.messageAirportChanged+"_"+this.field.id,b.hitch(this,"_setOldValues")),this.oldValue=this.field.value,this.oldCode=this.hiddenField.value,this.oldFilterValue="",this._prefillField()):(this.debugWarn("Parameters are missing..."),this.debugWarn("Field: "+this.field),this.debugWarn("HiddenField: "+this.hiddenField),this.debugWarn("Url: "+this.url));this.debugExit()},_onKeyDown:function(a){this.debugEnter("_onKeyDown");this.isPopupOpen&&
a.keyCode===t.TAB&&this._closePopup();this.debugExit()},_onKeyPress:function(a){this.debugEnter("_onKeyPress");if(a.keyCode===t.ENTER){var b=this;this.keyUpHandler.pause();window.setTimeout(function(){b.keyUpHandler.resume()},500);this.isPopupOpen&&(a.preventDefault(),this._selectAirport(this._getSelectedAirport()))}this.debugExit()},_onKeyUp:function(a){this.debugEnter("_onKeyUp");this.searchTimer&&clearTimeout(this.searchTimer);if(this.field.value.length<this.minQueryLength)return this.debugMsg("Input smaller than minLength."),
this._checkToDeleteAirportCode(),this.isPopupOpen&&this._closePopup(a),this.debugExit(),!1;if(a.shiftKey&&34!==a.charCode&&39!==a.charCode&&(65>a.charCode||90<a.charCode)||a.altKey||a.ctrlKey&&118!==a.charCode)return this.debugMsg("No autosuggest for shortcuts."),this.debugExit(),!1;this.suggestionPopup||this._createDropdown();this.debugMsg("Pressed key: "+a.keyCode);if(a.keyCode===t.DOWN_ARROW||a.keyCode===t.PAGE_DOWN)if(this.isPopupOpen)this._navigateKeyboard(!0);else{if(0===this.suggestionList.innerHTML.length)return!1;
this._showPopup()}else if(a.keyCode===t.UP_ARROW||a.keyCode===t.PAGE_UP)if(this.isPopupOpen)this._navigateKeyboard(!1);else{if(0===this.suggestionList.innerHTML.length)return!1;this._showPopup()}else{if(a.keyCode===t.LEFT_ARROW||a.keyCode===t.RIGHT_ARROW)return!1;if(this.isPopupOpen&&a.keyCode===t.ESCAPE)this._closePopup();else{var b=this.field.value;if(b===this.oldValue)if((a=dojo.byId(this.filterFieldId))&&""!=a.value){if(a.value===this.oldFilterValue)return this.debugMsg("Field value and filter did not change."),
a=u("tr",this.suggestionList),0<a.length&&this._showPopup(),this.debugExit(),!1;this.debugMsg("Field value did not change but filter changed. Therefore we do a new request...")}else return this.debugMsg("Field value did not change and no filter defined."),a=u("tr",this.suggestionList),0<a.length&&this._showPopup(),this.debugExit(),!1;this.debugMsg("starting search "+b);this.field.label&&(this.field.label=null);var c=this;this.searchTimer=window.setTimeout(function(){c._loadData(b)},this.searchDelay)}}this.debugExit()},
_loadData:function(a){this.debugEnter("_loadData");var b={};b.query=a;b.rep=this.rep;b.site=this.site;b.lang=this.language;b.portal=this.portal;b.apptype=this.app;b.start=0;b.rd="y";var c=dojo.byId(this.filterFieldId);c&&""!=c.value&&(this.oldFilterValue=b.filter=c.value);var d=this;v.post(this.url,{data:b,handleAs:"json"}).then(function(b){d.debugMsg("getting response: "+b);d.oldValue=a;d._responseHandle(b)},function(a){d.debugErr("An error occured... "+a)});this.debugExit()},_responseHandle:function(a){this.debugEnter("_responseHandle");
if(a.items)if(0===a.items.length)this.debugMsg("no match"),n.empty(this.suggestionList),this.isPopupOpen&&this._closePopup();else{n.empty(this.suggestionList);var b=this;c.forEach(a.items,function(a,c){a.area?b._printAreaRow(a.area,a.items):b._printRow(a.airport,a.code,a.country)});n.place(this.popupContent,this.suggestionPopup.containerNode);isTouch&&window.scrollTo(0,r.position(this.field,!0).y);this._showPopup();this._selectFirstEntry();this._adjustScrollView(0)}else this.debugErr("Response does not include result.");
this.debugExit()},_checkToDeleteAirportCode:function(){this.debugEnter("_checkToDeleteAirportCode");(""===this.field.value||2>this.field.value.length)&&this._deleteAirportCode();this.debugExit()},_deleteAirportCode:function(){this.debugEnter("_deleteAirportCode");this.hiddenField.value="";this.debugExit()},_selectAirport:function(a){this.debugEnter("_selectAirport");this.field.value=p.get(a,"data-label");a=p.get(a,"data-code");this.isUpperCaseHiddenVal?(this.hiddenField.value=a.toUpperCase(),this.oldCode=
a.toUpperCase()):this.oldCode=this.hiddenField.value=a;this.oldValue=this.field.value;this.messageAirportSelected&&x.publish(this.messageAirportSelected,{code:a,name:this.field.value,fieldId:this.field.id});if(0<this.copyToFields.length)for(var b=0;b<this.copyToFields.length;b++)x.publish(this.messageAirportSelected+"_"+this.copyToFields[b],{code:a,name:this.field.value});this._closePopup();this.debugExit()},_copyAirport:function(a){this.debugEnter("_copyAirport");this.field.value||(this.oldValue=
this.field.value=a.name,this.isUpperCaseHiddenVal?(this.hiddenField.value=a.code.toUpperCase(),this.oldCode=a.code.toUpperCase()):this.oldCode=this.hiddenField.value=a.code,this.messageAirportSelected&&x.publish(this.messageAirportSelected,{code:a.code,name:a.name,fieldId:this.field.id}));this.debugExit()},_setOldValues:function(a){this.debugEnter("_setOldValues");this.oldValue=a.name;this.oldCode=this.isUpperCaseHiddenVal?a.code.toUpperCase():a.code;this.debugExit()},_createDropdown:function(){this.debugEnter("_createDropdown");
this.suggestionPopup=new A({id:this.widgetPrefix+this.fieldId+"_contentPane",className:"typeahead"});this.popupContent=n.create("div");this._addCloseButton(this.popupContent);this._addSuggestionList(this.popupContent);this._addAirportAtlas(this.popupContent);s(this.suggestionPopup,"click",function(a){return a.stopPropagation()});s(this.field,"click",function(a){return a.stopPropagation()});s(u("html")[0],"click",b.hitch(this,function(a){this._closePopup()}));this.debugExit()},_addCloseButton:function(a){this.debugEnter("_addCloseButton");
this.closeButton=n.create("a",{href:"#",id:this.widgetPrefix+this.fieldId+"_close",title:this.closeLabel,innerHTML:this.closeLabel,className:"close"},a);var b=this;s(this.closeButton,"click",function(a){b._closePopup(a)});this.debugExit()},_addSuggestionList:function(a){this.debugEnter("_addSuggestionList");this.suggestionListWrapper=n.create("div",{id:this.widgetPrefix+this.fieldId+"_list",className:"list"},a);this.suggestionList=n.create("table",null,this.suggestionListWrapper);this.debugExit()},
_addAirportAtlas:function(a){this.debugEnter("_addAirportAtlas");if(""==this.airportAtlasUrl&&""==this.airportAtlasServiceUrl)return this.debugMsg("No airport atlas."),this.debugExit(),!1;this.aaLink=dojo.create("a",{href:"#",id:this.widgetPrefix+this.fieldId+"_airportAtlasButton",innerHTML:this.airportAtlasLabel},a);dojo.create("span",{className:"airport-dir"},this.aaLink,"first");this.airportAtlas=new f({fieldId:this.fieldId,hiddenFieldId:this.hiddenFieldId,url:this.airportAtlasUrl,serviceUrl:this.airportAtlasServiceUrl,
app:this.app,language:this.language,id:this.aaLink.id,inWidgetId:this.suggestionPopup});s(this.aaLink,"click",b.hitch(this,this._closePopup));this.debugExit()},_showPopup:function(){this.debugEnter("_showPopup");z.open({id:this.widgetPrefix+this.fieldId,parent:this,popup:this.suggestionPopup,around:this.field});this.isPopupOpen=!0;x.publish(lh.topics.typeahead.STATE,"open");this.debugExit()},_closePopup:function(a){this.debugEnter("_closePopup");a&&l.stop(a);this.suggestionPopup&&this.isPopupOpen&&
(z.close(this.suggestionPopup),this.isPopupOpen=!1,x.publish(lh.topics.typeahead.STATE,"close"));this.debugExit()},_clearList:function(){this.debugEnter("_clearList");n.empty(this.suggestionList);this.debugExit()},_printAreaRow:function(a,b){this.debugEnter("_printAreaRow");var d=n.create("tr",{className:"label"},this.suggestionList);n.create("td",{innerHTML:a,className:"first"},d);n.create("td",null,d);n.create("td",null,d);var e=this;c.forEach(b,function(a,c){b.length-1===c?e._printRow(a.airport,
a.code,a.country,"area last"):e._printRow(a.airport,a.code,a.country,"area")});this.debugExit()},_printRow:function(a,c,d,e){this.debugEnter("_printRow");var f=a+" ("+c.toUpperCase()+")";d&&this.displayCountryInField&&(f+=", "+d);f=n.create("tr",{className:"dijitMenuItem","data-label":f,"data-code":c},this.suggestionList);s(f,"mouseenter",b.hitch(this,"_selectEntry"));s(f,"mouseleave",b.hitch(this,"_unselectEntry"));var g=this;s(f,"click",function(a){l.stop(a);a=u(a.target).closest("tr");0<a.length?
g._selectAirport(a[0]):g.debugErr("No tablerow found...")});e&&q.add(f,e);n.create("td",{innerHTML:this._highlightMatch(a,this.field.value),className:"first"},f);this.displayCountryInList?(n.create("td",{innerHTML:this._highlightMatch(c.toUpperCase(),this.field.value)},f),n.create("td",{innerHTML:this._highlightMatch(d?d:"",this.field.value),className:"last"},f)):n.create("td",{innerHTML:this._highlightMatch(c.toUpperCase(),this.field.value),className:"last"},f);this.debugExit()},_highlightMatch:function(a,
b){var c=a;if(this.highlightSearchTerm){this.debugEnter("highlightMatch");var d=RegExp(b,"ig"),c=c.replace(d,"\x3cb\x3e$\x26\x3c/b\x3e");"de"===this.language&&(b=b.replace(/oe/g,"\u00f6"),b=b.replace(/Oe/g,"\u00d6"),b=b.replace(/ae/g,"\u00e4"),b=b.replace(/Ae/g,"\u00c4"),b=b.replace(/ue/g,"\u00fc"),b=b.replace(/Ue/g,"\u00dc"),b=b.replace(/ss/g,"\u00df"),d=RegExp(b,"ig"),c=c.replace(d,"\x3cb\x3e$\x26\x3c/b\x3e"));this.debugExit()}return c},_selectEntry:function(a,b){this.debugEnter("_selectEntry");
var c=null;a&&(c=a.target);b&&(c=b);q.add(c,this.hoverClass);this.debugExit()},_unselectEntry:function(a,b){this.debugEnter("_unselectEntry");var c=null;a&&(c=a.target);b&&(c=b);q.remove(c,this.hoverClass);this.debugExit()},_navigateKeyboard:function(a){this.debugEnter("_navigateKeyboard");var b=this._getSelectedAirport();a=a?u(b).nextAll(".dijitMenuItem"):u(b).prevAll(".dijitMenuItem");this._unselectEntry(null,b);0<a.length?(this._selectEntry(null,a[0]),this._adjustScrollView(a[0])):(this._selectFirstEntry(),
this._adjustScrollView(this._getSelectedAirport()));this.debugExit()},_selectFirstEntry:function(){this.debugEnter("_selectFirstEntry");var a=u("#"+this.suggestionPopup.id+" tr.dijitMenuItem");0<a.length&&this._selectEntry(null,a[0]);this.debugExit()},_getSelectedAirport:function(){this.debugEnter("_getSelectedAirport");var a=null,b=u("#"+this.suggestionPopup.id+" tr.dijitMenuItemHover");0<b.length&&(a=b[0]);this.debugExit();return a},_adjustScrollView:function(a){this.debugEnter("_adjustView");if(0===
a)return this.suggestionListWrapper.scrollTop=0,!1;var b=r.position(this.suggestionListWrapper),c=r.position(a),d=b.h;300<d&&(d=300);if(Math.abs(c.y-b.y+c.h)>d||c.y<b.y)this.suggestionListWrapper.scrollTop=0,b=r.position(this.suggestionListWrapper),c=r.position(a),this.suggestionListWrapper.scrollTop=c.y-b.y;this.debugExit()},_focusInput:function(a){this.debugEnter("_focusInput");a=this.field.value;var b=this.hiddenField.value;this.oldCode&&this.oldValue&&this.oldCode===b&&this.oldValue===a&&(this.field.value=
"",this.hiddenField.value="");this.debugExit()},_blurInput:function(a){this.debugEnter("_blurInput");a=this.field.value;this.oldCode&&this.oldValue&&""===a&&(this.field.value=this.oldValue,this.hiddenField.value=this.oldCode);this.debugExit()},_prefillField:function(){this.debugEnter("_prefillField");if("geoip"===this.prefilledValue){var a=this;x.subscribe(lh.topics.typeahead.GEOLOCATION,function(b){a.field.value=b.name;a.oldValue=b.name;a.hiddenField.value=b.code;a.oldCode=b.code})}else""!==this.prefilledValue&&
(this.oldValue=this.field.value=this.prefilledValue,this.oldCode=this.hiddenField.value=this.prefilledCode);this.debugExit()},_setOldValue:function(a,b){this.debugEnter("_setOldValue");this.field===a&&(this.oldCode=this.oldValue=b);this.debugExit()}})})},"lh/helper/GeoLocation":function(){define("dojo/_base/declare dojo/_base/lang dojo/cookie dojo/json dojo/request dojo/topic lh/util/AMDConfigurationCookie lh/util/logger lh/constants".split(" "),function(c,g,l,b,a,d,e,f,k){return c("lh.helper.GeoLocation",
[f],{debug:!1,radius:100,language:"",appType:"",portal:"LH",_lhConfCookie:null,cookieLocationName:"loc",_lhServerSideCookie:null,serverSideCookieName:"LHIPLOC",url:"",constructor:function(a){this.debugEnter("constructor");g.mixin(this,a);this._lhConfCookie=e.getInstance();this._lhServerSideCookie=l(this.serverSideCookieName);navigator.geolocation?navigator.geolocation.getCurrentPosition(g.hitch(this,this.handleGeoSuccess),g.hitch(this,this.handleGeoError)):this._ipBasedLocationHandling();this.debugExit()},
handleGeoSuccess:function(a){this.debugEnter("handleGeoSuccess");var b=this._lhConfCookie.get_config_value(this.cookieLocationName),c=a.coords.longitude;a=a.coords.latitude;null!==b?this._isLongLatInRange(c,a,b.long,b.lat)?(this.debugMsg("Geo Location has not changed."),d.publish(lh.topics.typeahead.GEOLOCATION,{name:b.name,code:b.code})):(this.debugMsg("Geo Location has changed."),this._loadLocation(c,a)):(this.debugMsg("Cookie value could not be read for Geo comparison."),this._loadLocation(c,a));
this.debugExit()},handleGeoError:function(a){this.debugEnter("handleGeoError");switch(a.code){case a.PERMISSION_DENIED:this.debugErr("Permission has not been given");break;case a.POSITION_UNAVAILABLE:this.debugErr("Position is unavailble");break;case a.TIMEOUT:this.debugErr("Geolocation timeout");break;case a.UNKNOWN_ERROR:this.debugErr("An unknown error occured")}this.debugMsg("Error getting GeoLocation. Using ipbasedHandling...");this._ipBasedLocationHandling();this.debugExit()},_ipBasedLocationHandling:function(a){this.debugEnter("_ipBasedLocationHandling");
var c;this._lhServerSideCookie&&(c=b.parse(this._lhServerSideCookie));null!=c?(a=this._lhConfCookie.get_config_value(this.cookieLocationName),null!==a&&this._isLongLatInRange(c.long,c.lat,a.long,a.lat)?(this.debugMsg("IP Location has not changed. Serverside cookie lat:"+c.lat+", long:"+c.long+"; LHConfig cookie lat:"+a.lat+", long:"+a.long+";"),d.publish(lh.topics.typeahead.GEOLOCATION,{name:a.name,code:a.code})):(null!==a?this.debugMsg("IP Location changed. Serverside cookie lat:"+c.lat+", long:"+
c.long+"; LHConfig cookie lat:"+a.lat+", long:"+a.long+";"):this.debugMsg("Serverside cookie lat:"+c.lat+", long:"+c.long+"; no location data on  or no LHConfig cookie available at all."),this._loadLocation(c.long,c.lat))):this.debugErr("No server side cookie set or cookie data corrupt, no comparison...");this.debugExit()},_loadLocation:function(b,c){this.debugEnter("_loadLocation");var e={command:"prefill"};e.language=this.language;e.appType=this.appType;e.portal=this.portal;b&&c&&(e["long"]=b,e.lat=
c);var f=this;a.post(this.url,{data:e,handleAs:"json"}).then(function(a){a.long&&a.lat&&a.name&&a.code&&(f.debugMsg("Publish to typeaheads."),d.publish(lh.topics.typeahead.GEOLOCATION,a),f.debugMsg("Setting cookie."),f._lhConfCookie.set_config_value(f.cookieLocationName,{long:a.long,lat:a.lat,name:a.name,code:a.code}))},function(a){f.debugErr("An eror occured: "+a)});this.debugExit()},_isLongLatInRange:function(a,b,c,d){this.debugEnter("_isLongLatInRange");if(!a&&!b)return this.debugWarn("Long and Lat are empty:"+
a+","+b),this.debugExit(),!0;var e=!0;b=Math.PI*b/180;d=Math.PI*d/180;a=Math.PI*(a-c)/180;a=Math.sin(b)*Math.sin(d)+Math.cos(b)*Math.cos(d)*Math.cos(a);a=Math.acos(a);a=180*a/Math.PI;a=69.09*a*1.609344;a>this.radius&&(this.debugMsg("Distance: "+a),e=!1,this.debugMsg("In Range: "+e));this.debugExit();return e}})})},"lh/handler/AirportDropdownHandler":function(){define("dijit/registry dojo/_base/declare dojo/_base/lang dojo/dom dojo/on dojo/request lh/util/logger".split(" "),function(c,g,l,b,a,d,e){return g("lh.handler.AirportDropdownHandler",
[e],{debug:!1,url:"",countrySelectId:"",airportSelectId:"",app:"",language:"",type:"countryairports",defaultValueLabel:"Please select",constructor:function(b){this.debugEnter("constructor");g.safeMixin(this,b);this._countrySelect=c.byId(this.countrySelectId);this._airportSelect=c.byId(this.airportSelectId);this._countrySelect&&this._airportSelect&&""!==this.url?a(this._countrySelect,"change",l.hitch(this,this.loadAirports)):""===this.url?this.debugWarn("Url is missing."):(this.debugWarn("Necessary nodes are missing."),
this.debugWarn("countrySelect "+this._countrySelect),this.debugWarn("airportSelect "+this._airportSelect));this.debugExit()},loadAirports:function(){this.debugEnter("loadAirports");var a=this._countrySelect.get("value"),b={};b.selected=a;b.type=this.type;b.lang=this.language;b.app=this.app;var c=this;d.post(this.url,{data:b,handleAs:"json"}).then(function(a){c.debugMsg("Getting response: "+a.airportOptions);c._airportSelect.removeOption(c._airportSelect.getOptions());c._airportSelect.addOption({value:" ",
label:c.defaultValueLabel,selected:!0});var b;if(a.airportOptions)for(var d=0;d<a.airportOptions.length;d++)if(b=a.airportOptions[d],c._airportSelect.addOption({value:b.value,label:b.text,selected:b.selected}),b.items&&0<b.items.length)for(var e,f=0;f<b.items.length;f++)e=b.items[f],c._airportSelect.addOption({value:e.value,label:"\x26nbsp;\x26nbsp;\x26nbsp;"+e.text,selected:e.selected})});this.debugExit()}})})},"lh/app/app_aa":function(){define(["dojo","dijit","dojox"],function(c,g,l){c.provide("lh.app.app_aa");
lh_open_atlas=function(b){oAtlas=window.open("../app_aa/app_aa_main.jsp?sid\x3d"+b,"atlas","width\x3d430,height\x3d300,left\x3d200,top\x3d200");oAtlas.focus();return!1};lh_receive_atlas=function(b,a,d,e){oReceiveEle=document.getElementById(b);0<=oReceiveEle.type.indexOf("select")?(oNewEle=document.createElement("input"),oNewEle.setAttribute("type","text"),oNewEle.setAttribute("name",oReceiveEle.getAttribute("id")),oNewEle.setAttribute("id",oReceiveEle.getAttribute("id")),strNewWidth=getStyle(oReceiveEle,
"width"),""==strNewWidth?oNewEle.setAttribute("class",oReceiveEle.getAttribute("class")):-1!=navigator.userAgent.indexOf("Gecko")?(value=strNewWidth.substring(0,strNewWidth.length-2),unit=strNewWidth.substring(strNewWidth.length-2,strNewWidth.length),oNewEle.style.width=String(parseInt(value)+4)+unit):oNewEle.style.width=strNewWidth,oNewEle.setAttribute("value",a),oNewEle.setAttribute("onchange","delAirportCode('"+d+"')"),oParentEle=oReceiveEle.parentNode,oParentEle.replaceChild(oNewEle,oReceiveEle),
oNewEle.focus()):oReceiveEle.value=a;oReceiveHiddenEle=document.getElementById(d);oReceiveHiddenEle.value=e;c.publish(lh.topics.book.AIRPORTATLAS_SELECTED,[{field:oReceiveEle,hiddenField:oReceiveHiddenEle}])};bErrorFlag=!1;lh_select_airport=function(b){oApEle=g.byId(b)||document.getElementById(b);if(""==oApEle.value||"-1"==oApEle.value)return oErEle=document.getElementById(sErEleId),oErEle.style.display="block",bErrorFlag||window.resizeBy(0,30),bErrorFlag=!0,!1;try{if(!opener.lh_receive_atlas)throw"error";
aValues=oApEle.value.split("|");opener.lh_receive_atlas(sOpenerReceiveEleId,aValues[0],sOpenerReceiveHiddenEleId,aValues[1])}catch(a){}finally{window.setTimeout("window.close()",300)}};delAirportCode=function(b){obj=document.getElementById(b);obj.value="";return!0};getStyle=function(b,a){if(document.getElementById){var c=b.style[toCamelCase(a)];c||(document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(b,"").getPropertyValue(a):b.currentStyle&&(c=b.currentStyle[toCamelCase(a)]));
return c}};toCamelCase=function(b){var a=b.split("-");if(1==a.length)return a[0];b=0==b.indexOf("-")?a[0].charAt(0).toUpperCase()+a[0].substring(1):a[0];for(var c=1,e=a.length;c<e;c++){var f=a[c];b+=f.charAt(0).toUpperCase()+f.substring(1)}return b};duplicateField=function(b,a){targetObj=document.getElementById(a);""==targetObj.value&&(targetObj.value=b.value)}})},"lh/patch/dijit/Tooltip":function(){define(["dojo","dijit","dojox","dojo/require!dijit/Tooltip"],function(c,g,l){c.provide("lh.patch.dijit.Tooltip");
c.require("dijit.Tooltip");g.Tooltip.prototype._onHover=function(b){if(this.connectId){var a=null;(a=c.isArray(this.connectId)&&0<this.connectId.length?this.connectId[0]:this.connectId)&&c.hasAttr(a,"title")&&c.removeAttr(a,"title")}this._showTimer||(this._showTimer=this.defer(function(){this.open(b)},this.showDelay))};g.Tooltip._MasterTooltip.prototype._onShow=function(){this.aroundNode&&(this.oldaroundNode=this.aroundNode,c.setAttr(this.domNode,"aria-hidden","false"),null==this.oldAriaDescribedBy&&
(this.oldAriaDescribedBy=c.getAttr(this.aroundNode,"aria-describedby")),c.setAttr(this.aroundNode,"aria-describedby",this.id));has("ie")&&(this.domNode.style.filter="")};g.Tooltip._MasterTooltip.prototype._onHide=function(){this.oldaroundNode&&(c.setAttr(this.domNode,"aria-hidden","true"),null!=this.oldAriaDescribedBy&&(c.setAttr(this.oldaroundNode,"aria-describedby",this.oldAriaDescribedBy),this.oldAriaDescribedBy=null));this.domNode.style.cssText="";this.containerNode.innerHTML="";this._onDeck&&
(this.show.apply(this,this._onDeck),this._onDeck=null)};g.Tooltip._MasterTooltip.prototype.templateString='\x3cdiv class\x3d"dijitTooltip dijitTooltipLeft" id\x3d"dojoTooltip"\x3e\x3cdiv class\x3d"dijitTooltipConnector" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\x3e\x3cdiv class\x3d"dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point\x3d"containerNode" role\x3d"tooltip"\x3e\x3c/div\x3e\x3c/div\x3e'})},"lh/helper/iframe":function(){define(["dojo","dijit","dojox"],function(c,
g,l){c.provide("lh.helper.iframe");intScrollOffset=10;iFrameWidth=function(){if("undefined"!==typeof strEtIframeId&&strEtIframeId){objEtvIframe=document.getElementById(strEtIframeId);objEtvIframe.style.width="100%";objParent=objEtvIframe;do{objParent=objParent.parentNode;if("table"==objParent.tagName.toLowerCase()||"td"==objParent.tagName.toLowerCase())objParent.style.width="100%";if("body"==objParent.tagName.toLowerCase())break}while(objParent.id!=strIdWrapLH&&objParent.id!=strIdWrapMAM);objParent.id==
strIdWrapLH&&(objParent.style.width="100%");objParent.id==strIdWrapMAM&&(objParent.style.width="100%")}};iFrameHeight=function(b){var a=!1,d=0;null!=b&&(a=!0);iFrameObj=c.byId(strEtIframeId);c.isIE?d=document.frames(strEtIframeId).document.body.scrollHeight+intScrollOffset:(c.style(iFrameObj,"height","auto"),d=iFrameObj.contentDocument.body.scrollHeight+intScrollOffset);a&&d<b&&(d=b);c.style(iFrameObj,"height",d+"px");iFrameWidth();window.scrollTo(0,0)};iFrameHeightNoScroll=function(b){var a=!1,d=
0;null!=b&&(a=!0);d=c.isIE&&8>c.isIE?document.frames(strEtIframeId).document.body.scrollHeight+intScrollOffset:document.getElementById(strEtIframeId).contentDocument.body.scrollHeight+intScrollOffset;a&&d<b&&(d=b);c.style(strEtIframeId,"height",d+"px");iFrameWidth()};iFrameHeightKDS=function(b){c.style(strEtIframeId,"height",b+"px")};lh_iFrameLoaded=!1;lh_timerID=null;lh_timerRunning=!1;saf=0<navigator.userAgent.lastIndexOf("Safari");initializeTimer=function(){objEtIframe=c.byId(strEtIframeId);objSpSc=
c.byId(lh_spsc);0<=lh_spscSecs&&(c.style(objSpSc,"display","block"),c.style(objEtIframe,"visibility","hidden"),saf||(c.style(objEtIframe,"position","absolute"),c.style(objEtIframe,"top","0")),stopTimer(),startTimer())};stopTimer=function(){lh_timerRunning&&clearTimeout(lh_timerID);lh_timerRunning=!1};startTimer=function(){0==lh_spscSecs?(stopTimer(),lh_iFrameLoaded&&(c.style(objSpSc,"display","none"),c.style(objEtIframe,"visibility","visible"),c.style(objEtIframe,"position","relative"))):(lh_spscSecs-=
1,lh_timerRunning=!0,lh_timerID=self.setTimeout("startTimer()",1E3))};lh_iFrameLoadedAction=function(){lh_iFrameLoaded=!0;saf&&window.scrollTo(0,0);lh_timerRunning||(c.style(objSpSc,"display","none"),c.style(objEtIframe,"visibility","visible"),c.style(objEtIframe,"position","relative"))};closeSplash=function(){c.style(objSpSc,"display","none");c.style(objEtIframe,"visibility","visible");c.style(objEtIframe,"position","relative")};iFrameHeightWrapper=function(b){if(document.getElementById&&!document.all){var a=
c.byId(b);if(!a)return;c.style(a.contentDocument.body,"height","auto");iFrameBodyBox=c.marginBox(document.getElementById(b).contentDocument.body);h=iFrameBodyBox.h+intScrollOffset;c.style(b,"height",h+"px")}else document.all&&(document.getElementById(b).document.body.style.height="auto",h=document.getElementById(b).document.body.scrollHeight+intScrollOffset,c.style(b,"height",h+"px"));iFrameWidth();window.scrollTo(0,0)}})},"url:dijit/templates/Tooltip.html":'\x3cdiv class\x3d"dijitTooltip dijitTooltipLeft" id\x3d"dojoTooltip"\n\t\x3e\x3cdiv class\x3d"dijitTooltipConnector" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point\x3d"containerNode" role\x3d\'alert\'\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dijit/form/templates/TextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',"url:dijit/form/templates/ValidationTextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dijit/form/templates/DropDownBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}"\n\trole\x3d"combobox"\n\taria-haspopup\x3d"true"\n\tdata-dojo-attach-point\x3d"_popupStateNode"\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\n\t\tdata-dojo-attach-point\x3d"_buttonNode" role\x3d"presentation"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"button presentation" aria-hidden\x3d"true"\n\t\t\t${_buttonInputDisabled}\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d\'dijitReset dijitInputInner\' ${!nameAttrSetting} type\x3d"text" autocomplete\x3d"off"\n\t\t\tdata-dojo-attach-point\x3d"textbox,focusNode" role\x3d"textbox"\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dijit/templates/Menu.html":'\x3ctable class\x3d"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role\x3d"menu" tabIndex\x3d"${tabIndex}"\n\t   cellspacing\x3d"0"\x3e\n\t\x3ctbody class\x3d"dijitReset" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/tbody\x3e\n\x3c/table\x3e\n',"url:dijit/templates/MenuItem.html":'\x3ctr class\x3d"dijitReset dijitMenuItem" data-dojo-attach-point\x3d"focusNode" role\x3d"menuitem" tabIndex\x3d"-1"\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\n\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,textDirNode"\n\t\trole\x3d"presentation"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"arrowWrapper" style\x3d"visibility: hidden"\x3e\n\t\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitMenuExpand"\x3e\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"dijitMenuExpandA11y"\x3e+\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:dijit/templates/MenuSeparator.html":'\x3ctr class\x3d"dijitMenuSeparator" role\x3d"separator"\x3e\n\t\x3ctd class\x3d"dijitMenuSeparatorIconCell"\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorTop"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\n\t\x3c/td\x3e\n\t\x3ctd colspan\x3d"3" class\x3d"dijitMenuSeparatorLabelCell"\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorTop dijitMenuSeparatorLabel"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\n\t\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:dijit/form/templates/Select.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tdata-dojo-attach-point\x3d"_buttonNode,tableNode,focusNode,_popupStateNode" cellspacing\x3d\'0\' cellpadding\x3d\'0\'\n\trole\x3d"listbox" aria-haspopup\x3d"true"\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonContents" role\x3d"presentation"\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitButtonText"  data-dojo-attach-point\x3d"containerNode,textDirNode" role\x3d"presentation"\x3e\x3c/div\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitValidationContainer"\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t/\x3e\x3c/div\n\t\t\t\x3e\x3cinput type\x3d"hidden" ${!nameAttrSetting} data-dojo-attach-point\x3d"valueNode" value\x3d"${value}" aria-hidden\x3d"true"\n\t\t/\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer"\n\t\t\tdata-dojo-attach-point\x3d"titleNode" role\x3d"presentation"\n\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t\t${_buttonInputDisabled}\n\t\t/\x3e\x3c/td\n\t\x3e\x3c/tr\x3e\x3c/tbody\n\x3e\x3c/table\x3e\n',
"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" role\x3d"presentation"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\x3e\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\n\t\ttabIndex\x3d"-1" role\x3d"presentation" aria-hidden\x3d"true" data-dojo-attach-point\x3d"valueNode"\n/\x3e\x3c/span\x3e\n',
"url:dijit/form/templates/DropDownButton.html":'\x3cspan class\x3d"dijit dijitReset dijitInline"\n\t\x3e\x3cspan class\x3d\'dijitReset dijitInline dijitButtonNode\'\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" data-dojo-attach-point\x3d"_buttonNode"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"focusNode,titleNode,_arrowWrapperNode,_popupStateNode"\n\t\t\trole\x3d"button" aria-haspopup\x3d"true" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon"\n\t\t\t\tdata-dojo-attach-point\x3d"iconNode"\n\t\t\t\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonInner"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonChar"\x3e\x26#9660;\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen" tabIndex\x3d"-1"\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\n\t\tdata-dojo-attach-point\x3d"valueNode" role\x3d"presentation" aria-hidden\x3d"true"\n/\x3e\x3c/span\x3e\n',
"url:dijit/templates/Dialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"${id}_title"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\n\t\t\t\trole\x3d"heading" level\x3d"1"\x3e\x3c/span\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"${buttonCancel}" role\x3d"button" tabindex\x3d"0"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"*now":function(c){c(['dojo/i18n!*preload*lh/nls/lh2010_base*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ka","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh","zh-tw","zh-cn","mi","hr","nl","ROOT"]'])}}});
define("lh/lh2010_base",["dojo","dijit","dojox","dojo/require!dojo/date/locale,dojo/fx,dijit/Tooltip,dijit/layout/ContentPane,dijit/dijit,lh/constants,lh/validation,lh/util/logger,lh/app/bannerEyecatcher,lh/app/LHFormApplication,lh/navigation/FlyoutHandler,lh/handler/LanguageLayerHandler,lh/widget/calendar_cr579/newCal,lh/widget/AirportTypeAhead,lh/widget/Button,lh/widget/TypeAhead,lh/widget/form/KeySelect,lh/helper/PopupHelperGeneral,lh/helper/PopupHelperExtended,lh/helper/keepAlive,pi/headerLayer,pi/footerLayer,pi/labelFunctions,lh/handler/LayerHandler,lh/widget/flightmanagerStoredFlightSelect,lh/handler/SessionTimeoutHandler,lh/widget/AirportAtlas,lh/widget/AreaAirportTypeAhead,lh/helper/GeoLocation,lh/handler/AirportDropdownHandler,lh/app/app_aa,lh/widget/flightmanagerStoredFlightSelect,lh/patch/dijit/Tooltip,lh/helper/iframe"],function(c,
g,l){c.provide("lh.lh2010_base");c.require("dojo/date/locale");c.require("dojo/fx");c.require("dijit/Tooltip");c.require("dijit/layout/ContentPane");c.require("dijit/dijit");c.require("lh/constants");c.require("lh/validation");c.require("lh/util/logger");c.require("lh/app/bannerEyecatcher");c.require("lh/app/LHFormApplication");c.require("lh/navigation/FlyoutHandler");c.require("lh/handler/LanguageLayerHandler");c.require("lh/widget/calendar_cr579/newCal");c.require("lh/widget/AirportTypeAhead");
c.require("lh/widget/Button");c.require("lh/widget/TypeAhead");c.require("lh/widget/form/KeySelect");c.require("lh/helper/PopupHelperGeneral");c.require("lh/helper/PopupHelperExtended");c.require("lh/helper/keepAlive");c.require("pi/headerLayer");c.require("pi/footerLayer");c.require("pi/labelFunctions");c.require("lh/handler/LayerHandler");c.require("lh/widget/flightmanagerStoredFlightSelect");c.require("lh/handler/SessionTimeoutHandler");c.require("lh/widget/AirportAtlas");c.require("lh/widget/AreaAirportTypeAhead");
c.require("lh/helper/GeoLocation");c.require("lh/handler/AirportDropdownHandler");c.require("lh/app/app_aa");c.require("lh/widget/flightmanagerStoredFlightSelect");c.require("lh/patch/dijit/Tooltip");c.require("lh/helper/iframe")});
//# sourceMappingURL=lh2010_base.js.map